import{$ as He,$a as Me,$b as Uc,A as Lc,Aa as Ap,Ab as xo,B as ii,Ba as Hn,Bb as bt,C as _s,Ca as Et,Cb as jc,D as wr,Da as Op,Db as Vp,E as Ka,Ea as Fc,Eb as Ut,F as _r,Fa as Dp,Fb as Gt,G as Rc,Ga as ki,Gb as sl,H as Ii,Ha as Fp,Hb as al,I as vo,Ia as $c,Ib as qc,J as eo,Ja as tl,Jb as ll,K as bp,Ka as to,Kb as Vc,L as Pc,La as $p,Lb as Oi,M as xn,Ma as bs,Mb as Hp,N as Cp,Na as oe,Nb as Ho,O as xr,Oa as be,Ob as Cr,P as yo,Pa as zc,Pb as Up,Q as Mc,Qa as zp,Qb as Gp,R as Sp,Ra as nl,Rb as mn,S as Tp,Sa as br,Sb as Hc,T as Ac,Ta as Bc,Tb as Sr,U as wo,Ua as un,Ub as dl,V as Ip,Va as Cs,Vb as Wt,W as Nn,Wa as Kt,Wb as wt,X as bn,Xa as il,Xb as Ye,Y as an,Ya as Bp,Yb as Wp,Z as zt,Za as jp,Zb as pi,_ as Xa,_a as ol,_b as Zp,a as Pe,aa as Cn,ab as no,ac as Gc,b as st,ba as Ep,bb as te,bc as cl,c as Ki,ca as tt,cb as _o,d as Si,da as Oc,db as Ss,e as Ya,ea as je,eb as xe,f as Le,fa as We,fb as Ne,g as jn,ga as el,gb as ke,h as Xi,ha as kp,hb as kt,i as ni,ia as xs,ib as Pt,j as qn,ja as Ei,jb as Ct,k as Ja,ka as Fe,kb as nt,l as yp,la as Sn,lb as Ee,m as wp,ma as Tn,mb as io,n as Ec,na as Lp,nb as Li,o as kc,oa as hi,ob as qp,p as Jt,pa as Rp,pb as Ri,q as _t,qa as Pp,qb as ui,r as go,ra as Nr,rb as mi,s as _n,sa as Vn,sb as Ve,t as ot,ta as In,tb as Ht,u as Vo,ua as xt,ub as St,v as Ti,va as Nt,vb as Pi,w as _p,wa as nn,wb as Mi,x as xp,xa as Mp,xb as Ai,y as Np,ya as Ns,yb as rl,z as ft,za as Dc,zb as $e}from"./chunk-DKLNP43A.js";var Qg=Si((Zg,Ql)=>{"use strict";(function(i){if(typeof n!="function"){var n=function(g){return g};n.nonNative=!0}let r=n("plaintext"),o=n("html"),e=n("comment"),t=/<(\w*)>/g,a=/<\/?([^\s\/>]+)/;function d(g,v,x){g=g||"",v=v||[],x=x||"";let y=c(v,x);return u(g,y)}function s(g,v){g=g||[],v=v||"";let x=c(g,v);return function(w){return u(w||"",x)}}d.init_streaming_mode=s;function c(g,v){return g=p(g),{allowable_tags:g,tag_replacement:v,state:r,tag_buffer:"",depth:0,in_quote_char:""}}function u(g,v){if(typeof g!="string")throw new TypeError("'html' parameter must be a string");let x=v.allowable_tags,y=v.tag_replacement,w=v.state,S=v.tag_buffer,P=v.depth,j=v.in_quote_char,R="";for(let T=0,q=g.length;T<q;T++){let $=g[T];if(w===r)switch($){case"<":w=o,S+=$;break;default:R+=$;break}else if(w===o)switch($){case"<":if(j)break;P++;break;case">":if(j)break;if(P){P--;break}j="",w=r,S+=">",x.has(m(S))?R+=S:R+=y,S="";break;case'"':case"'":$===j?j="":j=j||$,S+=$;break;case"-":S==="<!-"&&(w=e),S+=$;break;case" ":case`
`:if(S==="<"){w=r,R+="< ",S="";break}S+=$;break;default:S+=$;break}else if(w===e)switch($){case">":S.slice(-2)=="--"&&(w=r),S="";break;default:S+=$;break}}return v.state=w,v.tag_buffer=S,v.depth=P,v.in_quote_char=j,R}function p(g){let v=new Set;if(typeof g=="string"){let x;for(;x=t.exec(g);)v.add(x[1])}else!n.nonNative&&typeof g[n.iterator]=="function"?v=new Set(g):typeof g.forEach=="function"&&g.forEach(v.add,v);return v}function m(g){let v=a.exec(g);return v?v[1].toLowerCase():null}typeof define=="function"&&define.amd?define(function(){return d}):typeof Ql=="object"&&Ql.exports?Ql.exports=d:i.striptags=d})(Zg)});var r0=Si((o0,td)=>{"use strict";function Je(i){return new Je.Viewer(i)}(function(i){i.version={versionStr:"5.0.0",major:parseInt("5",10),minor:parseInt("0",10),revision:parseInt("0",10)};var n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Promise]":"promise","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},r=Object.prototype.toString,o=Object.prototype.hasOwnProperty;i.isFunction=function(e){return i.type(e)==="function"},i.isArray=Array.isArray||function(e){return i.type(e)==="array"},i.isWindow=function(e){return e&&typeof e=="object"&&"setInterval"in e},i.type=function(e){return e==null?String(e):n[r.call(e)]||"object"},i.isPlainObject=function(e){if(!e||Je.type(e)!=="object"||e.nodeType||i.isWindow(e)||e.constructor&&!o.call(e,"constructor")&&!o.call(e.constructor.prototype,"isPrototypeOf"))return!1;var t;for(var a in e)t=a;return t===void 0||o.call(e,t)},i.isEmptyObject=function(e){for(var t in e)return!1;return!0},i.freezeObject=function(e){return Object.freeze?i.freezeObject=Object.freeze:i.freezeObject=function(t){return t},i.freezeObject(e)},i.supportsCanvas=function(){var e=document.createElement("canvas");return!!(i.isFunction(e.getContext)&&e.getContext("2d"))}(),i.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch{t=!0}return t},i.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),i.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),i.supportsEventListenerOptions=function(){var e=0;if(i.supportsAddEventListener)try{var t={get capture(){return e++,!1},get once(){return e++,!1},get passive(){return e++,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{e=0}return e>=3}(),i.getCurrentPixelDensityRatio=function(){if(i.supportsCanvas){var e=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return Math.max(t,1)/a}else return 1},i.pixelDensityRatio=i.getCurrentPixelDensityRatio()})(Je);(function(i){i.extend=function(){var a,d,s,c,u,p,m=arguments[0]||{},g=arguments.length,v=!1,x=1;for(typeof m=="boolean"&&(v=m,m=arguments[1]||{},x=2),typeof m!="object"&&!Je.isFunction(m)&&(m={}),g===x&&(m=this,--x);x<g;x++)if(a=arguments[x],a!==null||a!==void 0)for(d in a){var y=Object.getOwnPropertyDescriptor(a,d);if(y!==void 0){if(y.get||y.set){Object.defineProperty(m,d,y);continue}c=y.value}else{i.console.warn('Could not copy inherited property "'+d+'".');continue}m!==c&&(v&&c&&(Je.isPlainObject(c)||(u=Je.isArray(c)))?(s=m[d],u?(u=!1,p=s&&Je.isArray(s)?s:[]):p=s&&Je.isPlainObject(s)?s:{},m[d]=Je.extend(v,p,c)):c!==void 0&&(m[d]=c))}return m};var n=function(){if(typeof navigator!="object")return!1;var a=navigator.userAgent;return typeof a!="string"?!1:a.indexOf("iPhone")!==-1||a.indexOf("iPad")!==-1||a.indexOf("iPod")!==-1};i.extend(i,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:n(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,maxTilesPerFrame:1,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,overlayPreserveContentDirection:!0,opacity:1,compositeOperation:null,drawer:["webgl","canvas","html"],drawerOptions:{webgl:{},canvas:{},html:{},custom:{}},preload:!1,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,tileRetryMax:0,tileRetryDelay:2500,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},delegate:function(a,d){return function(){var s=arguments;return s===void 0&&(s=[]),d.apply(a,s)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(a){return i._viewers.get(this.getElement(a))},getElement:function(a){return typeof a=="string"&&(a=document.getElementById(a)),a},getElementPosition:function(a){var d=new i.Point,s,c;for(a=i.getElement(a),s=i.getElementStyle(a).position==="fixed",c=t(a,s);c;)d.x+=a.offsetLeft,d.y+=a.offsetTop,s&&(d=d.plus(i.getPageScroll())),a=c,s=i.getElementStyle(a).position==="fixed",c=t(a,s);return d},getElementOffset:function(a){a=i.getElement(a);var d=a&&a.ownerDocument,s,c,u={top:0,left:0};return d?(s=d.documentElement,typeof a.getBoundingClientRect<"u"&&(u=a.getBoundingClientRect()),c=d===d.window?d:d.nodeType===9?d.defaultView||d.parentWindow:!1,new i.Point(u.left+(c.pageXOffset||s.scrollLeft)-(s.clientLeft||0),u.top+(c.pageYOffset||s.scrollTop)-(s.clientTop||0))):new i.Point},getElementSize:function(a){return a=i.getElement(a),new i.Point(a.clientWidth,a.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(a){return a=i.getElement(a),a.currentStyle}:function(a){return a=i.getElement(a),window.getComputedStyle(a,"")},getCssPropertyWithVendorPrefix:function(a){var d={};return i.getCssPropertyWithVendorPrefix=function(s){if(d[s]!==void 0)return d[s];var c=document.createElement("div").style,u=null;if(c[s]!==void 0)u=s;else for(var p=["Webkit","Moz","MS","O","webkit","moz","ms","o"],m=i.capitalizeFirstLetter(s),g=0;g<p.length;g++){var v=p[g]+m;if(c[v]!==void 0){u=v;break}}return d[s]=u,u},i.getCssPropertyWithVendorPrefix(a)},capitalizeFirstLetter:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},positiveModulo:function(a,d){var s=a%d;return s<0&&(s+=d),s},pointInElement:function(a,d){a=i.getElement(a);var s=i.getElementOffset(a),c=i.getElementSize(a);return d.x>=s.x&&d.x<s.x+c.x&&d.y<s.y+c.y&&d.y>=s.y},getMousePosition:function(a){if(typeof a.pageX=="number")i.getMousePosition=function(d){var s=new i.Point;return s.x=d.pageX,s.y=d.pageY,s};else if(typeof a.clientX=="number")i.getMousePosition=function(d){var s=new i.Point;return s.x=d.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,s.y=d.clientY+document.body.scrollTop+document.documentElement.scrollTop,s};else throw new Error("Unknown event mouse position, no known technique.");return i.getMousePosition(a)},getPageScroll:function(){var a=document.documentElement||{},d=document.body||{};if(typeof window.pageXOffset=="number")i.getPageScroll=function(){return new i.Point(window.pageXOffset,window.pageYOffset)};else if(d.scrollLeft||d.scrollTop)i.getPageScroll=function(){return new i.Point(document.body.scrollLeft,document.body.scrollTop)};else if(a.scrollLeft||a.scrollTop)i.getPageScroll=function(){return new i.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new i.Point(0,0);return i.getPageScroll()},setPageScroll:function(a){if(typeof window.scrollTo<"u")i.setPageScroll=function(c){window.scrollTo(c.x,c.y)};else{var d=i.getPageScroll();if(d.x===a.x&&d.y===a.y)return;document.body.scrollLeft=a.x,document.body.scrollTop=a.y;var s=i.getPageScroll();if(s.x!==d.x&&s.y!==d.y){i.setPageScroll=function(c){document.body.scrollLeft=c.x,document.body.scrollTop=c.y};return}if(document.documentElement.scrollLeft=a.x,document.documentElement.scrollTop=a.y,s=i.getPageScroll(),s.x!==d.x&&s.y!==d.y){i.setPageScroll=function(c){document.documentElement.scrollLeft=c.x,document.documentElement.scrollTop=c.y};return}i.setPageScroll=function(c){}}i.setPageScroll(a)},getWindowSize:function(){var a=document.documentElement||{},d=document.body||{};if(typeof window.innerWidth=="number")i.getWindowSize=function(){return new i.Point(window.innerWidth,window.innerHeight)};else if(a.clientWidth||a.clientHeight)i.getWindowSize=function(){return new i.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(d.clientWidth||d.clientHeight)i.getWindowSize=function(){return new i.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return i.getWindowSize()},makeCenteredNode:function(a){a=i.getElement(a);var d=[i.makeNeutralElement("div"),i.makeNeutralElement("div"),i.makeNeutralElement("div")];return i.extend(d[0].style,{display:"table",height:"100%",width:"100%"}),i.extend(d[1].style,{display:"table-row"}),i.extend(d[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),d[0].appendChild(d[1]),d[1].appendChild(d[2]),d[2].appendChild(a),d[0]},makeNeutralElement:function(a){var d=document.createElement(a),s=d.style;return s.background="transparent none",s.border="none",s.margin="0px",s.padding="0px",s.position="static",d},now:function(){return Date.now?i.now=Date.now:i.now=function(){return new Date().getTime()},i.now()},makeTransparentImage:function(a){var d=i.makeNeutralElement("img");return d.src=a,d},setElementOpacity:function(a,d,s){var c,u;a=i.getElement(a),s&&!i.Browser.alpha&&(d=Math.round(d)),i.Browser.opacity?a.style.opacity=d<1?d:"":d<1?(c=Math.round(100*d),u="alpha(opacity="+c+")",a.style.filter=u):a.style.filter=""},setElementTouchActionNone:function(a){a=i.getElement(a),typeof a.style.touchAction<"u"?a.style.touchAction="none":typeof a.style.msTouchAction<"u"&&(a.style.msTouchAction="none")},setElementPointerEvents:function(a,d){a=i.getElement(a),typeof a.style<"u"&&typeof a.style.pointerEvents<"u"&&(a.style.pointerEvents=d)},setElementPointerEventsNone:function(a){i.setElementPointerEvents(a,"none")},addClass:function(a,d){a=i.getElement(a),a.className?(" "+a.className+" ").indexOf(" "+d+" ")===-1&&(a.className+=" "+d):a.className=d},indexOf:function(a,d,s){return Array.prototype.indexOf?this.indexOf=function(c,u,p){return c.indexOf(u,p)}:this.indexOf=function(c,u,p){var m,g=p||0,v;if(!c)throw new TypeError;if(v=c.length,v===0||g>=v)return-1;for(g<0&&(g=v-Math.abs(g)),m=g;m<v;m++)if(c[m]===u)return m;return-1},this.indexOf(a,d,s)},removeClass:function(a,d){var s,c=[],u;for(a=i.getElement(a),s=a.className.split(/\s+/),u=0;u<s.length;u++)s[u]&&s[u]!==d&&c.push(s[u]);a.className=c.join(" ")},normalizeEventListenerOptions:function(a){var d;return typeof a<"u"?typeof a=="boolean"?d=i.supportsEventListenerOptions?{capture:a}:a:d=i.supportsEventListenerOptions?a:typeof a.capture<"u"?a.capture:!1:d=i.supportsEventListenerOptions?{capture:!1}:!1,d},addEvent:function(){if(i.supportsAddEventListener)return function(a,d,s,c){c=i.normalizeEventListenerOptions(c),a=i.getElement(a),a.addEventListener(d,s,c)};if(document.documentElement.attachEvent&&document.attachEvent)return function(a,d,s){a=i.getElement(a),a.attachEvent("on"+d,s)};throw new Error("No known event model.")}(),removeEvent:function(){if(i.supportsRemoveEventListener)return function(a,d,s,c){c=i.normalizeEventListenerOptions(c),a=i.getElement(a),a.removeEventListener(d,s,c)};if(document.documentElement.detachEvent&&document.detachEvent)return function(a,d,s){a=i.getElement(a),a.detachEvent("on"+d,s)};throw new Error("No known event model.")}(),cancelEvent:function(a){a.preventDefault()},eventIsCanceled:function(a){return a.defaultPrevented},stopEvent:function(a){a.stopPropagation()},createCallback:function(a,d){console.error("The createCallback function is deprecated and will be removed in future versions. Please use alternativeFunction instead.");var s=[],c;for(c=2;c<arguments.length;c++)s.push(arguments[c]);return function(){var u=s.concat([]),p;for(p=0;p<arguments.length;p++)u.push(arguments[p]);return d.apply(a,u)}},getUrlParameter:function(a){var d=e[a];return d||null},getUrlProtocol:function(a){var d=a.match(/^([a-z]+:)\/\//i);return d===null?window.location.protocol:d[1].toLowerCase()},createAjaxRequest:function(){if(window.XMLHttpRequest)return i.createAjaxRequest=function(){return new XMLHttpRequest},new XMLHttpRequest;throw new Error("Browser doesn't support XMLHttpRequest.")},makeAjaxRequest:function(a,d,s){var c,u,p,m;i.isPlainObject(a)&&(d=a.success,s=a.error,c=a.withCredentials,u=a.headers,p=a.responseType||null,m=a.postData||null,a=a.url);var g=i.getUrlProtocol(a),v=i.createAjaxRequest();if(!i.isFunction(d))throw new Error("makeAjaxRequest requires a success callback");v.onreadystatechange=function(){v.readyState===4&&(v.onreadystatechange=function(){},v.status>=200&&v.status<300||v.status===0&&g!=="http:"&&g!=="https:"?d(v):i.isFunction(s)?s(v):i.console.error("AJAX request returned %d: %s",v.status,a))};var x=m?"POST":"GET";try{if(v.open(x,a,!0),p&&(v.responseType=p),u)for(var y in u)Object.prototype.hasOwnProperty.call(u,y)&&u[y]&&v.setRequestHeader(y,u[y]);c&&(v.withCredentials=!0),v.send(m)}catch(w){i.console.error("%s while making AJAX request: %s",w.name,w.message),v.onreadystatechange=function(){},i.isFunction(s)&&s(v,w)}return v},jsonp:function(a){var d,s=a.url,c=document.head||document.getElementsByTagName("head")[0]||document.documentElement,u=a.callbackName||"openseadragon"+i.now(),p=window[u],m="$1"+u+"$2",g=a.param||"callback",v=a.callback;s=s.replace(/(=)\?(&|$)|\?\?/i,m),s+=(/\?/.test(s)?"&":"?")+g+"="+u,window[u]=function(x){if(p)window[u]=p;else try{delete window[u]}catch{}v&&i.isFunction(v)&&v(x)},d=document.createElement("script"),(a.async!==void 0||a.async!==!1)&&(d.async="async"),a.scriptCharset&&(d.charset=a.scriptCharset),d.src=s,d.onload=d.onreadystatechange=function(x,y){(y||!d.readyState||/loaded|complete/.test(d.readyState))&&(d.onload=d.onreadystatechange=null,c&&d.parentNode&&c.removeChild(d),d=void 0)},c.insertBefore(d,c.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(a){if(window.DOMParser)i.parseXml=function(d){var s=null,c;return c=new DOMParser,s=c.parseFromString(d,"text/xml"),s};else throw new Error("Browser doesn't support XML DOM.");return i.parseXml(a)},parseJSON:function(a){return i.parseJSON=window.JSON.parse,i.parseJSON(a)},imageFormatSupported:function(a){return a=a||"",!!o[a.toLowerCase()]},setImageFormatsSupported:function(a){i.extend(o,a)}});var r=function(a){};i.console=window.console||{log:r,debug:r,info:r,warn:r,error:r,assert:r},i.Browser={vendor:i.BROWSERS.UNKNOWN,version:0,alpha:!0};var o={avif:!0,bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1,webp:!0},e={};(function(){var a=navigator.appVersion,d=navigator.userAgent,s;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(i.Browser.vendor=i.BROWSERS.IE,i.Browser.version=parseFloat(d.substring(d.indexOf("MSIE")+5,d.indexOf(";",d.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(d.indexOf("Edge")>=0?(i.Browser.vendor=i.BROWSERS.EDGE,i.Browser.version=parseFloat(d.substring(d.indexOf("Edge")+5))):d.indexOf("Edg")>=0?(i.Browser.vendor=i.BROWSERS.CHROMEEDGE,i.Browser.version=parseFloat(d.substring(d.indexOf("Edg")+4))):d.indexOf("Firefox")>=0?(i.Browser.vendor=i.BROWSERS.FIREFOX,i.Browser.version=parseFloat(d.substring(d.indexOf("Firefox")+8))):d.indexOf("Safari")>=0?(i.Browser.vendor=d.indexOf("Chrome")>=0?i.BROWSERS.CHROME:i.BROWSERS.SAFARI,i.Browser.version=parseFloat(d.substring(d.substring(0,d.indexOf("Safari")).lastIndexOf("/")+1,d.indexOf("Safari")))):(s=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),s.exec(d)!==null&&(i.Browser.vendor=i.BROWSERS.IE,i.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":i.Browser.vendor=i.BROWSERS.OPERA,i.Browser.version=parseFloat(a);break}var c=window.location.search.substring(1),u=c.split("&"),p,m,g;for(g=0;g<u.length;g++)if(p=u[g],m=p.indexOf("="),m>0){var v=p.substring(0,m),x=p.substring(m+1);try{e[v]=decodeURIComponent(x)}catch{i.console.error("Ignoring malformed URL parameter: %s=%s",v,x)}}i.Browser.alpha=!(i.Browser.vendor===i.BROWSERS.CHROME&&i.Browser.version<2),i.Browser.opacity=!0,i.Browser.vendor===i.BROWSERS.IE&&i.console.error("Internet Explorer is not supported by OpenSeadragon")})(),function(a){var d=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,s=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame;if(d&&s)i.requestAnimationFrame=function(){return d.apply(a,arguments)},i.cancelAnimationFrame=function(){return s.apply(a,arguments)};else{var c=[],u=[],p=0,m;i.requestAnimationFrame=function(g){return c.push([++p,g]),m||(m=setInterval(function(){if(c.length){var v=i.now(),x=u;for(u=c,c=x;u.length;)u.shift()[1](v)}else clearInterval(m),m=void 0},1e3/50)),p},i.cancelAnimationFrame=function(g){var v,x;for(v=0,x=c.length;v<x;v+=1)if(c[v][0]===g){c.splice(v,1);return}for(v=0,x=u.length;v<x;v+=1)if(u[v][0]===g){u.splice(v,1);return}}}}(window);function t(a,d){return d&&a!==document.body?document.body:a.offsetParent}})(Je);(function(i,n){typeof define=="function"&&define.amd?define([],n):typeof td=="object"&&td.exports?td.exports=n():i.OpenSeadragon=n()})(o0,function(){return Je});(function(i){class n{constructor(o){o||(o=[0,0,0,0,0,0,0,0,0]),this.values=o}static makeIdentity(){return new n([1,0,0,0,1,0,0,0,1])}static makeTranslation(o,e){return new n([1,0,0,0,1,0,o,e,1])}static makeRotation(o){var e=Math.cos(o),t=Math.sin(o);return new n([e,-t,0,t,e,0,0,0,1])}static makeScaling(o,e){return new n([o,0,0,0,e,0,0,0,1])}multiply(o){let e=this.values,t=o.values;var a=e[0*3+0],d=e[0*3+1],s=e[0*3+2],c=e[1*3+0],u=e[1*3+1],p=e[1*3+2],m=e[2*3+0],g=e[2*3+1],v=e[2*3+2],x=t[0*3+0],y=t[0*3+1],w=t[0*3+2],S=t[1*3+0],P=t[1*3+1],j=t[1*3+2],R=t[2*3+0],T=t[2*3+1],q=t[2*3+2];return new n([x*a+y*c+w*m,x*d+y*u+w*g,x*s+y*p+w*v,S*a+P*c+j*m,S*d+P*u+j*g,S*s+P*p+j*v,R*a+T*c+q*m,R*d+T*u+q*g,R*s+T*p+q*v])}}i.Mat3=n})(Je);(function(i){var n={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.fullscreenElement},n.requestFullScreen=function(r){return r.requestFullscreen().catch(function(o){i.console.error("Fullscreen request failed: ",o)})},n.exitFullScreen=function(){document.exitFullscreen().catch(function(r){i.console.error("Error while exiting fullscreen: ",r)})},n.fullScreenEventName="fullscreenchange",n.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.msFullscreenElement},n.requestFullScreen=function(r){return r.msRequestFullscreen()},n.exitFullScreen=function(){document.msExitFullscreen()},n.fullScreenEventName="MSFullscreenChange",n.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.webkitFullscreenElement},n.requestFullScreen=function(r){return r.webkitRequestFullscreen()},n.exitFullScreen=function(){document.webkitExitFullscreen()},n.fullScreenEventName="webkitfullscreenchange",n.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},n.requestFullScreen=function(r){return r.webkitRequestFullScreen()},n.exitFullScreen=function(){document.webkitCancelFullScreen()},n.fullScreenEventName="webkitfullscreenchange",n.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.mozFullScreenElement},n.requestFullScreen=function(r){return r.mozRequestFullScreen()},n.exitFullScreen=function(){document.mozCancelFullScreen()},n.fullScreenEventName="mozfullscreenchange",n.fullScreenErrorEventName="mozfullscreenerror"),n.isFullScreen=function(){return n.getFullScreenElement()!==null},n.cancelFullScreen=function(){i.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),n.exitFullScreen()},i.extend(i,n)})(Je);(function(i){i.EventSource=function(){this.events={},this._rejectedEventList={}},i.EventSource.prototype={addOnceHandler:function(n,r,o,e,t){var a=this;e=e||1;var d=0,s=function(c){return d++,d===e&&a.removeHandler(n,s),r(c)};return this.addHandler(n,s,o,t)},addHandler:function(n,r,o,e){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,n))return i.console.error(`Error adding handler for ${n}. ${this._rejectedEventList[n]}`),!1;var t=this.events[n];if(t||(this.events[n]=t=[]),r&&i.isFunction(r)){var a=t.length,d={handler:r,userData:o||null,priority:e||0};for(t[a]=d;a>0&&t[a-1].priority<t[a].priority;)t[a]=t[a-1],t[a-1]=d,a--}return!0},removeHandler:function(n,r){var o=this.events[n],e=[],t;if(o&&i.isArray(o)){for(t=0;t<o.length;t++)o[t].handler!==r&&e.push(o[t]);this.events[n]=e}},numberOfHandlers:function(n){var r=this.events[n];return r?r.length:0},removeAllHandlers:function(n){if(n)this.events[n]=[];else for(var r in this.events)this.events[r]=[]},getHandler:function(n){var r=this.events[n];return!r||!r.length?null:(r=r.length===1?[r[0]]:Array.apply(null,r),function(o,e){var t,a=r.length;for(t=0;t<a;t++)r[t]&&(e.eventSource=o,e.userData=r[t].userData,r[t].handler(e))})},raiseEvent:function(n,r){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,n))return i.console.error(`Error adding handler for ${n}. ${this._rejectedEventList[n]}`),!1;var o=this.getHandler(n);return o&&o(this,r||{}),!0},rejectEventHandler(n,r=""){this._rejectedEventList[n]=r},allowEventHandler(n){delete this._rejectedEventList[n]}}})(Je);(function(i){var n=[],r={};i.MouseTracker=function(A){n.push(this);var M=arguments;i.isPlainObject(A)||(A={element:M[0],clickTimeThreshold:M[1],clickDistThreshold:M[2]}),this.hash=Math.random(),this.element=i.getElement(A.element),this.clickTimeThreshold=A.clickTimeThreshold||i.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=A.clickDistThreshold||i.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=A.dblClickTimeThreshold||i.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=A.dblClickDistThreshold||i.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=A.userData||null,this.stopDelay=A.stopDelay||50,this.preProcessEventHandler=A.preProcessEventHandler||null,this.contextMenuHandler=A.contextMenuHandler||null,this.enterHandler=A.enterHandler||null,this.leaveHandler=A.leaveHandler||null,this.exitHandler=A.exitHandler||null,this.overHandler=A.overHandler||null,this.outHandler=A.outHandler||null,this.pressHandler=A.pressHandler||null,this.nonPrimaryPressHandler=A.nonPrimaryPressHandler||null,this.releaseHandler=A.releaseHandler||null,this.nonPrimaryReleaseHandler=A.nonPrimaryReleaseHandler||null,this.moveHandler=A.moveHandler||null,this.scrollHandler=A.scrollHandler||null,this.clickHandler=A.clickHandler||null,this.dblClickHandler=A.dblClickHandler||null,this.dragHandler=A.dragHandler||null,this.dragEndHandler=A.dragEndHandler||null,this.pinchHandler=A.pinchHandler||null,this.stopHandler=A.stopHandler||null,this.keyDownHandler=A.keyDownHandler||null,this.keyUpHandler=A.keyUpHandler||null,this.keyHandler=A.keyHandler||null,this.focusHandler=A.focusHandler||null,this.blurHandler=A.blurHandler||null;var K=this;r[this.hash]={click:function(ee){S(K,ee)},dblclick:function(ee){P(K,ee)},keydown:function(ee){j(K,ee)},keyup:function(ee){R(K,ee)},keypress:function(ee){T(K,ee)},focus:function(ee){q(K,ee)},blur:function(ee){$(K,ee)},contextmenu:function(ee){z(K,ee)},wheel:function(ee){I(K,ee)},mousewheel:function(ee){Z(K,ee)},DOMMouseScroll:function(ee){Z(K,ee)},MozMousePixelScroll:function(ee){Z(K,ee)},losecapture:function(ee){se(K,ee)},mouseenter:function(ee){ue(K,ee)},mouseleave:function(ee){X(K,ee)},mouseover:function(ee){ce(K,ee)},mouseout:function(ee){fe(K,ee)},mousedown:function(ee){Te(K,ee)},mouseup:function(ee){we(K,ee)},mousemove:function(ee){ye(K,ee)},touchstart:function(ee){ge(K,ee)},touchend:function(ee){ae(K,ee)},touchmove:function(ee){U(K,ee)},touchcancel:function(ee){ve(K,ee)},gesturestart:function(ee){O(K,ee)},gesturechange:function(ee){ne(K,ee)},gotpointercapture:function(ee){he(K,ee)},lostpointercapture:function(ee){Q(K,ee)},pointerenter:function(ee){ue(K,ee)},pointerleave:function(ee){X(K,ee)},pointerover:function(ee){ce(K,ee)},pointerout:function(ee){fe(K,ee)},pointerdown:function(ee){Te(K,ee)},pointerup:function(ee){we(K,ee)},pointermove:function(ee){ye(K,ee)},pointercancel:function(ee){W(K,ee)},pointerupcaptured:function(ee){me(K,ee)},pointermovecaptured:function(ee){de(K,ee)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,i.MouseTracker.havePointerEvents&&i.setElementPointerEvents(this.element,"auto"),this.exitHandler&&i.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),A.startDisabled||this.setTracking(!0)},i.MouseTracker.prototype={destroy:function(){var A;for(d(this),this.element=null,A=0;A<n.length;A++)if(n[A]===this){n.splice(A,1);break}r[this.hash]=null,delete r[this.hash]},isTracking:function(){return r[this.hash].tracking},setTracking:function(A){return A?a(this):d(this),this},getActivePointersListByType:function(A){var M=r[this.hash],K,ee=M?M.activePointersLists.length:0,F;for(K=0;K<ee;K++)if(M.activePointersLists[K].type===A)return M.activePointersLists[K];return F=new i.MouseTracker.GesturePointList(A),M&&M.activePointersLists.push(F),F},getActivePointerCount:function(){var A=r[this.hash],M,K=A.activePointersLists.length,ee=0;for(M=0;M<K;M++)ee+=A.activePointersLists[M].getLength();return ee},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var o=function(){try{return window.self!==window.top}catch{return!0}}();function e(A){try{return A.addEventListener&&A.removeEventListener}catch{return!1}}i.MouseTracker.gesturePointVelocityTracker=function(){var A=[],M=0,K=0,ee=function(Ae,De){return Ae.hash.toString()+De.type+De.id.toString()},F=function(){var Ae,De=A.length,et,mt,Rt=i.now(),yn,rn,mo;for(yn=Rt-K,K=Rt,Ae=0;Ae<De;Ae++)et=A[Ae],mt=et.gPoint,mt.direction=Math.atan2(mt.currentPos.y-et.lastPos.y,mt.currentPos.x-et.lastPos.x),rn=et.lastPos.distanceTo(mt.currentPos),et.lastPos=mt.currentPos,mo=1e3*rn/(yn+1),mt.speed=.75*mo+.25*mt.speed},J=function(Ae,De){var et=ee(Ae,De);A.push({guid:et,gPoint:De,lastPos:De.currentPos}),A.length===1&&(K=i.now(),M=window.setInterval(F,50))},Re=function(Ae,De){var et=ee(Ae,De),mt,Rt=A.length;for(mt=0;mt<Rt;mt++)if(A[mt].guid===et){A.splice(mt,1),Rt--,Rt===0&&window.clearInterval(M);break}};return{addPoint:J,removePoint:Re}}(),i.MouseTracker.captureElement=document,i.MouseTracker.wheelEventName="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",i.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",i.MouseTracker.wheelEventName],i.MouseTracker.wheelEventName==="DOMMouseScroll"&&i.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(i.MouseTracker.havePointerEvents=!0,i.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),i.MouseTracker.havePointerCapture=function(){var A=document.createElement("div");return i.isFunction(A.setPointerCapture)&&i.isFunction(A.releasePointerCapture)}(),i.MouseTracker.havePointerCapture&&i.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(i.MouseTracker.havePointerEvents=!1,i.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),i.MouseTracker.mousePointerId="legacy-mouse",i.MouseTracker.havePointerCapture=function(){var A=document.createElement("div");return i.isFunction(A.setCapture)&&i.isFunction(A.releaseCapture)}(),i.MouseTracker.havePointerCapture&&i.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&i.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&i.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),i.MouseTracker.GesturePointList=function(A){this._gPoints=[],this.type=A,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},i.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(A){return this._gPoints.push(A)},removeById:function(A){var M,K=this._gPoints.length;for(M=0;M<K;M++)if(this._gPoints[M].id===A){this._gPoints.splice(M,1);break}return this._gPoints.length},getByIndex:function(A){return A<this._gPoints.length?this._gPoints[A]:null},getById:function(A){var M,K=this._gPoints.length;for(M=0;M<K;M++)if(this._gPoints[M].id===A)return this._gPoints[M];return null},getPrimary:function(A){var M,K=this._gPoints.length;for(M=0;M<K;M++)if(this._gPoints[M].isPrimary)return this._gPoints[M];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(i.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function t(A){var M=r[A.hash],K,ee,F,J,Re,Ae=M.activePointersLists.length;for(K=0;K<Ae;K++)if(F=M.activePointersLists[K],F.getLength()>0){for(Re=[],J=F.asArray(),ee=0;ee<J.length;ee++)Re.push(J[ee]);for(ee=0;ee<Re.length;ee++)N(A,F,Re[ee])}for(K=0;K<Ae;K++)M.activePointersLists.pop();M.sentDragEvent=!1}function a(A){var M=r[A.hash],K,ee;if(!M.tracking){for(ee=0;ee<i.MouseTracker.subscribeEvents.length;ee++)K=i.MouseTracker.subscribeEvents[ee],i.addEvent(A.element,K,M[K],K===i.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);t(A),M.tracking=!0}}function d(A){var M=r[A.hash],K,ee;if(M.tracking){for(ee=0;ee<i.MouseTracker.subscribeEvents.length;ee++)K=i.MouseTracker.subscribeEvents[ee],i.removeEvent(A.element,K,M[K],!1);t(A),M.tracking=!1}}function s(A,M){var K=r[A.hash];if(M==="pointerevent")return{upName:"pointerup",upHandler:K.pointerupcaptured,moveName:"pointermove",moveHandler:K.pointermovecaptured};if(M==="mouse")return{upName:"pointerup",upHandler:K.pointerupcaptured,moveName:"pointermove",moveHandler:K.pointermovecaptured};if(M==="touch")return{upName:"touchend",upHandler:K.touchendcaptured,moveName:"touchmove",moveHandler:K.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function c(A,M){var K;if(i.MouseTracker.havePointerCapture)if(i.MouseTracker.havePointerEvents)try{A.element.setPointerCapture(M.id)}catch{i.console.warn("setPointerCapture() called on invalid pointer ID");return}else A.element.setCapture(!0);else K=s(A,i.MouseTracker.havePointerEvents?"pointerevent":M.type),o&&e(window.top)&&i.addEvent(window.top,K.upName,K.upHandler,!0),i.addEvent(i.MouseTracker.captureElement,K.upName,K.upHandler,!0),i.addEvent(i.MouseTracker.captureElement,K.moveName,K.moveHandler,!0);_(A,M,!0)}function u(A,M){var K,ee,F;if(i.MouseTracker.havePointerCapture)if(i.MouseTracker.havePointerEvents){if(ee=A.getActivePointersListByType(M.type),F=ee.getById(M.id),!F||!F.captured)return;try{A.element.releasePointerCapture(M.id)}catch{}}else A.element.releaseCapture();else K=s(A,i.MouseTracker.havePointerEvents?"pointerevent":M.type),o&&e(window.top)&&i.removeEvent(window.top,K.upName,K.upHandler,!0),i.removeEvent(i.MouseTracker.captureElement,K.moveName,K.moveHandler,!0),i.removeEvent(i.MouseTracker.captureElement,K.upName,K.upHandler,!0);_(A,M,!1)}function p(A){return i.MouseTracker.havePointerEvents?A.pointerId:i.MouseTracker.mousePointerId}function m(A){return i.MouseTracker.havePointerEvents&&A.pointerType?A.pointerType:"mouse"}function g(A){return i.MouseTracker.havePointerEvents?A.isPrimary:!0}function v(A){return i.getMousePosition(A)}function x(A,M){return y(v(A),M)}function y(A,M){var K=i.getElementOffset(M);return A.minus(K)}function w(A,M){return new i.Point((A.x+M.x)/2,(A.y+M.y)/2)}function S(A,M){var K={originalEvent:M,eventType:"click",pointerType:"mouse",isEmulated:!1};Y(A,K),K.preventDefault&&!K.defaultPrevented&&i.cancelEvent(M),K.stopPropagation&&i.stopEvent(M)}function P(A,M){var K={originalEvent:M,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};Y(A,K),K.preventDefault&&!K.defaultPrevented&&i.cancelEvent(M),K.stopPropagation&&i.stopEvent(M)}function j(A,M){var K=null,ee={originalEvent:M,eventType:"keydown",pointerType:"",isEmulated:!1};Y(A,ee),A.keyDownHandler&&!ee.preventGesture&&!ee.defaultPrevented&&(K={eventSource:A,keyCode:M.keyCode?M.keyCode:M.charCode,ctrl:M.ctrlKey,shift:M.shiftKey,alt:M.altKey,meta:M.metaKey,originalEvent:M,preventDefault:ee.preventDefault||ee.defaultPrevented,userData:A.userData},A.keyDownHandler(K)),(K&&K.preventDefault||ee.preventDefault&&!ee.defaultPrevented)&&i.cancelEvent(M),ee.stopPropagation&&i.stopEvent(M)}function R(A,M){var K=null,ee={originalEvent:M,eventType:"keyup",pointerType:"",isEmulated:!1};Y(A,ee),A.keyUpHandler&&!ee.preventGesture&&!ee.defaultPrevented&&(K={eventSource:A,keyCode:M.keyCode?M.keyCode:M.charCode,ctrl:M.ctrlKey,shift:M.shiftKey,alt:M.altKey,meta:M.metaKey,originalEvent:M,preventDefault:ee.preventDefault||ee.defaultPrevented,userData:A.userData},A.keyUpHandler(K)),(K&&K.preventDefault||ee.preventDefault&&!ee.defaultPrevented)&&i.cancelEvent(M),ee.stopPropagation&&i.stopEvent(M)}function T(A,M){var K=null,ee={originalEvent:M,eventType:"keypress",pointerType:"",isEmulated:!1};Y(A,ee),A.keyHandler&&!ee.preventGesture&&!ee.defaultPrevented&&(K={eventSource:A,keyCode:M.keyCode?M.keyCode:M.charCode,ctrl:M.ctrlKey,shift:M.shiftKey,alt:M.altKey,meta:M.metaKey,originalEvent:M,preventDefault:ee.preventDefault||ee.defaultPrevented,userData:A.userData},A.keyHandler(K)),(K&&K.preventDefault||ee.preventDefault&&!ee.defaultPrevented)&&i.cancelEvent(M),ee.stopPropagation&&i.stopEvent(M)}function q(A,M){var K={originalEvent:M,eventType:"focus",pointerType:"",isEmulated:!1};Y(A,K),A.focusHandler&&!K.preventGesture&&A.focusHandler({eventSource:A,originalEvent:M,userData:A.userData})}function $(A,M){var K={originalEvent:M,eventType:"blur",pointerType:"",isEmulated:!1};Y(A,K),A.blurHandler&&!K.preventGesture&&A.blurHandler({eventSource:A,originalEvent:M,userData:A.userData})}function z(A,M){var K=null,ee={originalEvent:M,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};Y(A,ee),A.contextMenuHandler&&!ee.preventGesture&&!ee.defaultPrevented&&(K={eventSource:A,position:y(v(M),A.element),originalEvent:ee.originalEvent,preventDefault:ee.preventDefault||ee.defaultPrevented,userData:A.userData},A.contextMenuHandler(K)),(K&&K.preventDefault||ee.preventDefault&&!ee.defaultPrevented)&&i.cancelEvent(M),ee.stopPropagation&&i.stopEvent(M)}function I(A,M){B(A,M,M)}function Z(A,M){var K={target:M.target||M.srcElement,type:"wheel",shiftKey:M.shiftKey||!1,clientX:M.clientX,clientY:M.clientY,pageX:M.pageX?M.pageX:M.clientX,pageY:M.pageY?M.pageY:M.clientY,deltaMode:M.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};i.MouseTracker.wheelEventName==="mousewheel"?K.deltaY=-M.wheelDelta/i.DEFAULT_SETTINGS.pixelsPerWheelLine:K.deltaY=M.detail,B(A,K,M)}function B(A,M,K){var ee=0,F,J=null;ee=M.deltaY?M.deltaY<0?1:-1:0,F={originalEvent:M,eventType:"wheel",pointerType:"mouse",isEmulated:M!==K},Y(A,F),A.scrollHandler&&!F.preventGesture&&!F.defaultPrevented&&(J={eventSource:A,pointerType:"mouse",position:x(M,A.element),scroll:ee,shift:M.shiftKey,isTouchEvent:!1,originalEvent:K,preventDefault:F.preventDefault||F.defaultPrevented,userData:A.userData},A.scrollHandler(J)),F.stopPropagation&&i.stopEvent(K),(J&&J.preventDefault||F.preventDefault&&!F.defaultPrevented)&&i.cancelEvent(K)}function se(A,M){var K={id:i.MouseTracker.mousePointerId,type:"mouse"},ee={originalEvent:M,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};Y(A,ee),M.target===A.element&&_(A,K,!1),ee.stopPropagation&&i.stopEvent(M)}function ge(A,M){var K,ee,F=M.changedTouches.length,J,Re=A.getActivePointersListByType("touch");K=i.now(),Re.getLength()>M.touches.length-F&&i.console.warn("Tracked touch contact count doesn't match event.touches.length");var Ae={originalEvent:M,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(Y(A,Ae),ee=0;ee<F;ee++)J={id:M.changedTouches[ee].identifier,type:"touch",isPrimary:Re.getLength()===0,currentPos:v(M.changedTouches[ee]),currentTime:K},C(A,Ae,J),re(A,Ae,J,0),_(A,J,!0);Ae.preventDefault&&!Ae.defaultPrevented&&i.cancelEvent(M),Ae.stopPropagation&&i.stopEvent(M)}function ae(A,M){var K,ee,F=M.changedTouches.length,J;K=i.now();var Re={originalEvent:M,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(Y(A,Re),ee=0;ee<F;ee++)J={id:M.changedTouches[ee].identifier,type:"touch",currentPos:v(M.changedTouches[ee]),currentTime:K},Se(A,Re,J,0),_(A,J,!1),k(A,Re,J);Re.preventDefault&&!Re.defaultPrevented&&i.cancelEvent(M),Re.stopPropagation&&i.stopEvent(M)}function U(A,M){var K,ee,F=M.changedTouches.length,J;K=i.now();var Re={originalEvent:M,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(Y(A,Re),ee=0;ee<F;ee++)J={id:M.changedTouches[ee].identifier,type:"touch",currentPos:v(M.changedTouches[ee]),currentTime:K},ze(A,Re,J);Re.preventDefault&&!Re.defaultPrevented&&i.cancelEvent(M),Re.stopPropagation&&i.stopEvent(M)}function ve(A,M){var K=M.changedTouches.length,ee,F,J={originalEvent:M,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(Y(A,J),ee=0;ee<K;ee++)F={id:M.changedTouches[ee].identifier,type:"touch"},Ge(A,J,F);J.stopPropagation&&i.stopEvent(M)}function O(A,M){return i.eventIsCanceled(M)||M.preventDefault(),!1}function ne(A,M){return i.eventIsCanceled(M)||M.preventDefault(),!1}function he(A,M){var K={originalEvent:M,eventType:"gotpointercapture",pointerType:m(M),isEmulated:!1};Y(A,K),M.target===A.element&&_(A,{id:M.pointerId,type:m(M)},!0),K.stopPropagation&&i.stopEvent(M)}function Q(A,M){var K={originalEvent:M,eventType:"lostpointercapture",pointerType:m(M),isEmulated:!1};Y(A,K),M.target===A.element&&_(A,{id:M.pointerId,type:m(M)},!1),K.stopPropagation&&i.stopEvent(M)}function ue(A,M){var K={id:p(M),type:m(M),isPrimary:g(M),currentPos:v(M),currentTime:i.now()},ee={originalEvent:M,eventType:"pointerenter",pointerType:K.type,isEmulated:!1};Y(A,ee),C(A,ee,K)}function X(A,M){var K={id:p(M),type:m(M),isPrimary:g(M),currentPos:v(M),currentTime:i.now()},ee={originalEvent:M,eventType:"pointerleave",pointerType:K.type,isEmulated:!1};Y(A,ee),k(A,ee,K)}function ce(A,M){var K={id:p(M),type:m(M),isPrimary:g(M),currentPos:v(M),currentTime:i.now()},ee={originalEvent:M,eventType:"pointerover",pointerType:K.type,isEmulated:!1};Y(A,ee),H(A,ee,K),ee.preventDefault&&!ee.defaultPrevented&&i.cancelEvent(M),ee.stopPropagation&&i.stopEvent(M)}function fe(A,M){var K={id:p(M),type:m(M),isPrimary:g(M),currentPos:v(M),currentTime:i.now()},ee={originalEvent:M,eventType:"pointerout",pointerType:K.type,isEmulated:!1};Y(A,ee),ie(A,ee,K),ee.preventDefault&&!ee.defaultPrevented&&i.cancelEvent(M),ee.stopPropagation&&i.stopEvent(M)}function Te(A,M){var K={id:p(M),type:m(M),isPrimary:g(M),currentPos:v(M),currentTime:i.now()},ee=i.MouseTracker.havePointerEvents&&K.type==="touch",F={originalEvent:M,eventType:"pointerdown",pointerType:K.type,isEmulated:!1};Y(A,F),re(A,F,K,M.button),F.preventDefault&&!F.defaultPrevented&&i.cancelEvent(M),F.stopPropagation&&i.stopEvent(M),F.shouldCapture&&(ee?_(A,K,!0):c(A,K))}function we(A,M){G(A,M)}function me(A,M){var K=A.getActivePointersListByType(m(M));K.getById(M.pointerId)&&G(A,M),i.stopEvent(M)}function G(A,M){var K;K={id:p(M),type:m(M),isPrimary:g(M),currentPos:v(M),currentTime:i.now()};var ee={originalEvent:M,eventType:"pointerup",pointerType:K.type,isEmulated:!1};Y(A,ee),Se(A,ee,K,M.button),ee.preventDefault&&!ee.defaultPrevented&&i.cancelEvent(M),ee.stopPropagation&&i.stopEvent(M),ee.shouldReleaseCapture&&(M.target===A.element?u(A,K):_(A,K,!1))}function ye(A,M){_e(A,M)}function de(A,M){var K=A.getActivePointersListByType(m(M));K.getById(M.pointerId)&&_e(A,M),i.stopEvent(M)}function _e(A,M){var K={id:p(M),type:m(M),isPrimary:g(M),currentPos:v(M),currentTime:i.now()},ee={originalEvent:M,eventType:"pointermove",pointerType:K.type,isEmulated:!1};Y(A,ee),ze(A,ee,K),ee.preventDefault&&!ee.defaultPrevented&&i.cancelEvent(M),ee.stopPropagation&&i.stopEvent(M)}function W(A,M){var K={id:M.pointerId,type:m(M)},ee={originalEvent:M,eventType:"pointercancel",pointerType:K.type,isEmulated:!1};Y(A,ee),Ge(A,ee,K),ee.stopPropagation&&i.stopEvent(M)}function pe(A,M){return M.speed=0,M.direction=0,M.contactPos=M.currentPos,M.contactTime=M.currentTime,M.lastPos=M.currentPos,M.lastTime=M.currentTime,A.add(M)}function N(A,M,K){var ee,F=M.getById(K.id);return F?(F.captured&&(i.console.warn("stopTrackingPointer() called on captured pointer"),u(A,F)),M.removeContact(),ee=M.removeById(K.id)):ee=M.getLength(),ee}function D(A,M){switch(M.eventType){case"pointermove":M.isStoppable=!0,M.isCancelable=!0,M.preventDefault=!1,M.preventGesture=!A.hasGestureHandlers,M.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":M.isStoppable=!0,M.isCancelable=!0,M.preventDefault=!1,M.preventGesture=!1,M.stopPropagation=!1;break;case"pointerdown":M.isStoppable=!0,M.isCancelable=!0,M.preventDefault=!1,M.preventGesture=!A.hasGestureHandlers,M.stopPropagation=!1;break;case"pointerup":M.isStoppable=!0,M.isCancelable=!0,M.preventDefault=!1,M.preventGesture=!A.hasGestureHandlers,M.stopPropagation=!1;break;case"wheel":M.isStoppable=!0,M.isCancelable=!0,M.preventDefault=!1,M.preventGesture=!A.hasScrollHandler,M.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":M.isStoppable=!0,M.isCancelable=!1,M.preventDefault=!1,M.preventGesture=!1,M.stopPropagation=!1;break;case"click":M.isStoppable=!0,M.isCancelable=!0,M.preventDefault=!!A.clickHandler,M.preventGesture=!1,M.stopPropagation=!1;break;case"dblclick":M.isStoppable=!0,M.isCancelable=!0,M.preventDefault=!!A.dblClickHandler,M.preventGesture=!1,M.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:M.isStoppable=!1,M.isCancelable=!1,M.preventDefault=!1,M.preventGesture=!1,M.stopPropagation=!1;break}}function Y(A,M){M.eventSource=A,M.eventPhase=M.originalEvent&&typeof M.originalEvent.eventPhase<"u"?M.originalEvent.eventPhase:0,M.defaultPrevented=i.eventIsCanceled(M.originalEvent),M.shouldCapture=!1,M.shouldReleaseCapture=!1,M.userData=A.userData,D(A,M),A.preProcessEventHandler&&A.preProcessEventHandler(M)}function _(A,M,K){var ee=A.getActivePointersListByType(M.type),F=ee.getById(M.id);F?K&&!F.captured?(F.captured=!0,ee.captureCount++):!K&&F.captured&&(F.captured=!1,ee.captureCount--,ee.captureCount<0&&(ee.captureCount=0,i.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):i.console.warn("updatePointerCaptured() called on untracked pointer")}function C(A,M,K){var ee=A.getActivePointersListByType(K.type),F;F=ee.getById(K.id),F?(F.insideElement=!0,F.lastPos=F.currentPos,F.lastTime=F.currentTime,F.currentPos=K.currentPos,F.currentTime=K.currentTime,K=F):(K.captured=!1,K.insideElementPressed=!1,K.insideElement=!0,pe(ee,K)),A.enterHandler&&A.enterHandler({eventSource:A,pointerType:K.type,position:y(K.currentPos,A.element),buttons:ee.buttons,pointers:A.getActivePointerCount(),insideElementPressed:K.insideElementPressed,buttonDownAny:ee.buttons!==0,isTouchEvent:K.type==="touch",originalEvent:M.originalEvent,userData:A.userData})}function k(A,M,K){var ee=A.getActivePointersListByType(K.type),F,J;F=ee.getById(K.id),F?(F.captured?(F.insideElement=!1,F.lastPos=F.currentPos,F.lastTime=F.currentTime,F.currentPos=K.currentPos,F.currentTime=K.currentTime):N(A,ee,F),K=F):(K.captured=!1,K.insideElementPressed=!1),(A.leaveHandler||A.exitHandler)&&(J={eventSource:A,pointerType:K.type,position:K.currentPos&&y(K.currentPos,A.element),buttons:ee.buttons,pointers:A.getActivePointerCount(),insideElementPressed:K.insideElementPressed,buttonDownAny:ee.buttons!==0,isTouchEvent:K.type==="touch",originalEvent:M.originalEvent,userData:A.userData},A.leaveHandler&&A.leaveHandler(J),A.exitHandler&&A.exitHandler(J))}function H(A,M,K){var ee,F;ee=A.getActivePointersListByType(K.type),F=ee.getById(K.id),F?K=F:(K.captured=!1,K.insideElementPressed=!1),A.overHandler&&A.overHandler({eventSource:A,pointerType:K.type,position:y(K.currentPos,A.element),buttons:ee.buttons,pointers:A.getActivePointerCount(),insideElementPressed:K.insideElementPressed,buttonDownAny:ee.buttons!==0,isTouchEvent:K.type==="touch",originalEvent:M.originalEvent,userData:A.userData})}function ie(A,M,K){var ee,F;ee=A.getActivePointersListByType(K.type),F=ee.getById(K.id),F?K=F:(K.captured=!1,K.insideElementPressed=!1),A.outHandler&&A.outHandler({eventSource:A,pointerType:K.type,position:K.currentPos&&y(K.currentPos,A.element),buttons:ee.buttons,pointers:A.getActivePointerCount(),insideElementPressed:K.insideElementPressed,buttonDownAny:ee.buttons!==0,isTouchEvent:K.type==="touch",originalEvent:M.originalEvent,userData:A.userData})}function re(A,M,K,ee){var F=r[A.hash],J=A.getActivePointersListByType(K.type),Re;if(typeof M.originalEvent.buttons<"u"?J.buttons=M.originalEvent.buttons:ee===0?J.buttons|=1:ee===1?J.buttons|=4:ee===2?J.buttons|=2:ee===3?J.buttons|=8:ee===4?J.buttons|=16:ee===5&&(J.buttons|=32),ee!==0){M.shouldCapture=!1,M.shouldReleaseCapture=!1,A.nonPrimaryPressHandler&&!M.preventGesture&&!M.defaultPrevented&&(M.preventDefault=!0,A.nonPrimaryPressHandler({eventSource:A,pointerType:K.type,position:y(K.currentPos,A.element),button:ee,buttons:J.buttons,isTouchEvent:K.type==="touch",originalEvent:M.originalEvent,userData:A.userData}));return}Re=J.getById(K.id),Re?(Re.insideElementPressed=!0,Re.insideElement=!0,Re.originalTarget=M.originalEvent.target,Re.contactPos=K.currentPos,Re.contactTime=K.currentTime,Re.lastPos=Re.currentPos,Re.lastTime=Re.currentTime,Re.currentPos=K.currentPos,Re.currentTime=K.currentTime,K=Re):(K.captured=!1,K.insideElementPressed=!0,K.insideElement=!0,K.originalTarget=M.originalEvent.target,pe(J,K)),J.addContact(),!M.preventGesture&&!M.defaultPrevented?(M.shouldCapture=!0,M.shouldReleaseCapture=!1,M.preventDefault=!0,(A.dragHandler||A.dragEndHandler||A.pinchHandler)&&i.MouseTracker.gesturePointVelocityTracker.addPoint(A,K),J.contacts===1?A.pressHandler&&!M.preventGesture&&A.pressHandler({eventSource:A,pointerType:K.type,position:y(K.contactPos,A.element),buttons:J.buttons,isTouchEvent:K.type==="touch",originalEvent:M.originalEvent,userData:A.userData}):J.contacts===2&&A.pinchHandler&&K.type==="touch"&&(F.pinchGPoints=J.asArray(),F.lastPinchDist=F.currentPinchDist=F.pinchGPoints[0].currentPos.distanceTo(F.pinchGPoints[1].currentPos),F.lastPinchCenter=F.currentPinchCenter=w(F.pinchGPoints[0].currentPos,F.pinchGPoints[1].currentPos))):(M.shouldCapture=!1,M.shouldReleaseCapture=!1)}function Se(A,M,K,ee){var F=r[A.hash],J=A.getActivePointersListByType(K.type),Re,Ae,De,et=!1,mt;if(typeof M.originalEvent.buttons<"u"?J.buttons=M.originalEvent.buttons:ee===0?J.buttons^=-2:ee===1?J.buttons^=-5:ee===2?J.buttons^=-3:ee===3?J.buttons^=-9:ee===4?J.buttons^=-17:ee===5&&(J.buttons^=-33),M.shouldCapture=!1,ee!==0){M.shouldReleaseCapture=!1,A.nonPrimaryReleaseHandler&&!M.preventGesture&&!M.defaultPrevented&&(M.preventDefault=!0,A.nonPrimaryReleaseHandler({eventSource:A,pointerType:K.type,position:y(K.currentPos,A.element),button:ee,buttons:J.buttons,isTouchEvent:K.type==="touch",originalEvent:M.originalEvent,userData:A.userData}));return}De=J.getById(K.id),De?(J.removeContact(),De.captured&&(et=!0),De.lastPos=De.currentPos,De.lastTime=De.currentTime,De.currentPos=K.currentPos,De.currentTime=K.currentTime,De.insideElement||N(A,J,De),Re=De.currentPos,Ae=De.currentTime):(K.captured=!1,K.insideElementPressed=!1,K.insideElement=!0,pe(J,K),De=K),!M.preventGesture&&!M.defaultPrevented&&(et?(M.shouldReleaseCapture=!0,M.preventDefault=!0,(A.dragHandler||A.dragEndHandler||A.pinchHandler)&&i.MouseTracker.gesturePointVelocityTracker.removePoint(A,De),J.contacts===0?(A.releaseHandler&&Re&&A.releaseHandler({eventSource:A,pointerType:De.type,position:y(Re,A.element),buttons:J.buttons,insideElementPressed:De.insideElementPressed,insideElementReleased:De.insideElement,isTouchEvent:De.type==="touch",originalEvent:M.originalEvent,userData:A.userData}),A.dragEndHandler&&F.sentDragEvent&&A.dragEndHandler({eventSource:A,pointerType:De.type,position:y(De.currentPos,A.element),speed:De.speed,direction:De.direction,shift:M.originalEvent.shiftKey,isTouchEvent:De.type==="touch",originalEvent:M.originalEvent,userData:A.userData}),F.sentDragEvent=!1,(A.clickHandler||A.dblClickHandler)&&De.insideElement&&(mt=Ae-De.contactTime<=A.clickTimeThreshold&&De.contactPos.distanceTo(Re)<=A.clickDistThreshold,A.clickHandler&&A.clickHandler({eventSource:A,pointerType:De.type,position:y(De.currentPos,A.element),quick:mt,shift:M.originalEvent.shiftKey,isTouchEvent:De.type==="touch",originalEvent:M.originalEvent,originalTarget:De.originalTarget,userData:A.userData}),A.dblClickHandler&&mt&&(J.clicks++,J.clicks===1?(F.lastClickPos=Re,F.dblClickTimeOut=setTimeout(function(){J.clicks=0},A.dblClickTimeThreshold)):J.clicks===2&&(clearTimeout(F.dblClickTimeOut),J.clicks=0,F.lastClickPos.distanceTo(Re)<=A.dblClickDistThreshold&&A.dblClickHandler({eventSource:A,pointerType:De.type,position:y(De.currentPos,A.element),shift:M.originalEvent.shiftKey,isTouchEvent:De.type==="touch",originalEvent:M.originalEvent,userData:A.userData}),F.lastClickPos=null)))):J.contacts===2&&A.pinchHandler&&De.type==="touch"&&(F.pinchGPoints=J.asArray(),F.lastPinchDist=F.currentPinchDist=F.pinchGPoints[0].currentPos.distanceTo(F.pinchGPoints[1].currentPos),F.lastPinchCenter=F.currentPinchCenter=w(F.pinchGPoints[0].currentPos,F.pinchGPoints[1].currentPos))):(M.shouldReleaseCapture=!1,A.releaseHandler&&Re&&(A.releaseHandler({eventSource:A,pointerType:De.type,position:y(Re,A.element),buttons:J.buttons,insideElementPressed:De.insideElementPressed,insideElementReleased:De.insideElement,isTouchEvent:De.type==="touch",originalEvent:M.originalEvent,userData:A.userData}),M.preventDefault=!0)))}function ze(A,M,K){var ee=r[A.hash],F=A.getActivePointersListByType(K.type),J,Re,Ae;if(typeof M.originalEvent.buttons<"u"&&(F.buttons=M.originalEvent.buttons),J=F.getById(K.id),J)J.lastPos=J.currentPos,J.lastTime=J.currentTime,J.currentPos=K.currentPos,J.currentTime=K.currentTime;else return;M.shouldCapture=!1,M.shouldReleaseCapture=!1,A.stopHandler&&K.type==="mouse"&&(clearTimeout(A.stopTimeOut),A.stopTimeOut=setTimeout(function(){Qe(A,M.originalEvent,K.type)},A.stopDelay)),F.contacts===0?A.moveHandler&&A.moveHandler({eventSource:A,pointerType:K.type,position:y(K.currentPos,A.element),buttons:F.buttons,isTouchEvent:K.type==="touch",originalEvent:M.originalEvent,userData:A.userData}):F.contacts===1?(A.moveHandler&&(J=F.asArray()[0],A.moveHandler({eventSource:A,pointerType:J.type,position:y(J.currentPos,A.element),buttons:F.buttons,isTouchEvent:J.type==="touch",originalEvent:M.originalEvent,userData:A.userData})),A.dragHandler&&!M.preventGesture&&!M.defaultPrevented&&(J=F.asArray()[0],Ae=J.currentPos.minus(J.lastPos),A.dragHandler({eventSource:A,pointerType:J.type,position:y(J.currentPos,A.element),buttons:F.buttons,delta:Ae,speed:J.speed,direction:J.direction,shift:M.originalEvent.shiftKey,isTouchEvent:J.type==="touch",originalEvent:M.originalEvent,userData:A.userData}),M.preventDefault=!0,ee.sentDragEvent=!0)):F.contacts===2&&(A.moveHandler&&(Re=F.asArray(),A.moveHandler({eventSource:A,pointerType:Re[0].type,position:y(w(Re[0].currentPos,Re[1].currentPos),A.element),buttons:F.buttons,isTouchEvent:Re[0].type==="touch",originalEvent:M.originalEvent,userData:A.userData})),A.pinchHandler&&K.type==="touch"&&!M.preventGesture&&!M.defaultPrevented&&(Ae=ee.pinchGPoints[0].currentPos.distanceTo(ee.pinchGPoints[1].currentPos),Ae!==ee.currentPinchDist&&(ee.lastPinchDist=ee.currentPinchDist,ee.currentPinchDist=Ae,ee.lastPinchCenter=ee.currentPinchCenter,ee.currentPinchCenter=w(ee.pinchGPoints[0].currentPos,ee.pinchGPoints[1].currentPos),A.pinchHandler({eventSource:A,pointerType:"touch",gesturePoints:ee.pinchGPoints,lastCenter:y(ee.lastPinchCenter,A.element),center:y(ee.currentPinchCenter,A.element),lastDistance:ee.lastPinchDist,distance:ee.currentPinchDist,shift:M.originalEvent.shiftKey,originalEvent:M.originalEvent,userData:A.userData}),M.preventDefault=!0)))}function Ge(A,M,K){var ee=A.getActivePointersListByType(K.type),F;F=ee.getById(K.id),F&&N(A,ee,F)}function Qe(A,M,K){A.stopHandler&&A.stopHandler({eventSource:A,pointerType:K,position:x(M,A.element),buttons:A.getActivePointersListByType(K).buttons,isTouchEvent:K==="touch",originalEvent:M,userData:A.userData})}})(Je);(function(i){i.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},i.Control=function(n,r,o){var e=n.parentNode;typeof r=="number"&&(i.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),r={anchor:r}),r.attachToViewer=typeof r.attachToViewer>"u"?!0:r.attachToViewer,this.autoFade=typeof r.autoFade>"u"?!0:r.autoFade,this.element=n,this.anchor=r.anchor,this.container=o,this.anchor===i.ControlAnchor.ABSOLUTE?(this.wrapper=i.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof r.top=="number"?r.top+"px":r.top,this.wrapper.style.left=typeof r.left=="number"?r.left+"px":r.left,this.wrapper.style.height=typeof r.height=="number"?r.height+"px":r.height,this.wrapper.style.width=typeof r.width=="number"?r.width+"px":r.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=i.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===i.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),r.attachToViewer?this.anchor===i.ControlAnchor.TOP_RIGHT||this.anchor===i.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):e.appendChild(this.wrapper)},i.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==i.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(n){this.wrapper.style.display=n?this.anchor===i.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(n){i.setElementOpacity(this.wrapper,n,!0)}}})(Je);(function(i){i.ControlDock=function(r){var o=["topleft","topright","bottomright","bottomleft"],e,t;for(i.extend(!0,this,{id:"controldock-"+i.now()+"-"+Math.floor(Math.random()*1e6),container:i.makeNeutralElement("div"),controls:[]},r),this.container.onsubmit=function(){return!1},this.element&&(this.element=i.getElement(this.element),this.element.appendChild(this.container),i.getElementStyle(this.element).position==="static"&&(this.element.style.position="relative"),this.container.style.width="100%",this.container.style.height="100%"),t=0;t<o.length;t++)e=o[t],this.controls[e]=i.makeNeutralElement("div"),this.controls[e].style.position="absolute",e.match("left")&&(this.controls[e].style.left="0px"),e.match("right")&&(this.controls[e].style.right="0px"),e.match("top")&&(this.controls[e].style.top="0px"),e.match("bottom")&&(this.controls[e].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},i.ControlDock.prototype={addControl:function(r,o){r=i.getElement(r);var e=null;if(!(n(this,r)>=0)){switch(o.anchor){case i.ControlAnchor.TOP_RIGHT:e=this.controls.topright,r.style.position="relative",r.style.paddingRight="0px",r.style.paddingTop="0px";break;case i.ControlAnchor.BOTTOM_RIGHT:e=this.controls.bottomright,r.style.position="relative",r.style.paddingRight="0px",r.style.paddingBottom="0px";break;case i.ControlAnchor.BOTTOM_LEFT:e=this.controls.bottomleft,r.style.position="relative",r.style.paddingLeft="0px",r.style.paddingBottom="0px";break;case i.ControlAnchor.TOP_LEFT:e=this.controls.topleft,r.style.position="relative",r.style.paddingLeft="0px",r.style.paddingTop="0px";break;case i.ControlAnchor.ABSOLUTE:e=this.container,r.style.margin="0px",r.style.padding="0px";break;default:case i.ControlAnchor.NONE:e=this.container,r.style.margin="0px",r.style.padding="0px";break}this.controls.push(new i.Control(r,o,e)),r.style.display="inline-block"}},removeControl:function(r){r=i.getElement(r);var o=n(this,r);return o>=0&&(this.controls[o].destroy(),this.controls.splice(o,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var r;for(r=this.controls.length-1;r>=0;r--)if(this.controls[r].isVisible())return!0;return!1},setControlsEnabled:function(r){var o;for(o=this.controls.length-1;o>=0;o--)this.controls[o].setVisible(r);return this}};function n(r,o){var e=r.controls,t;for(t=e.length-1;t>=0;t--)if(e[t].element===o)return t;return-1}})(Je);(function(i){i.Placement=i.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})})(Je);(function(i){var n={},r=1;i.Viewer=function(N){var D=arguments,Y=this,_;i.isPlainObject(N)||(N={id:D[0],xmlPath:D.length>1?D[1]:void 0,prefixUrl:D.length>2?D[2]:void 0,controls:D.length>3?D[3]:void 0,overlays:D.length>4?D[4]:void 0}),N.config&&(i.extend(!0,N,N.config),delete N.config);let C=["useCanvas"];if(N.drawerOptions=Object.assign({},C.reduce((H,ie)=>(H[ie]=N[ie],delete N[ie],H),{}),N.drawerOptions),i.extend(!0,this,{id:N.id,hash:N.hash||r++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},i.DEFAULT_SETTINGS,N),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");typeof n[this.hash]<"u"&&i.console.warn("Hash "+this.hash+" has already been used."),n[this.hash]={fsBoundsDelta:new i.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=i.now(),i.EventSource.call(this),this.addHandler("open-failed",function(H){var ie=i.getString("Errors.OpenFailed",H.eventSource,H.message);Y._showMessage(ie)}),i.ControlDock.call(this,N),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=i.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(H){H.width="100%",H.height="100%",H.overflow="hidden",H.position="absolute",H.top="0px",H.left="0px"}(this.canvas.style),i.setElementTouchActionNone(this.canvas),N.tabIndex!==""&&(this.canvas.tabIndex=N.tabIndex===void 0?0:N.tabIndex),this.container.className="openseadragon-container",function(H){H.width="100%",H.height="100%",H.position="relative",H.overflow="hidden",H.left="0px",H.top="0px",H.textAlign="left"}(this.container.style),i.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new i.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:i.delegate(this,v),keyDownHandler:i.delegate(this,x),keyHandler:i.delegate(this,y),clickHandler:i.delegate(this,w),dblClickHandler:i.delegate(this,S),dragHandler:i.delegate(this,P),dragEndHandler:i.delegate(this,j),enterHandler:i.delegate(this,R),leaveHandler:i.delegate(this,T),pressHandler:i.delegate(this,q),releaseHandler:i.delegate(this,$),nonPrimaryPressHandler:i.delegate(this,z),nonPrimaryReleaseHandler:i.delegate(this,I),scrollHandler:i.delegate(this,ge),pinchHandler:i.delegate(this,Z),focusHandler:i.delegate(this,B),blurHandler:i.delegate(this,se)}),this.outerTracker=new i.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:i.delegate(this,ae),leaveHandler:i.delegate(this,U)}),this.toolbar&&(this.toolbar=new i.ControlDock({element:this.toolbar})),this.bindStandardControls(),n[this.hash].prevContainerSize=o(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){n[Y.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new i.World({viewer:this}),this.world.addHandler("add-item",function(H){Y.source=Y.world.getItemAt(0).source,n[Y.hash].forceRedraw=!0,Y._updateRequestId||(Y._updateRequestId=d(Y,ve))}),this.world.addHandler("remove-item",function(H){Y.world.getItemCount()?Y.source=Y.world.getItemAt(0).source:Y.source=null,n[Y.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(H){Y.viewport&&Y.viewport._setContentBounds(Y.world.getHomeBounds(),Y.world.getContentFactor())}),this.world.addHandler("item-index-change",function(H){Y.source=Y.world.getItemAt(0).source}),this.viewport=new i.Viewport({containerSize:n[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,overlayPreserveContentDirection:this.overlayPreserveContentDirection,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new i.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:N.timeout,tileRetryMax:this.tileRetryMax,tileRetryDelay:this.tileRetryDelay}),this.tileCache=new i.TileCache({maxImageCacheCount:this.maxImageCacheCount}),Object.prototype.hasOwnProperty.call(this.drawerOptions,"useCanvas")&&(i.console.error('useCanvas is deprecated, use the "drawer" option to indicate preferred drawer(s)'),this.drawerOptions.useCanvas||(this.drawer=i.HTMLDrawer),delete this.drawerOptions.useCanvas);let k=Array.isArray(this.drawer)?this.drawer:[this.drawer];k.length===0&&(k=[i.DEFAULT_SETTINGS.drawer].flat(),i.console.warn("No valid drawers were selected. Using the default value.")),this.drawer=null;for(let H of k)if(this.requestDrawer(H,{mainDrawer:!0,redrawImmediately:!1}))break;if(!this.drawer)throw i.console.error("No drawer could be created!"),"Error with creating the selected drawer(s)";for(this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),this.overlaysContainer=i.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(_=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(_,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(_=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(_,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new i.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime,drawer:this.drawer.getType(),loadTilesWithAjax:this.loadTilesWithAjax,ajaxHeaders:this.ajaxHeaders,ajaxWithCredentials:this.ajaxWithCredentials})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),_=0;_<this.customControls.length;_++)this.addControl(this.customControls[_].id,{anchor:this.customControls[_].anchor});i.requestAnimationFrame(function(){c(Y)}),i._viewers.set(this.element,this)},i.extend(i.Viewer.prototype,i.EventSource.prototype,i.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(N){return i.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(N)},openTileSource:function(N){return i.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(N)},get buttons(){return i.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(N,D){var Y=this;if(this.close(),!N)return this;if(this.sequenceMode&&i.isArray(N))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof D<"u"&&!isNaN(D)&&(this.initialPage=D),this.tileSources=N,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(i.isArray(N)||(N=[N]),!N.length)return this;this._opening=!0;for(var _=N.length,C=0,k=0,H,ie=function(){if(C+k===_)if(C){(Y._firstOpen||!Y.preserveViewport)&&(Y.viewport.goHome(!0),Y.viewport.update()),Y._firstOpen=!1;var ze=N[0];if(ze.tileSource&&(ze=ze.tileSource),Y.overlays&&!Y.preserveOverlays)for(var Ge=0;Ge<Y.overlays.length;Ge++)Y.currentOverlays[Ge]=t(Y,Y.overlays[Ge]);Y._drawOverlays(),Y._opening=!1,Y.raiseEvent("open",{source:ze})}else Y._opening=!1,Y.raiseEvent("open-failed",H)},re=function(ze){(!i.isPlainObject(ze)||!ze.tileSource)&&(ze={tileSource:ze}),ze.index!==void 0&&(i.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete ze.index),ze.collectionImmediately===void 0&&(ze.collectionImmediately=!0);var Ge=ze.success;ze.success=function(A){if(C++,ze.tileSource.overlays)for(var M=0;M<ze.tileSource.overlays.length;M++)Y.addOverlay(ze.tileSource.overlays[M]);Ge&&Ge(A),ie()};var Qe=ze.error;ze.error=function(A){k++,H||(H=A),Qe&&Qe(A),ie()},Y.addTiledImage(ze)},Se=0;Se<N.length;Se++)re(N[Se]);return this},close:function(){return n[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),n[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(n[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(i.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),n[this.navigator.hash]=null,delete n[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),n[this.hash]=null,delete n[this.hash],this.canvas=null,this.container=null,i._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},requestDrawer(N,D){let Y={mainDrawer:!0,redrawImmediately:!0,drawerOptions:null};D=i.extend(!0,Y,D);let _=D.mainDrawer,C=D.redrawImmediately,k=D.drawerOptions,H=this.drawer,ie=null;if(N&&N.prototype instanceof i.DrawerBase?(ie=N,N="custom"):typeof N=="string"&&(ie=i.determineDrawer(N)),ie||i.console.warn("Unsupported drawer! Drawer must be an existing string type, or a class that extends OpenSeadragon.DrawerBase."),ie&&ie.isSupported()){H&&_&&H.destroy();let re=new ie({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor,options:k||this.drawerOptions[N]});return _&&(this.drawer=re,C&&this.forceRedraw()),re}return!1},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(N){return this.innerTracker.setTracking(N),this.outerTracker.setTracking(N),this.raiseEvent("mouse-enabled",{enabled:N}),this},areControlsEnabled:function(){var N=this.controls.length,D;for(D=0;D<this.controls.length;D++)N=N&&this.controls[D].isVisible();return N},setControlsEnabled:function(N){return N?p(this):c(this),this.raiseEvent("controls-enabled",{enabled:N}),this},setDebugMode:function(N){for(var D=0;D<this.world.getItemCount();D++)this.world.getItemAt(D).debugMode=N;this.debugMode=N,this.forceRedraw()},setAjaxHeaders:function(N,D){if(N===null&&(N={}),!i.isPlainObject(N)){console.error("[Viewer.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}if(D===void 0&&(D=!0),this.ajaxHeaders=N,D){for(var Y=0;Y<this.world.getItemCount();Y++)this.world.getItemAt(Y)._updateAjaxHeaders(!0);if(this.navigator&&this.navigator.setAjaxHeaders(this.ajaxHeaders,!0),this.referenceStrip&&this.referenceStrip.miniViewers)for(var _ in this.referenceStrip.miniViewers)this.referenceStrip.miniViewers[_].setAjaxHeaders(this.ajaxHeaders,!0)}},addButton:function(N){this.buttonGroup.addButton(N)},isFullPage:function(){return n[this.hash]&&n[this.hash].fullPage},setFullPage:function(N){var D=document.body,Y=D.style,_=document.documentElement.style,C=this,k,H;if(N===this.isFullPage())return this;var ie={fullPage:N,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",ie),ie.preventDefaultAction)return this;if(N&&this.element){for(this.elementSize=i.getElementSize(this.element),this.pageScroll=i.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=Y.margin,this.docMargin=_.margin,Y.margin="0",_.margin="0",this.bodyPadding=Y.padding,this.docPadding=_.padding,Y.padding="0",_.padding="0",this.bodyWidth=Y.width,this.docWidth=_.width,Y.width="100%",_.width="100%",this.bodyHeight=Y.height,this.docHeight=_.height,Y.height="100%",_.height="100%",this.bodyDisplay=Y.display,Y.display="block",this.previousBody=[],n[this.hash].prevElementParent=this.element.parentNode,n[this.hash].prevNextSibling=this.element.nextSibling,n[this.hash].prevElementWidth=this.element.style.width,n[this.hash].prevElementHeight=this.element.style.height,k=D.childNodes.length,H=0;H<k;H++)this.previousBody.push(D.childNodes[0]),D.removeChild(D.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,D.appendChild(this.toolbar.element),i.addClass(this.toolbar.element,"fullpage")),i.addClass(this.element,"fullpage"),D.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=i.getElementSize(this.element).y-i.getElementSize(this.toolbar.element).y+"px"),n[this.hash].fullPage=!0,i.delegate(this,ae)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,Y.margin=this.bodyMargin,_.margin=this.docMargin,Y.padding=this.bodyPadding,_.padding=this.docPadding,Y.width=this.bodyWidth,_.width=this.docWidth,Y.height=this.bodyHeight,_.height=this.docHeight,Y.display=this.bodyDisplay,D.removeChild(this.element),k=this.previousBody.length,H=0;H<k;H++)D.appendChild(this.previousBody.shift());i.removeClass(this.element,"fullpage"),n[this.hash].prevElementParent.insertBefore(this.element,n[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(D.removeChild(this.toolbar.element),i.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=n[this.hash].prevElementWidth,this.element.style.height=n[this.hash].prevElementHeight;var re=0,Se=function(){i.setPageScroll(C.pageScroll);var ze=i.getPageScroll();re++,re<10&&(ze.x!==C.pageScroll.x||ze.y!==C.pageScroll.y)&&i.requestAnimationFrame(Se)};i.requestAnimationFrame(Se),n[this.hash].fullPage=!1,i.delegate(this,U)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:N}),this},setFullScreen:function(N){var D=this;if(!i.supportsFullScreen)return this.setFullPage(N);if(i.isFullScreen()===N)return this;var Y={fullScreen:N,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",Y),Y.preventDefaultAction)return this;if(N){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var _=function(){var C=i.isFullScreen();C||(i.removeEvent(document,i.fullScreenEventName,_),i.removeEvent(document,i.fullScreenErrorEventName,_),D.setFullPage(!1),D.isFullPage()&&(D.element.style.width=D.fullPageStyleWidth,D.element.style.height=D.fullPageStyleHeight)),D.navigator&&D.viewport&&setTimeout(function(){D.navigator.update(D.viewport)}),D.raiseEvent("full-screen",{fullScreen:C})};i.addEvent(document,i.fullScreenEventName,_),i.addEvent(document,i.fullScreenErrorEventName,_),i.requestFullScreen(document.body)}else i.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return i.isFullScreen()&&this.isFullPage()},setVisible:function(N){return this.container.style.visibility=N?"":"hidden",this.raiseEvent("visible",{visible:N}),this},addTiledImage:function(N){i.console.assert(N,"[Viewer.addTiledImage] options is required"),i.console.assert(N.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),i.console.assert(!N.replace||N.index>-1&&N.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var D=this;N.replace&&(N.replaceItem=D.world.getItemAt(N.index)),this._hideMessage(),N.placeholderFillStyle===void 0&&(N.placeholderFillStyle=this.placeholderFillStyle),N.opacity===void 0&&(N.opacity=this.opacity),N.preload===void 0&&(N.preload=this.preload),N.compositeOperation===void 0&&(N.compositeOperation=this.compositeOperation),N.crossOriginPolicy===void 0&&(N.crossOriginPolicy=N.tileSource.crossOriginPolicy!==void 0?N.tileSource.crossOriginPolicy:this.crossOriginPolicy),N.ajaxWithCredentials===void 0&&(N.ajaxWithCredentials=this.ajaxWithCredentials),N.loadTilesWithAjax===void 0&&(N.loadTilesWithAjax=this.loadTilesWithAjax),i.isPlainObject(N.ajaxHeaders)||(N.ajaxHeaders={});var Y={options:N};function _(H){for(var ie=0;ie<D._loadQueue.length;ie++)if(D._loadQueue[ie]===Y){D._loadQueue.splice(ie,1);break}D._loadQueue.length===0&&C(Y),D.raiseEvent("add-item-failed",H),N.error&&N.error(H)}function C(H){D.collectionMode&&(D.world.arrange({immediately:H.options.collectionImmediately,rows:D.collectionRows,columns:D.collectionColumns,layout:D.collectionLayout,tileSize:D.collectionTileSize,tileMargin:D.collectionTileMargin}),D.world.setAutoRefigureSizes(!0))}if(i.isArray(N.tileSource)){setTimeout(function(){_({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:N.tileSource,options:N})});return}this._loadQueue.push(Y);function k(){for(var H,ie,re;D._loadQueue.length&&(H=D._loadQueue[0],!!H.tileSource);){if(D._loadQueue.splice(0,1),H.options.replace){var Se=D.world.getIndexOfItem(H.options.replaceItem);Se!==-1&&(H.options.index=Se),D.world.removeItem(H.options.replaceItem)}ie=new i.TiledImage({viewer:D,source:H.tileSource,viewport:D.viewport,drawer:D.drawer,tileCache:D.tileCache,imageLoader:D.imageLoader,x:H.options.x,y:H.options.y,width:H.options.width,height:H.options.height,fitBounds:H.options.fitBounds,fitBoundsPlacement:H.options.fitBoundsPlacement,clip:H.options.clip,placeholderFillStyle:H.options.placeholderFillStyle,opacity:H.options.opacity,preload:H.options.preload,degrees:H.options.degrees,flipped:H.options.flipped,compositeOperation:H.options.compositeOperation,springStiffness:D.springStiffness,animationTime:D.animationTime,minZoomImageRatio:D.minZoomImageRatio,wrapHorizontal:D.wrapHorizontal,wrapVertical:D.wrapVertical,maxTilesPerFrame:D.maxTilesPerFrame,immediateRender:D.immediateRender,blendTime:D.blendTime,alwaysBlend:D.alwaysBlend,minPixelRatio:D.minPixelRatio,smoothTileEdgesMinZoom:D.smoothTileEdgesMinZoom,iOSDevice:D.iOSDevice,crossOriginPolicy:H.options.crossOriginPolicy,ajaxWithCredentials:H.options.ajaxWithCredentials,loadTilesWithAjax:H.options.loadTilesWithAjax,ajaxHeaders:H.options.ajaxHeaders,debugMode:D.debugMode,subPixelRoundingForTransparency:D.subPixelRoundingForTransparency}),D.collectionMode&&D.world.setAutoRefigureSizes(!1),D.navigator&&(re=i.extend({},H.options,{replace:!1,originalTiledImage:ie,tileSource:H.tileSource}),D.navigator.addTiledImage(re)),D.world.addItem(ie,{index:H.options.index}),D._loadQueue.length===0&&C(H),D.world.getItemCount()===1&&!D.preserveViewport&&D.viewport.goHome(!0),H.options.success&&H.options.success({item:ie})}}e(this,N.tileSource,N,function(H){Y.tileSource=H,k()},function(H){H.options=N,_(H),k()})},addSimpleImage:function(N){i.console.assert(N,"[Viewer.addSimpleImage] options is required"),i.console.assert(N.url,"[Viewer.addSimpleImage] options.url is required");var D=i.extend({},N,{tileSource:{type:"image",url:N.url}});delete D.url,this.addTiledImage(D)},addLayer:function(N){var D=this;i.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var Y=i.extend({},N,{success:function(_){D.raiseEvent("add-layer",{options:N,drawer:_.item})},error:function(_){D.raiseEvent("add-layer-failed",_)}});return this.addTiledImage(Y),this},getLayerAtLevel:function(N){return i.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(N)},getLevelOfLayer:function(N){return i.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(N)},getLayersCount:function(){return i.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(N,D){return i.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(N,D)},removeLayer:function(N){return i.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(N)},forceRedraw:function(){return n[this.hash].forceRedraw=!0,this},forceResize:function(){n[this.hash].needsResize=!0,n[this.hash].forceResize=!0},bindSequenceControls:function(){var N=i.delegate(this,m),D=i.delegate(this,g),Y=i.delegate(this,this.goToNextPage),_=i.delegate(this,this.goToPreviousPage),C=this.navImages,k=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(k=!1),this.previousButton=new i.Button({element:this.previousButton?i.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.PreviousPage"),srcRest:Q(this.prefixUrl,C.previous.REST),srcGroup:Q(this.prefixUrl,C.previous.GROUP),srcHover:Q(this.prefixUrl,C.previous.HOVER),srcDown:Q(this.prefixUrl,C.previous.DOWN),onRelease:_,onFocus:N,onBlur:D}),this.nextButton=new i.Button({element:this.nextButton?i.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.NextPage"),srcRest:Q(this.prefixUrl,C.next.REST),srcGroup:Q(this.prefixUrl,C.next.GROUP),srcHover:Q(this.prefixUrl,C.next.HOVER),srcDown:Q(this.prefixUrl,C.next.DOWN),onRelease:Y,onFocus:N,onBlur:D}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),k&&(this.paging=new i.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:i.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||i.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var N=i.delegate(this,ue),D=i.delegate(this,ce),Y=i.delegate(this,we),_=i.delegate(this,X),C=i.delegate(this,me),k=i.delegate(this,ye),H=i.delegate(this,de),ie=i.delegate(this,_e),re=i.delegate(this,W),Se=i.delegate(this,pe),ze=i.delegate(this,m),Ge=i.delegate(this,g),Qe=this.navImages,A=[],M=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(M=!1),this.showZoomControl&&(A.push(this.zoomInButton=new i.Button({element:this.zoomInButton?i.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.ZoomIn"),srcRest:Q(this.prefixUrl,Qe.zoomIn.REST),srcGroup:Q(this.prefixUrl,Qe.zoomIn.GROUP),srcHover:Q(this.prefixUrl,Qe.zoomIn.HOVER),srcDown:Q(this.prefixUrl,Qe.zoomIn.DOWN),onPress:N,onRelease:D,onClick:Y,onEnter:N,onExit:D,onFocus:ze,onBlur:Ge})),A.push(this.zoomOutButton=new i.Button({element:this.zoomOutButton?i.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.ZoomOut"),srcRest:Q(this.prefixUrl,Qe.zoomOut.REST),srcGroup:Q(this.prefixUrl,Qe.zoomOut.GROUP),srcHover:Q(this.prefixUrl,Qe.zoomOut.HOVER),srcDown:Q(this.prefixUrl,Qe.zoomOut.DOWN),onPress:_,onRelease:D,onClick:C,onEnter:_,onExit:D,onFocus:ze,onBlur:Ge}))),this.showHomeControl&&A.push(this.homeButton=new i.Button({element:this.homeButton?i.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.Home"),srcRest:Q(this.prefixUrl,Qe.home.REST),srcGroup:Q(this.prefixUrl,Qe.home.GROUP),srcHover:Q(this.prefixUrl,Qe.home.HOVER),srcDown:Q(this.prefixUrl,Qe.home.DOWN),onRelease:k,onFocus:ze,onBlur:Ge})),this.showFullPageControl&&A.push(this.fullPageButton=new i.Button({element:this.fullPageButton?i.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.FullPage"),srcRest:Q(this.prefixUrl,Qe.fullpage.REST),srcGroup:Q(this.prefixUrl,Qe.fullpage.GROUP),srcHover:Q(this.prefixUrl,Qe.fullpage.HOVER),srcDown:Q(this.prefixUrl,Qe.fullpage.DOWN),onRelease:H,onFocus:ze,onBlur:Ge})),this.showRotationControl&&(A.push(this.rotateLeftButton=new i.Button({element:this.rotateLeftButton?i.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.RotateLeft"),srcRest:Q(this.prefixUrl,Qe.rotateleft.REST),srcGroup:Q(this.prefixUrl,Qe.rotateleft.GROUP),srcHover:Q(this.prefixUrl,Qe.rotateleft.HOVER),srcDown:Q(this.prefixUrl,Qe.rotateleft.DOWN),onRelease:ie,onFocus:ze,onBlur:Ge})),A.push(this.rotateRightButton=new i.Button({element:this.rotateRightButton?i.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.RotateRight"),srcRest:Q(this.prefixUrl,Qe.rotateright.REST),srcGroup:Q(this.prefixUrl,Qe.rotateright.GROUP),srcHover:Q(this.prefixUrl,Qe.rotateright.HOVER),srcDown:Q(this.prefixUrl,Qe.rotateright.DOWN),onRelease:re,onFocus:ze,onBlur:Ge}))),this.showFlipControl&&A.push(this.flipButton=new i.Button({element:this.flipButton?i.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.Flip"),srcRest:Q(this.prefixUrl,Qe.flip.REST),srcGroup:Q(this.prefixUrl,Qe.flip.GROUP),srcHover:Q(this.prefixUrl,Qe.flip.HOVER),srcDown:Q(this.prefixUrl,Qe.flip.DOWN),onRelease:Se,onFocus:ze,onBlur:Ge})),M?(this.buttonGroup=new i.ButtonGroup({buttons:A,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",i.delegate(this,G)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||i.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||i.ControlAnchor.TOP_LEFT})):this.customButtons=A),this},currentPage:function(){return this._sequenceIndex},goToPage:function(N){return this.tileSources&&N>=0&&N<this.tileSources.length&&(this._sequenceIndex=N,this._updateSequenceButtons(N),this.open(this.tileSources[N]),this.referenceStrip&&this.referenceStrip.setFocus(N),this.raiseEvent("page",{page:N})),this},addOverlay:function(N,D,Y,_){var C;if(i.isPlainObject(N)?C=N:C={element:N,location:D,placement:Y,onDraw:_},N=i.getElement(C.element),a(this.currentOverlays,N)>=0)return this;var k=t(this,C);return this.currentOverlays.push(k),k.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:N,location:C.location,placement:C.placement}),this},updateOverlay:function(N,D,Y){var _;return N=i.getElement(N),_=a(this.currentOverlays,N),_>=0&&(this.currentOverlays[_].update(D,Y),n[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:N,location:D,placement:Y})),this},removeOverlay:function(N){var D;return N=i.getElement(N),D=a(this.currentOverlays,N),D>=0&&(this.currentOverlays[D].destroy(),this.currentOverlays.splice(D,1),n[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:N})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return n[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(N){var D;return N=i.getElement(N),D=a(this.currentOverlays,N),D>=0?this.currentOverlays[D]:null},_updateSequenceButtons:function(N){this.nextButton&&(!this.tileSources||this.tileSources.length-1===N?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(N>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(N){this._hideMessage();var D=i.makeNeutralElement("div");D.appendChild(document.createTextNode(N)),this.messageDiv=i.makeCenteredNode(D),i.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var N=this.messageDiv;N&&(N.parentNode.removeChild(N),delete this.messageDiv)},gestureSettingsByDeviceType:function(N){switch(N){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var N,D=this.currentOverlays.length;for(N=0;N<D;N++)this.currentOverlays[N].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new i.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else i.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),i.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){i.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var N=i.pixelDensityRatio,D=i.getCurrentPixelDensityRatio();N!==D&&(i.pixelDensityRatio=D,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var N=this._sequenceIndex-1;this.navPrevNextWrap&&N<0&&(N+=this.tileSources.length),this.goToPage(N)},goToNextPage:function(){var N=this._sequenceIndex+1;this.navPrevNextWrap&&N>=this.tileSources.length&&(N=0),this.goToPage(N)},isAnimating:function(){return n[this.hash].animating}});function o(N){return N=i.getElement(N),new i.Point(N.clientWidth===0?1:N.clientWidth,N.clientHeight===0?1:N.clientHeight)}function e(N,D,Y,_,C){var k=N;if(i.type(D)==="string"){if(D.match(/^\s*<.*>\s*$/))D=i.parseXml(D);else if(D.match(/^\s*[{[].*[}\]]\s*$/))try{var H=i.parseJSON(D);D=H}catch{}}function ie(re,Se){re.ready?_(re):(re.addHandler("ready",function(){_(re)}),re.addHandler("open-failed",function(ze){C({message:ze.message,source:Se})}))}setTimeout(function(){if(i.type(D)==="string")D=new i.TileSource({url:D,crossOriginPolicy:Y.crossOriginPolicy!==void 0?Y.crossOriginPolicy:N.crossOriginPolicy,ajaxWithCredentials:N.ajaxWithCredentials,ajaxHeaders:Y.ajaxHeaders?Y.ajaxHeaders:N.ajaxHeaders,splitHashDataForPost:N.splitHashDataForPost,success:function(Ge){_(Ge.tileSource)}}),D.addHandler("open-failed",function(Ge){C(Ge)});else if(i.isPlainObject(D)||D.nodeType)if(D.crossOriginPolicy===void 0&&(Y.crossOriginPolicy!==void 0||N.crossOriginPolicy!==void 0)&&(D.crossOriginPolicy=Y.crossOriginPolicy!==void 0?Y.crossOriginPolicy:N.crossOriginPolicy),D.ajaxWithCredentials===void 0&&(D.ajaxWithCredentials=N.ajaxWithCredentials),i.isFunction(D.getTileUrl)){var re=new i.TileSource(D);re.getTileUrl=D.getTileUrl,_(re)}else{var Se=i.TileSource.determineType(k,D);if(!Se){C({message:"Unable to load TileSource",source:D});return}var ze=Se.prototype.configure.apply(k,[D]);ie(new Se(ze),D)}else ie(D,D)})}function t(N,D){if(D instanceof i.Overlay)return D;var Y=null;if(D.element)Y=i.getElement(D.element);else{var _=D.id?D.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);Y=i.getElement(D.id),Y||(Y=document.createElement("a"),Y.href="#/overlay/"+_),Y.id=_,i.addClass(Y,D.className?D.className:"openseadragon-overlay")}var C=D.location,k=D.width,H=D.height;if(!C){var ie=D.x,re=D.y;if(D.px!==void 0){var Se=N.viewport.imageToViewportRectangle(new i.Rect(D.px,D.py,k||0,H||0));ie=Se.x,re=Se.y,k=k!==void 0?Se.width:void 0,H=H!==void 0?Se.height:void 0}C=new i.Point(ie,re)}var ze=D.placement;return ze&&i.type(ze)==="string"&&(ze=i.Placement[D.placement.toUpperCase()]),new i.Overlay({element:Y,location:C,placement:ze,onDraw:D.onDraw,checkResize:D.checkResize,width:k,height:H,rotationMode:D.rotationMode})}function a(N,D){var Y;for(Y=N.length-1;Y>=0;Y--)if(N[Y].element===D)return Y;return-1}function d(N,D){return i.requestAnimationFrame(function(){D(N)})}function s(N){i.requestAnimationFrame(function(){u(N)})}function c(N){N.autoHideControls&&(N.controlsShouldFade=!0,N.controlsFadeBeginTime=i.now()+N.controlsFadeDelay,window.setTimeout(function(){s(N)},N.controlsFadeDelay))}function u(N){var D,Y,_,C;if(N.controlsShouldFade){for(D=i.now(),Y=D-N.controlsFadeBeginTime,_=1-Y/N.controlsFadeLength,_=Math.min(1,_),_=Math.max(0,_),C=N.controls.length-1;C>=0;C--)N.controls[C].autoFade&&N.controls[C].setOpacity(_);_>0&&s(N)}}function p(N){var D;for(N.controlsShouldFade=!1,D=N.controls.length-1;D>=0;D--)N.controls[D].setOpacity(1)}function m(){p(this)}function g(){c(this)}function v(N){var D={tracker:N.eventSource,position:N.position,originalEvent:N.originalEvent,preventDefault:N.preventDefault};this.raiseEvent("canvas-contextmenu",D),N.preventDefault=D.preventDefault}function x(N){var D={originalEvent:N.originalEvent,preventDefaultAction:!1,preventVerticalPan:N.preventVerticalPan||!this.panVertical,preventHorizontalPan:N.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",D),!D.preventDefaultAction&&!N.ctrl&&!N.alt&&!N.meta)switch(N.keyCode){case 38:D.preventVerticalPan||(N.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new i.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),N.preventDefault=!0;break;case 40:D.preventVerticalPan||(N.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new i.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),N.preventDefault=!0;break;case 37:D.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new i.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),N.preventDefault=!0;break;case 39:D.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new i.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),N.preventDefault=!0;break;case 187:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),N.preventDefault=!0;break;case 189:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),N.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),N.preventDefault=!0;break;case 87:D.preventVerticalPan||(N.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new i.Point(0,-40))),this.viewport.applyConstraints()),N.preventDefault=!0;break;case 83:D.preventVerticalPan||(N.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new i.Point(0,40))),this.viewport.applyConstraints()),N.preventDefault=!0;break;case 65:D.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new i.Point(-40,0))),this.viewport.applyConstraints()),N.preventDefault=!0;break;case 68:D.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new i.Point(40,0))),this.viewport.applyConstraints()),N.preventDefault=!0;break;case 82:N.shift?this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),N.preventDefault=!0;break;case 70:this.viewport.toggleFlip(),N.preventDefault=!0;break;case 74:this.goToPreviousPage();break;case 75:this.goToNextPage();break;default:N.preventDefault=!1;break}else N.preventDefault=!1}function y(N){var D={originalEvent:N.originalEvent};this.raiseEvent("canvas-key-press",D)}function w(N){var D,Y=document.activeElement===this.canvas;Y||this.canvas.focus(),this.viewport.flipped&&(N.position.x=this.viewport.getContainerSize().x-N.position.x);var _={tracker:N.eventSource,position:N.position,quick:N.quick,shift:N.shift,originalEvent:N.originalEvent,originalTarget:N.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",_),!_.preventDefaultAction&&this.viewport&&N.quick&&(D=this.gestureSettingsByDeviceType(N.pointerType),D.clickToZoom===!0&&(this.viewport.zoomBy(N.shift?1/this.zoomPerClick:this.zoomPerClick,D.zoomToRefPoint?this.viewport.pointFromPixel(N.position,!0):null),this.viewport.applyConstraints()),D.dblClickDragToZoom&&(n[this.hash].draggingToZoom===!0?(n[this.hash].lastClickTime=null,n[this.hash].draggingToZoom=!1):n[this.hash].lastClickTime=i.now()))}function S(N){var D,Y={tracker:N.eventSource,position:N.position,shift:N.shift,originalEvent:N.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",Y),!Y.preventDefaultAction&&this.viewport&&(D=this.gestureSettingsByDeviceType(N.pointerType),D.dblClickToZoom&&(this.viewport.zoomBy(N.shift?1/this.zoomPerClick:this.zoomPerClick,D.zoomToRefPoint?this.viewport.pointFromPixel(N.position,!0):null),this.viewport.applyConstraints()))}function P(N){var D,Y={tracker:N.eventSource,pointerType:N.pointerType,position:N.position,delta:N.delta,speed:N.speed,direction:N.direction,shift:N.shift,originalEvent:N.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",Y),D=this.gestureSettingsByDeviceType(N.pointerType),!Y.preventDefaultAction&&this.viewport){if(D.dblClickDragToZoom&&n[this.hash].draggingToZoom){var _=Math.pow(this.zoomPerDblClickDrag,N.delta.y/50);this.viewport.zoomBy(_)}else if(D.dragToPan&&!n[this.hash].draggingToZoom){if(this.panHorizontal||(N.delta.x=0),this.panVertical||(N.delta.y=0),this.viewport.flipped&&(N.delta.x=-N.delta.x),this.constrainDuringPan){var C=this.viewport.deltaPointsFromPixels(N.delta.negate());this.viewport.centerSpringX.target.value+=C.x,this.viewport.centerSpringY.target.value+=C.y;var k=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=C.x,this.viewport.centerSpringY.target.value-=C.y,k.xConstrained&&(N.delta.x=0),k.yConstrained&&(N.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(N.delta.negate()),D.flickEnabled&&!this.constrainDuringPan)}}}function j(N){var D,Y={tracker:N.eventSource,pointerType:N.pointerType,position:N.position,speed:N.speed,direction:N.direction,shift:N.shift,originalEvent:N.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",Y),D=this.gestureSettingsByDeviceType(N.pointerType),!Y.preventDefaultAction&&this.viewport){if(!n[this.hash].draggingToZoom&&D.dragToPan&&D.flickEnabled&&N.speed>=D.flickMinSpeed){var _=0;this.panHorizontal&&(_=D.flickMomentum*N.speed*Math.cos(N.direction));var C=0;this.panVertical&&(C=D.flickMomentum*N.speed*Math.sin(N.direction));var k=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),H=this.viewport.pointFromPixel(new i.Point(k.x-_,k.y-C));this.viewport.panTo(H,!1)}this.viewport.applyConstraints()}D.dblClickDragToZoom&&n[this.hash].draggingToZoom===!0&&(n[this.hash].draggingToZoom=!1)}function R(N){this.raiseEvent("canvas-enter",{tracker:N.eventSource,pointerType:N.pointerType,position:N.position,buttons:N.buttons,pointers:N.pointers,insideElementPressed:N.insideElementPressed,buttonDownAny:N.buttonDownAny,originalEvent:N.originalEvent})}function T(N){this.raiseEvent("canvas-exit",{tracker:N.eventSource,pointerType:N.pointerType,position:N.position,buttons:N.buttons,pointers:N.pointers,insideElementPressed:N.insideElementPressed,buttonDownAny:N.buttonDownAny,originalEvent:N.originalEvent})}function q(N){var D;if(this.raiseEvent("canvas-press",{tracker:N.eventSource,pointerType:N.pointerType,position:N.position,insideElementPressed:N.insideElementPressed,insideElementReleased:N.insideElementReleased,originalEvent:N.originalEvent}),D=this.gestureSettingsByDeviceType(N.pointerType),D.dblClickDragToZoom){var Y=n[this.hash].lastClickTime,_=i.now();if(Y===null)return;_-Y<this.dblClickTimeThreshold&&(n[this.hash].draggingToZoom=!0),n[this.hash].lastClickTime=null}}function $(N){this.raiseEvent("canvas-release",{tracker:N.eventSource,pointerType:N.pointerType,position:N.position,insideElementPressed:N.insideElementPressed,insideElementReleased:N.insideElementReleased,originalEvent:N.originalEvent})}function z(N){this.raiseEvent("canvas-nonprimary-press",{tracker:N.eventSource,position:N.position,pointerType:N.pointerType,button:N.button,buttons:N.buttons,originalEvent:N.originalEvent})}function I(N){this.raiseEvent("canvas-nonprimary-release",{tracker:N.eventSource,position:N.position,pointerType:N.pointerType,button:N.button,buttons:N.buttons,originalEvent:N.originalEvent})}function Z(N){var D,Y,_,C,k={tracker:N.eventSource,pointerType:N.pointerType,gesturePoints:N.gesturePoints,lastCenter:N.lastCenter,center:N.center,lastDistance:N.lastDistance,distance:N.distance,shift:N.shift,originalEvent:N.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",k),this.viewport&&(D=this.gestureSettingsByDeviceType(N.pointerType),D.pinchToZoom&&(!k.preventDefaultPanAction||!k.preventDefaultZoomAction)&&(Y=this.viewport.pointFromPixel(N.center,!0),D.zoomToRefPoint&&!k.preventDefaultPanAction&&(_=this.viewport.pointFromPixel(N.lastCenter,!0),C=_.minus(Y),this.panHorizontal||(C.x=0),this.panVertical||(C.y=0),this.viewport.panBy(C,!0)),k.preventDefaultZoomAction||this.viewport.zoomBy(N.distance/N.lastDistance,Y,!0),this.viewport.applyConstraints()),D.pinchRotate&&!k.preventDefaultRotateAction)){var H=Math.atan2(N.gesturePoints[0].currentPos.y-N.gesturePoints[1].currentPos.y,N.gesturePoints[0].currentPos.x-N.gesturePoints[1].currentPos.x),ie=Math.atan2(N.gesturePoints[0].lastPos.y-N.gesturePoints[1].lastPos.y,N.gesturePoints[0].lastPos.x-N.gesturePoints[1].lastPos.x);Y=this.viewport.pointFromPixel(N.center,!0),this.viewport.rotateTo(this.viewport.getRotation(!0)+(H-ie)*(180/Math.PI),Y,!0)}}function B(N){this.raiseEvent("canvas-focus",{tracker:N.eventSource,originalEvent:N.originalEvent})}function se(N){this.raiseEvent("canvas-blur",{tracker:N.eventSource,originalEvent:N.originalEvent})}function ge(N){var D,Y,_,C,k;C=i.now(),k=C-this._lastScrollTime,k>this.minScrollDeltaTime?(this._lastScrollTime=C,D={tracker:N.eventSource,position:N.position,scroll:N.scroll,shift:N.shift,originalEvent:N.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",D),!D.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(N.position.x=this.viewport.getContainerSize().x-N.position.x),Y=this.gestureSettingsByDeviceType(N.pointerType),Y.scrollToZoom&&(_=Math.pow(this.zoomPerScroll,N.scroll),this.viewport.zoomBy(_,Y.zoomToRefPoint?this.viewport.pointFromPixel(N.position,!0):null),this.viewport.applyConstraints())),N.preventDefault=D.preventDefault):N.preventDefault=!0}function ae(N){n[this.hash].mouseInside=!0,p(this),this.raiseEvent("container-enter",{tracker:N.eventSource,pointerType:N.pointerType,position:N.position,buttons:N.buttons,pointers:N.pointers,insideElementPressed:N.insideElementPressed,buttonDownAny:N.buttonDownAny,originalEvent:N.originalEvent})}function U(N){N.pointers<1&&(n[this.hash].mouseInside=!1,n[this.hash].animating||c(this)),this.raiseEvent("container-exit",{tracker:N.eventSource,pointerType:N.pointerType,position:N.position,buttons:N.buttons,pointers:N.pointers,insideElementPressed:N.insideElementPressed,buttonDownAny:N.buttonDownAny,originalEvent:N.originalEvent})}function ve(N){ne(N),N.isOpen()?N._updateRequestId=d(N,ve):N._updateRequestId=!1}function O(N,D){var Y=N.viewport,_=Y.getZoom(),C=Y.getCenter();Y.resize(D,N.preserveImageSizeOnResize),Y.panTo(C,!0);var k;if(N.preserveImageSizeOnResize)k=n[N.hash].prevContainerSize.x/D.x;else{var H=new i.Point(0,0),ie=new i.Point(n[N.hash].prevContainerSize.x,n[N.hash].prevContainerSize.y).distanceTo(H),re=new i.Point(D.x,D.y).distanceTo(H);k=re/ie*n[N.hash].prevContainerSize.x/D.x}Y.zoomTo(_*k,null,!0),n[N.hash].prevContainerSize=D,n[N.hash].forceRedraw=!0,n[N.hash].needsResize=!1,n[N.hash].forceResize=!1}function ne(N){if(!(N._opening||!n[N.hash])){if(N.autoResize||n[N.hash].forceResize){var D;if(N._autoResizePolling){D=o(N.container);var Y=n[N.hash].prevContainerSize;D.equals(Y)||(n[N.hash].needsResize=!0)}n[N.hash].needsResize&&O(N,D||o(N.container))}var _=N.viewport.update(),C=N.world.update(_)||_;_&&N.raiseEvent("viewport-change"),N.referenceStrip&&(C=N.referenceStrip.update(N.viewport)||C);var k=n[N.hash].animating;!k&&C&&(N.raiseEvent("animation-start"),p(N));var H=k&&!C;H&&(n[N.hash].animating=!1),(C||H||n[N.hash].forceRedraw||N.world.needsDraw())&&(he(N),N._drawOverlays(),N.navigator&&N.navigator.update(N.viewport),n[N.hash].forceRedraw=!1,C&&N.raiseEvent("animation")),H&&(N.raiseEvent("animation-finish"),n[N.hash].mouseInside||c(N)),n[N.hash].animating=C}}function he(N){N.imageLoader.clear(),N.world.draw(),N.raiseEvent("update-viewport",{})}function Q(N,D){return N?N+D:D}function ue(){n[this.hash].lastZoomTime=i.now(),n[this.hash].zoomFactor=this.zoomPerSecond,n[this.hash].zooming=!0,fe(this)}function X(){n[this.hash].lastZoomTime=i.now(),n[this.hash].zoomFactor=1/this.zoomPerSecond,n[this.hash].zooming=!0,fe(this)}function ce(){n[this.hash].zooming=!1}function fe(N){i.requestAnimationFrame(i.delegate(N,Te))}function Te(){var N,D,Y;n[this.hash].zooming&&this.viewport&&(N=i.now(),D=N-n[this.hash].lastZoomTime,Y=Math.pow(n[this.hash].zoomFactor,D/1e3),this.viewport.zoomBy(Y),this.viewport.applyConstraints(),n[this.hash].lastZoomTime=N,fe(this))}function we(){this.viewport&&(n[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function me(){this.viewport&&(n[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function G(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function ye(){this.viewport&&this.viewport.goHome()}function de(){this.isFullPage()&&!i.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function _e(){if(this.viewport){var N=this.viewport.getRotation();this.viewport.flipped?N+=this.rotationIncrement:N-=this.rotationIncrement,this.viewport.setRotation(N)}}function W(){if(this.viewport){var N=this.viewport.getRotation();this.viewport.flipped?N-=this.rotationIncrement:N+=this.rotationIncrement,this.viewport.setRotation(N)}}function pe(){this.viewport.toggleFlip()}i.determineDrawer=function(N){for(let D in Je){let Y=Je[D],_=Y.prototype;if(_&&_ instanceof Je.DrawerBase&&i.isFunction(_.getType)&&_.getType.call(Y)===N)return Y}return null}})(Je);(function(i){i.Navigator=function(d){var s=d.viewer,c=this,u,p;d.element||d.id?(d.element?(d.id&&i.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),d.element.id?d.id=d.element.id:d.id="navigator-"+i.now(),this.element=d.element):this.element=document.getElementById(d.id),d.controlOptions={anchor:i.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(d.id="navigator-"+i.now(),this.element=i.makeNeutralElement("div"),d.controlOptions={anchor:i.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:d.autoFade},d.position&&(d.position==="BOTTOM_RIGHT"?d.controlOptions.anchor=i.ControlAnchor.BOTTOM_RIGHT:d.position==="BOTTOM_LEFT"?d.controlOptions.anchor=i.ControlAnchor.BOTTOM_LEFT:d.position==="TOP_RIGHT"?d.controlOptions.anchor=i.ControlAnchor.TOP_RIGHT:d.position==="TOP_LEFT"?d.controlOptions.anchor=i.ControlAnchor.TOP_LEFT:d.position==="ABSOLUTE"&&(d.controlOptions.anchor=i.ControlAnchor.ABSOLUTE,d.controlOptions.top=d.top,d.controlOptions.left=d.left,d.controlOptions.height=d.height,d.controlOptions.width=d.width))),this.element.id=d.id,this.element.className+=" navigator",d=i.extend(!0,{sizeRatio:i.DEFAULT_SETTINGS.navigatorSizeRatio},d,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:d.animationTime,autoResize:!1,minZoomImageRatio:1,background:d.background,opacity:d.opacity,borderColor:d.borderColor,displayRegionColor:d.displayRegionColor}),d.minPixelRatio=this.minPixelRatio=s.minPixelRatio,i.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new i.Point(1,1),this.totalBorderWidths=new i.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),d.controlOptions.anchor!==i.ControlAnchor.NONE&&function(v,x){v.margin="0px",v.border=x+"px solid "+d.borderColor,v.padding="0px",v.background=d.background,v.opacity=d.opacity,v.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=i.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(v,x){v.position="relative",v.top="0px",v.left="0px",v.fontSize="0px",v.overflow="hidden",v.border=x+"px solid "+d.displayRegionColor,v.margin="0px",v.padding="0px",v.background="transparent",v.float="left",v.cssFloat="left",v.zIndex=999999999,v.cursor="default",v.boxSizing="content-box"}(this.displayRegion.style,this.borderWidth),i.setElementPointerEventsNone(this.displayRegion),i.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=i.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",i.setElementPointerEventsNone(this.displayRegionContainer),i.setElementTouchActionNone(this.displayRegionContainer),s.addControl(this.element,d.controlOptions),this._resizeWithViewer=d.controlOptions.anchor!==i.ControlAnchor.ABSOLUTE&&d.controlOptions.anchor!==i.ControlAnchor.NONE,d.width&&d.height?(this.setWidth(d.width),this.setHeight(d.height)):this._resizeWithViewer&&(u=i.getElementSize(s.element),this.element.style.height=Math.round(u.y*d.sizeRatio)+"px",this.element.style.width=Math.round(u.x*d.sizeRatio)+"px",this.oldViewerSize=u,p=i.getElementSize(this.element),this.elementArea=p.x*p.y),this.oldContainerSize=new i.Point(0,0),i.Viewer.apply(this,[d]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function m(v,x){t(c.displayRegionContainer,v),t(c.displayRegion,-v),c.viewport.setRotation(v,x)}if(d.navigatorRotate){var g=d.viewer.viewport?d.viewer.viewport.getRotation():d.viewer.degrees||0;m(g,!0),d.viewer.addHandler("rotate",function(v){m(v.degrees,v.immediately)})}this.innerTracker.destroy(),this.innerTracker=new i.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:i.delegate(this,r),clickHandler:i.delegate(this,n),releaseHandler:i.delegate(this,o),scrollHandler:i.delegate(this,e),preProcessEventHandler:function(v){v.eventType==="wheel"&&(v.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",i.setElementPointerEventsNone(this.canvas),i.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){c.viewport&&c.viewport.goHome(!0)}),s.world.addHandler("item-index-change",function(v){window.setTimeout(function(){var x=c.world.getItemAt(v.previousIndex);c.world.setItemIndex(x,v.newIndex)},1)}),s.world.addHandler("remove-item",function(v){var x=v.item,y=c._getMatchingItem(x);y&&c.world.removeItem(y)}),this.update(s.viewport)},i.extend(i.Navigator.prototype,i.EventSource.prototype,i.Viewer.prototype,{updateSize:function(){if(this.viewport){var d=new i.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);d.equals(this.oldContainerSize)||(this.viewport.resize(d,!0),this.viewport.goHome(!0),this.oldContainerSize=d,this.world.update(),this.world.draw(),this.update(this.viewer.viewport))}},setWidth:function(d){this.width=d,this.element.style.width=typeof d=="number"?d+"px":d,this._resizeWithViewer=!1,this.updateSize()},setHeight:function(d){this.height=d,this.element.style.height=typeof d=="number"?d+"px":d,this._resizeWithViewer=!1,this.updateSize()},setFlip:function(d){return this.viewport.setFlip(d),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(d){a(this.displayRegion,d),a(this.canvas,d),a(this.element,d)},update:function(d){var s,c,u,p,m,g;if(d||(d=this.viewer.viewport),s=i.getElementSize(this.viewer.element),this._resizeWithViewer&&s.x&&s.y&&!s.equals(this.oldViewerSize)&&(this.oldViewerSize=s,this.maintainSizeRatio||!this.elementArea?(c=s.x*this.sizeRatio,u=s.y*this.sizeRatio):(c=Math.sqrt(this.elementArea*(s.x/s.y)),u=this.elementArea/c),this.element.style.width=Math.round(c)+"px",this.element.style.height=Math.round(u)+"px",this.elementArea||(this.elementArea=c*u),this.updateSize()),d&&this.viewport){if(p=d.getBoundsNoRotate(!0),m=this.viewport.pixelFromPointNoRotate(p.getTopLeft(),!1),g=this.viewport.pixelFromPointNoRotate(p.getBottomRight(),!1).minus(this.totalBorderWidths),!this.navigatorRotate){var v=d.getRotation(!0);t(this.displayRegion,-v)}var x=this.displayRegion.style;x.display=this.world.getItemCount()?"block":"none",x.top=m.y.toFixed(2)+"px",x.left=m.x.toFixed(2)+"px";var y=g.x-m.x,w=g.y-m.y;x.width=Math.round(Math.max(y,0))+"px",x.height=Math.round(Math.max(w,0))+"px"}},addTiledImage:function(d){var s=this,c=d.originalTiledImage;delete d.original;var u=i.extend({},d,{success:function(p){var m=p.item;m._originalForNavigator=c,s._matchBounds(m,c,!0),s._matchOpacity(m,c),s._matchCompositeOperation(m,c);function g(){s._matchBounds(m,c)}function v(){s._matchOpacity(m,c)}function x(){s._matchCompositeOperation(m,c)}c.addHandler("bounds-change",g),c.addHandler("clip-change",g),c.addHandler("opacity-change",v),c.addHandler("composite-operation-change",x)}});return i.Viewer.prototype.addTiledImage.apply(this,[u])},destroy:function(){return i.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(d){for(var s=this.world.getItemCount(),c,u=0;u<s;u++)if(c=this.world.getItemAt(u),c._originalForNavigator===d)return c;return null},_matchBounds:function(d,s,c){var u=s.getBoundsNoRotate();d.setPosition(u.getTopLeft(),c),d.setWidth(u.width,c),d.setRotation(s.getRotation(),c),d.setClip(s.getClip()),d.setFlip(s.getFlip())},_matchOpacity:function(d,s){d.setOpacity(s.opacity)},_matchCompositeOperation:function(d,s){d.setCompositeOperation(s.compositeOperation)}});function n(d){var s={tracker:d.eventSource,position:d.position,quick:d.quick,shift:d.shift,originalEvent:d.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",s),!s.preventDefaultAction&&d.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(d.position.x=this.viewport.getContainerSize().x-d.position.x);var c=this.viewport.pointFromPixel(d.position);this.panVertical?this.panHorizontal||(c.x=this.viewer.viewport.getCenter(!0).x):c.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(c),this.viewer.viewport.applyConstraints()}}function r(d){var s={tracker:d.eventSource,position:d.position,delta:d.delta,speed:d.speed,direction:d.direction,shift:d.shift,originalEvent:d.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",s),!s.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(d.delta.x=0),this.panVertical||(d.delta.y=0),this.viewer.viewport.flipped&&(d.delta.x=-d.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(d.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function o(d){d.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function e(d){var s={tracker:d.eventSource,position:d.position,scroll:d.scroll,shift:d.shift,originalEvent:d.originalEvent,preventDefault:d.preventDefault};this.viewer.raiseEvent("navigator-scroll",s),d.preventDefault=s.preventDefault}function t(d,s){a(d,"rotate("+s+"deg)")}function a(d,s){d.style.webkitTransform=s,d.style.mozTransform=s,d.style.msTransform=s,d.style.oTransform=s,d.style.transform=s}})(Je);(function(i){var n={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};i.extend(i,{getString:function(r){var o=r.split("."),e=null,t=arguments,a=n,d;for(d=0;d<o.length-1;d++)a=a[o[d]]||{};return e=a[o[d]],typeof e!="string"&&(i.console.error("Untranslated source string:",r),e=""),e.replace(/\{\d+\}/g,function(s){var c=parseInt(s.match(/\d+/),10)+1;return c<t.length?t[c]:""})},setString:function(r,o){var e=r.split("."),t=n,a;for(a=0;a<e.length-1;a++)t[e[a]]||(t[e[a]]={}),t=t[e[a]];t[e[a]]=o}})})(Je);(function(i){i.Point=function(n,r){this.x=typeof n=="number"?n:0,this.y=typeof r=="number"?r:0},i.Point.prototype={clone:function(){return new i.Point(this.x,this.y)},plus:function(n){return new i.Point(this.x+n.x,this.y+n.y)},minus:function(n){return new i.Point(this.x-n.x,this.y-n.y)},times:function(n){return new i.Point(this.x*n,this.y*n)},divide:function(n){return new i.Point(this.x/n,this.y/n)},negate:function(){return new i.Point(-this.x,-this.y)},distanceTo:function(n){return Math.sqrt(Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2))},squaredDistanceTo:function(n){return Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2)},apply:function(n){return new i.Point(n(this.x),n(this.y))},equals:function(n){return n instanceof i.Point&&this.x===n.x&&this.y===n.y},rotate:function(n,r){r=r||new i.Point(0,0);var o,e;if(n%90===0){var t=i.positiveModulo(n,360);switch(t){case 0:o=1,e=0;break;case 90:o=0,e=1;break;case 180:o=-1,e=0;break;case 270:o=0,e=-1;break}}else{var a=n*Math.PI/180;o=Math.cos(a),e=Math.sin(a)}var d=o*(this.x-r.x)-e*(this.y-r.y)+r.x,s=e*(this.x-r.x)+o*(this.y-r.y)+r.y;return new i.Point(d,s)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}})(Je);(function(i){i.TileSource=function(r,o,e,t,a,d){var s=this,c=arguments,u,p;if(i.isPlainObject(r)?u=r:u={width:c[0],height:c[1],tileSize:c[2],tileOverlap:c[3],minLevel:c[4],maxLevel:c[5]},i.EventSource.call(this),i.extend(!0,this,u),!this.success){for(p=0;p<arguments.length;p++)if(i.isFunction(arguments[p])){this.success=arguments[p];break}}this.success&&this.addHandler("ready",function(m){s.success(m)}),i.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new i.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=u.width&&u.height?u.width/u.height:1,this.dimensions=new i.Point(u.width,u.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=u.tileOverlap?u.tileOverlap:0,this.minLevel=u.minLevel?u.minLevel:0,this.maxLevel=u.maxLevel!==void 0&&u.maxLevel!==null?u.maxLevel:u.width&&u.height?Math.ceil(Math.log(Math.max(u.width,u.height))/Math.log(2)):0,this.success&&i.isFunction(this.success)&&this.success(this))},i.TileSource.prototype={getTileSize:function(r){return i.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(r){return this._tileWidth?this._tileWidth:this.getTileSize(r)},getTileHeight:function(r){return this._tileHeight?this._tileHeight:this.getTileSize(r)},setMaxLevel:function(r){this.maxLevel=r,this._memoizeLevelScale()},getLevelScale:function(r){return this._memoizeLevelScale(),this.getLevelScale(r)},_memoizeLevelScale:function(){var r={},o;for(o=0;o<=this.maxLevel;o++)r[o]=1/Math.pow(2,this.maxLevel-o);this.getLevelScale=function(e){return r[e]}},getNumTiles:function(r){var o=this.getLevelScale(r),e=Math.ceil(o*this.dimensions.x/this.getTileWidth(r)),t=Math.ceil(o*this.dimensions.y/this.getTileHeight(r));return new i.Point(e,t)},getPixelRatio:function(r){var o=this.dimensions.times(this.getLevelScale(r)),e=1/o.x*i.pixelDensityRatio,t=1/o.y*i.pixelDensityRatio;return new i.Point(e,t)},getClosestLevel:function(){var r,o;for(r=this.minLevel+1;r<=this.maxLevel&&(o=this.getNumTiles(r),!(o.x>1||o.y>1));r++);return r-1},getTileAtPoint:function(r,o){var e=o.x>=0&&o.x<=1&&o.y>=0&&o.y<=1/this.aspectRatio;i.console.assert(e,"[TileSource.getTileAtPoint] must be called with a valid point.");var t=this.dimensions.x*this.getLevelScale(r),a=o.x*t,d=o.y*t,s=Math.floor(a/this.getTileWidth(r)),c=Math.floor(d/this.getTileHeight(r));o.x>=1&&(s=this.getNumTiles(r).x-1);var u=1e-15;return o.y>=1/this.aspectRatio-u&&(c=this.getNumTiles(r).y-1),new i.Point(s,c)},getTileBounds:function(r,o,e,t){var a=this.dimensions.times(this.getLevelScale(r)),d=this.getTileWidth(r),s=this.getTileHeight(r),c=o===0?0:d*o-this.tileOverlap,u=e===0?0:s*e-this.tileOverlap,p=d+(o===0?1:2)*this.tileOverlap,m=s+(e===0?1:2)*this.tileOverlap,g=1/a.x;return p=Math.min(p,a.x-c),m=Math.min(m,a.y-u),t?new i.Rect(0,0,p,m):new i.Rect(c*g,u*g,p*g,m*g)},getImageInfo:function(r){var o=this,e,t,a,d,s,c,u;r&&(s=r.split("/"),c=s[s.length-1],u=c.lastIndexOf("."),u>-1&&(s[s.length-1]=c.slice(0,u)));var p=null;if(this.splitHashDataForPost){var m=r.indexOf("#");m!==-1&&(p=r.substring(m+1),r=r.substr(0,m))}t=function(g){typeof g=="string"&&(g=i.parseXml(g));var v=i.TileSource.determineType(o,g,r);if(!v){o.raiseEvent("open-failed",{message:"Unable to load TileSource",source:r});return}d=v.prototype.configure.apply(o,[g,r,p]),d.ajaxWithCredentials===void 0&&(d.ajaxWithCredentials=o.ajaxWithCredentials),a=new v(d),o.ready=!0,o.raiseEvent("ready",{tileSource:a})},r.match(/\.js$/)?(e=r.split("/").pop().replace(".js",""),i.jsonp({url:r,async:!1,callbackName:e,callback:t})):i.makeAjaxRequest({url:r,postData:p,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(g){var v=n(g);t(v)},error:function(g,v){var x;try{x="HTTP "+g.status+" attempting to load TileSource: "+r}catch{var y;typeof v>"u"||!v.toString?y="Unknown error":y=v.toString(),x=y+" attempting to load TileSource: "+r}i.console.error(x),o.raiseEvent("open-failed",{message:x,source:r,postData:p})}})},supports:function(r,o){return!1},configure:function(r,o,e){throw new Error("Method not implemented.")},getTileUrl:function(r,o,e){throw new Error("Method not implemented.")},getTilePostData:function(r,o,e){return null},getTileAjaxHeaders:function(r,o,e){return{}},getTileHashKey:function(r,o,e,t,a,d){function s(c){return a?c+"+"+JSON.stringify(a):c}return s(typeof t!="string"?r+"/"+o+"_"+e:t)},tileExists:function(r,o,e){var t=this.getNumTiles(r);return r>=this.minLevel&&r<=this.maxLevel&&o>=0&&e>=0&&o<t.x&&e<t.y},hasTransparency:function(r,o,e,t){return!!r||o.match(".png")},downloadTileStart:function(r){var o=r.userData,e=new Image;o.image=e,o.request=null;var t=function(a){if(!e){r.finish(null,o.request,"Image load failed: undefined Image instance.");return}e.onload=e.onerror=e.onabort=null,r.finish(a?null:e,o.request,a)};e.onload=function(){t()},e.onabort=e.onerror=function(){t("Image load aborted.")},r.loadWithAjax?o.request=i.makeAjaxRequest({url:r.src,withCredentials:r.ajaxWithCredentials,headers:r.ajaxHeaders,responseType:"arraybuffer",postData:r.postData,success:function(a){var d;try{d=new window.Blob([a.response])}catch(u){var s=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(u.name==="TypeError"&&s){var c=new s;c.append(a.response),d=c.getBlob()}}d.size===0?t("Empty image response."):e.src=(window.URL||window.webkitURL).createObjectURL(d)},error:function(a){t("Image load aborted - XHR error")}}):(r.crossOriginPolicy!==!1&&(e.crossOrigin=r.crossOriginPolicy),e.src=r.src)},downloadTileAbort:function(r){r.userData.request&&r.userData.request.abort();var o=r.userData.image;r.userData.image&&(o.onload=o.onerror=o.onabort=null)},createTileCache:function(r,o,e){r._data=o},destroyTileCache:function(r){r._data=null,r._renderedContext=null},getTileCacheData:function(r){return r._data},getTileCacheDataAsImage:function(r){return r._data},getTileCacheDataAsContext2D:function(r){if(!r._renderedContext){var o=document.createElement("canvas");o.width=r._data.width,o.height=r._data.height,r._renderedContext=o.getContext("2d"),r._renderedContext.drawImage(r._data,0,0),r._data=null}return r._renderedContext}},i.extend(!0,i.TileSource.prototype,i.EventSource.prototype);function n(r){var o=r.responseText,e=r.status,t,a;if(r){if(r.status!==200&&r.status!==0)throw e=r.status,t=e===404?"Not Found":r.statusText,new Error(i.getString("Errors.Status",e,t))}else throw new Error(i.getString("Errors.Security"));if(o.match(/^\s*<.*/))try{a=r.responseXML&&r.responseXML.documentElement?r.responseXML:i.parseXml(o)}catch{a=r.responseText}else if(o.match(/\s*[{[].*/))try{a=i.parseJSON(o)}catch{a=o}else a=o;return a}i.TileSource.determineType=function(r,o,e){var t;for(t in Je)if(t.match(/.+TileSource$/)&&i.isFunction(Je[t])&&i.isFunction(Je[t].prototype.supports)&&Je[t].prototype.supports.call(r,o,e))return Je[t];return i.console.error("No TileSource was able to open %s %s",e,o),null}})(Je);(function(i){i.DziTileSource=function(o,e,t,a,d,s,c,u,p){var m,g,v,x;if(i.isPlainObject(o)?x=o:x={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=x.tilesUrl,this.fileFormat=x.fileFormat,this.displayRects=x.displayRects,this.displayRects)for(m=this.displayRects.length-1;m>=0;m--)for(g=this.displayRects[m],v=g.minLevel;v<=g.maxLevel;v++)this._levelRects[v]||(this._levelRects[v]=[]),this._levelRects[v].push(g);i.TileSource.apply(this,[x])},i.extend(i.DziTileSource.prototype,i.TileSource.prototype,{supports:function(o,e){var t;return o.Image?t=o.Image.xmlns:o.documentElement&&(o.documentElement.localName==="Image"||o.documentElement.tagName==="Image")&&(t=o.documentElement.namespaceURI),t=(t||"").toLowerCase(),t.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||t.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(o,e,t){var a;return i.isPlainObject(o)?a=r(this,o):a=n(this,o),e&&!a.tilesUrl&&(a.tilesUrl=e.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),e.search(/\.(dzi|xml|js)\?/)!==-1?a.queryParams=e.match(/\?.*/):a.queryParams=""),a},getTileUrl:function(o,e,t){return[this.tilesUrl,o,"/",e,"_",t,".",this.fileFormat,this.queryParams].join("")},tileExists:function(o,e,t){var a=this._levelRects[o],d,s,c,u,p,m,g;if(this.minLevel&&o<this.minLevel||this.maxLevel&&o>this.maxLevel)return!1;if(!a||!a.length)return!0;for(g=a.length-1;g>=0;g--)if(d=a[g],!(o<d.minLevel||o>d.maxLevel)&&(s=this.getLevelScale(o),c=d.x*s,u=d.y*s,p=c+d.width*s,m=u+d.height*s,c=Math.floor(c/this._tileWidth),u=Math.floor(u/this._tileWidth),p=Math.ceil(p/this._tileWidth),m=Math.ceil(m/this._tileWidth),c<=e&&e<p&&u<=t&&t<m))return!0;return!1}});function n(o,e){if(!e||!e.documentElement)throw new Error(i.getString("Errors.Xml"));var t=e.documentElement,a=t.localName||t.tagName,d=e.documentElement.namespaceURI,s=null,c=[],u,p,m,g,v;if(a==="Image")try{if(g=t.getElementsByTagName("Size")[0],g===void 0&&(g=t.getElementsByTagNameNS(d,"Size")[0]),s={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:t.getAttribute("Url"),Format:t.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(t.getAttribute("Overlap"),10),TileSize:parseInt(t.getAttribute("TileSize"),10),Size:{Height:parseInt(g.getAttribute("Height"),10),Width:parseInt(g.getAttribute("Width"),10)}}},!i.imageFormatSupported(s.Image.Format))throw new Error(i.getString("Errors.ImageFormat",s.Image.Format.toUpperCase()));for(u=t.getElementsByTagName("DisplayRect"),u===void 0&&(u=t.getElementsByTagNameNS(d,"DisplayRect")[0]),v=0;v<u.length;v++)p=u[v],m=p.getElementsByTagName("Rect")[0],m===void 0&&(m=p.getElementsByTagNameNS(d,"Rect")[0]),c.push({Rect:{X:parseInt(m.getAttribute("X"),10),Y:parseInt(m.getAttribute("Y"),10),Width:parseInt(m.getAttribute("Width"),10),Height:parseInt(m.getAttribute("Height"),10),MinLevel:parseInt(p.getAttribute("MinLevel"),10),MaxLevel:parseInt(p.getAttribute("MaxLevel"),10)}});return c.length&&(s.Image.DisplayRect=c),r(o,s)}catch(w){throw w instanceof Error?w:new Error(i.getString("Errors.Dzi"))}else{if(a==="Collection")throw new Error(i.getString("Errors.Dzc"));if(a==="Error"){var x=t.getElementsByTagName("Message")[0],y=x.firstChild.nodeValue;throw new Error(y)}}throw new Error(i.getString("Errors.Dzi"))}function r(o,e){var t=e.Image,a=t.Url,d=t.Format,s=t.Size,c=t.DisplayRect||[],u=parseInt(s.Width,10),p=parseInt(s.Height,10),m=parseInt(t.TileSize,10),g=parseInt(t.Overlap,10),v=[],x,y;for(y=0;y<c.length;y++)x=c[y].Rect,v.push(new i.DisplayRect(parseInt(x.X,10),parseInt(x.Y,10),parseInt(x.Width,10),parseInt(x.Height,10),parseInt(x.MinLevel,10),parseInt(x.MaxLevel,10)));return i.extend(!0,{width:u,height:p,tileSize:m,tileOverlap:g,minLevel:null,maxLevel:null,tilesUrl:a,fileFormat:d,displayRects:v},e)}})(Je);(function(i){i.IIIFTileSource=function(t){if(i.extend(!0,this,t),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(t.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=t.version,this.tile_width&&this.tile_height)t.tileWidth=this.tile_width,t.tileHeight=this.tile_height;else if(this.tile_width)t.tileSize=this.tile_width;else if(this.tile_height)t.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)t.tileWidth=this.tiles[0].width,t.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var a=0;a<this.tiles.length;a++)for(var d=0;d<this.tiles[a].scaleFactors.length;d++){var s=this.tiles[a].scaleFactors[d];this.scale_factors.push(s),t.tileSizePerScaleFactor[s]={width:this.tiles[a].width,height:this.tiles[a].height||this.tiles[a].width}}}else if(n(t)){for(var c=Math.min(this.height,this.width),u=[256,512,1024],p=[],m=0;m<u.length;m++)u[m]<=c&&p.push(u[m]);p.length>0?t.tileSize=Math.max.apply(null,p):t.tileSize=c}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,t.levels=r(this),i.extend(!0,t,{width:t.levels[t.levels.length-1].width,height:t.levels[t.levels.length-1].height,tileSize:Math.max(t.height,t.width),tileOverlap:0,minLevel:0,maxLevel:t.levels.length-1}),this.levels=t.levels):i.console.error("Nothing in the info.json to construct image pyramids from");if(!t.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)t.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));else{var g=Math.max.apply(null,this.scale_factors);t.maxLevel=Math.round(Math.log(g)*Math.LOG2E)}if(this.sizes){var v=this.sizes.length;(v===t.maxLevel||v===t.maxLevel+1)&&(this.levelSizes=this.sizes.slice().sort((x,y)=>x.width-y.width),v===t.maxLevel&&this.levelSizes.push({width:this.width,height:this.height}))}i.TileSource.apply(this,[t])},i.extend(i.IIIFTileSource.prototype,i.TileSource.prototype,{supports:function(t,a){return t.protocol&&t.protocol==="http://iiif.io/api/image"||t["@context"]&&(t["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||t["@context"]==="http://iiif.io/api/image/1/context.json")||t.profile&&t.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||t.identifier&&t.width&&t.height?!0:!!(t.documentElement&&t.documentElement.tagName==="info"&&t.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(t,a,d){if(i.isPlainObject(t)){if(!t["@context"])t["@context"]="http://iiif.io/api/image/1.0/context.json",t["@id"]=a.replace("/info.json",""),t.version=1;else{var c=t["@context"];if(Array.isArray(c)){for(var u=0;u<c.length;u++)if(typeof c[u]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(c[u])||c[u]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){c=c[u];break}}switch(c){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":t.version=1;break;case"http://iiif.io/api/image/2/context.json":t.version=2;break;case"http://iiif.io/api/image/3/context.json":t.version=3;break;default:i.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(t.preferredFormats){for(var p=0;p<t.preferredFormats.length;p++)if(Je.imageFormatSupported(t.preferredFormats[p])){t.tileFormat=t.preferredFormats[p];break}}return t}else{var s=o(t);return s["@context"]="http://iiif.io/api/image/1.0/context.json",s["@id"]=a.replace("/info.xml",""),s.version=1,s}},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return i.TileSource.prototype.getTileWidth.call(this,t);var a=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[a]?this.tileSizePerScaleFactor[a].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return i.TileSource.prototype.getTileHeight.call(this,t);var a=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[a]?this.tileSizePerScaleFactor[a].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var a=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(a=this.levels[t].width/this.levels[this.maxLevel].width),a}return i.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){if(this.emulateLegacyImagePyramid){var a=this.getLevelScale(t);return a?new i.Point(1,1):new i.Point(0,0)}if(this.levelSizes){var d=this.levelSizes[t],s=Math.ceil(d.width/this.getTileWidth(t)),c=Math.ceil(d.height/this.getTileHeight(t));return new i.Point(s,c)}else return i.TileSource.prototype.getNumTiles.call(this,t)},getTileAtPoint:function(t,a){if(this.emulateLegacyImagePyramid)return new i.Point(0,0);if(this.levelSizes){var d=a.x>=0&&a.x<=1&&a.y>=0&&a.y<=1/this.aspectRatio;i.console.assert(d,"[TileSource.getTileAtPoint] must be called with a valid point.");var s=this.levelSizes[t].width,c=a.x*s,u=a.y*s,p=Math.floor(c/this.getTileWidth(t)),m=Math.floor(u/this.getTileHeight(t));a.x>=1&&(p=this.getNumTiles(t).x-1);var g=1e-15;return a.y>=1/this.aspectRatio-g&&(m=this.getNumTiles(t).y-1),new i.Point(p,m)}return i.TileSource.prototype.getTileAtPoint.call(this,t,a)},getTileUrl:function(t,a,d){if(this.emulateLegacyImagePyramid){var s=null;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(s=this.levels[t].url),s}var c="0",u=Math.pow(.5,this.maxLevel-t),p,m,g,v,x,y,w,S,P,j,R,T,q,$,z,I;return this.levelSizes?(p=this.levelSizes[t].width,m=this.levelSizes[t].height):(p=Math.ceil(this.width*u),m=Math.ceil(this.height*u)),g=this.getTileWidth(t),v=this.getTileHeight(t),x=Math.round(g/u),y=Math.round(v/u),this.version===1?z="native."+this.tileFormat:z="default."+this.tileFormat,p<g&&m<v?(this.version===2&&p===this.width?T="full":this.version===3&&p===this.width&&m===this.height?T="max":this.version===3?T=p+","+m:T=p+",",w="full"):(S=a*x,P=d*y,j=Math.min(x,this.width-S),R=Math.min(y,this.height-P),a===0&&d===0&&j===this.width&&R===this.height?w="full":w=[S,P,j,R].join(","),q=Math.min(g,p-a*g),$=Math.min(v,m-d*v),this.version===2&&q===this.width?T="full":this.version===3&&q===this.width&&$===this.height?T="max":this.version===3?T=q+","+$:T=q+","),I=[this._id,w,T,c,z].join("/"),I},__testonly__:{canBeTiled:n,constructLevels:r}});function n(t){var a=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],d=Array.isArray(t.profile)?t.profile[0]:t.profile,s=a.indexOf(d)!==-1,c=!1;return t.version===2&&t.profile.length>1&&t.profile[1].supports&&(c=t.profile[1].supports.indexOf("sizeByW")!==-1),t.version===3&&t.extraFeatures&&(c=t.extraFeatures.indexOf("sizeByWh")!==-1),!s||c}function r(t){for(var a=[],d=0;d<t.sizes.length;d++)a.push({url:t._id+"/full/"+t.sizes[d].width+","+(t.version===3?t.sizes[d].height:"")+"/0/default."+t.tileFormat,width:t.sizes[d].width,height:t.sizes[d].height});return a.sort(function(s,c){return s.width-c.width})}function o(t){if(!t||!t.documentElement)throw new Error(i.getString("Errors.Xml"));var a=t.documentElement,d=a.tagName,s=null;if(d==="info")try{return s={},e(a,s),s}catch(c){throw c instanceof Error?c:new Error(i.getString("Errors.IIIF"))}throw new Error(i.getString("Errors.IIIF"))}function e(t,a,d){var s,c;if(t.nodeType===3&&d)c=t.nodeValue.trim(),c.match(/^\d*$/)&&(c=Number(c)),a[d]?(i.isArray(a[d])||(a[d]=[a[d]]),a[d].push(c)):a[d]=c;else if(t.nodeType===1)for(s=0;s<t.childNodes.length;s++)e(t.childNodes[s],a,t.nodeName)}})(Je);(function(i){i.OsmTileSource=function(n,r,o,e,t){var a;i.isPlainObject(n)?a=n:a={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!a.width||!a.height)&&(a.width=65572864,a.height=65572864),a.tileSize||(a.tileSize=256,a.tileOverlap=0),a.tilesUrl||(a.tilesUrl="http://tile.openstreetmap.org/"),a.minLevel=8,i.TileSource.apply(this,[a])},i.extend(i.OsmTileSource.prototype,i.TileSource.prototype,{supports:function(n,r){return n.type&&n.type==="openstreetmaps"},configure:function(n,r,o){return n},getTileUrl:function(n,r,o){return this.tilesUrl+(n-8)+"/"+r+"/"+o+".png"}})})(Je);(function(i){i.TmsTileSource=function(n,r,o,e,t){var a;i.isPlainObject(n)?a=n:a={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var d=Math.ceil(a.width/256)*256,s=Math.ceil(a.height/256)*256,c;d>s?c=d/256:c=s/256,a.maxLevel=Math.ceil(Math.log(c)/Math.log(2))-1,a.tileSize=256,a.width=d,a.height=s,i.TileSource.apply(this,[a])},i.extend(i.TmsTileSource.prototype,i.TileSource.prototype,{supports:function(n,r){return n.type&&n.type==="tiledmapservice"},configure:function(n,r,o){return n},getTileUrl:function(n,r,o){var e=this.getNumTiles(n).y-1;return this.tilesUrl+n+"/"+r+"/"+(e-o)+".png"}})})(Je);(function(i){i.ZoomifyTileSource=function(n){typeof n.tileSize>"u"&&(n.tileSize=256),typeof n.fileFormat>"u"&&(n.fileFormat="jpg",this.fileFormat=n.fileFormat);var r={x:n.width,y:n.height};for(n.imageSizes=[{x:n.width,y:n.height}],n.gridSize=[this._getGridSize(n.width,n.height,n.tileSize)];parseInt(r.x,10)>n.tileSize||parseInt(r.y,10)>n.tileSize;)r.x=Math.floor(r.x/2),r.y=Math.floor(r.y/2),n.imageSizes.push({x:r.x,y:r.y}),n.gridSize.push(this._getGridSize(r.x,r.y,n.tileSize));n.imageSizes.reverse(),n.gridSize.reverse(),n.minLevel=0,n.maxLevel=n.gridSize.length-1,Je.TileSource.apply(this,[n])},i.extend(i.ZoomifyTileSource.prototype,i.TileSource.prototype,{_getGridSize:function(n,r,o){return{x:Math.ceil(n/o),y:Math.ceil(r/o)}},_calculateAbsoluteTileNumber:function(n,r,o){for(var e=0,t={},a=0;a<n;a++)t=this.gridSize[a],e+=t.x*t.y;return t=this.gridSize[n],e+=t.x*o+r,e},supports:function(n,r){return n.type&&n.type==="zoomifytileservice"},configure:function(n,r,o){return n},getTileUrl:function(n,r,o){var e=0,t=this._calculateAbsoluteTileNumber(n,r,o);return e=Math.floor(t/256),this.tilesUrl+"TileGroup"+e+"/"+n+"-"+r+"-"+o+"."+this.fileFormat}})})(Je);(function(i){i.LegacyTileSource=function(e){var t,a,d;i.isArray(e)&&(t={type:"legacy-image-pyramid",levels:e}),t.levels=n(t.levels),t.levels.length>0?(a=t.levels[t.levels.length-1].width,d=t.levels[t.levels.length-1].height):(a=0,d=0,i.console.error("No supported image formats found")),i.extend(!0,t,{width:a,height:d,tileSize:Math.max(d,a),tileOverlap:0,minLevel:0,maxLevel:t.levels.length>0?t.levels.length-1:0}),i.TileSource.apply(this,[t]),this.levels=t.levels},i.extend(i.LegacyTileSource.prototype,i.TileSource.prototype,{supports:function(e,t){return e.type&&e.type==="legacy-image-pyramid"||e.documentElement&&e.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(e,t,a){var d;return i.isPlainObject(e)?d=o(this,e):d=r(this,e),d},getLevelScale:function(e){var t=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(e){var t=this.getLevelScale(e);return t?new i.Point(1,1):new i.Point(0,0)},getTileUrl:function(e,t,a){var d=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(d=this.levels[e].url),d}});function n(e){var t=[],a,d;for(d=0;d<e.length;d++)a=e[d],a.height&&a.width&&a.url?t.push({url:a.url,width:Number(a.width),height:Number(a.height)}):i.console.error("Unsupported image format: %s",a.url?a.url:"<no URL>");return t.sort(function(s,c){return s.height-c.height})}function r(e,t){if(!t||!t.documentElement)throw new Error(i.getString("Errors.Xml"));var a=t.documentElement,d=a.tagName,s=null,c=[],u,p;if(d==="image")try{for(s={type:a.getAttribute("type"),levels:[]},c=a.getElementsByTagName("level"),p=0;p<c.length;p++)u=c[p],s.levels.push({url:u.getAttribute("url"),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10)});return o(e,s)}catch(m){throw m instanceof Error?m:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(d==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(d==="error")throw new Error("Error: "+t)}throw new Error("Unknown element "+d)}function o(e,t){return t.levels}})(Je);(function(i){i.ImageTileSource=function(n){n=i.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1},n),i.TileSource.apply(this,[n])},i.extend(i.ImageTileSource.prototype,i.TileSource.prototype,{supports:function(n,r){return n.type&&n.type==="image"},configure:function(n,r,o){return n},getImageInfo:function(n){var r=this._image=new Image,o=this;this.crossOriginPolicy&&(r.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(r.useCredentials=this.ajaxWithCredentials),i.addEvent(r,"load",function(){o.width=r.naturalWidth,o.height=r.naturalHeight,o.aspectRatio=o.width/o.height,o.dimensions=new i.Point(o.width,o.height),o._tileWidth=o.width,o._tileHeight=o.height,o.tileOverlap=0,o.minLevel=0,o.levels=o._buildLevels(),o.maxLevel=o.levels.length-1,o.ready=!0,o.raiseEvent("ready",{tileSource:o})}),i.addEvent(r,"error",function(){o.raiseEvent("open-failed",{message:"Error loading image at "+n,source:n})}),r.src=n},getLevelScale:function(n){var r=NaN;return n>=this.minLevel&&n<=this.maxLevel&&(r=this.levels[n].width/this.levels[this.maxLevel].width),r},getNumTiles:function(n){var r=this.getLevelScale(n);return r?new i.Point(1,1):new i.Point(0,0)},getTileUrl:function(n,r,o){var e=null;return n>=this.minLevel&&n<=this.maxLevel&&(e=this.levels[n].url),e},getContext2D:function(n,r,o){var e=null;return n>=this.minLevel&&n<=this.maxLevel&&(e=this.levels[n].context2D),e},destroy:function(n){this._freeupCanvasMemory(n)},_buildLevels:function(){var n=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!i.supportsCanvas)return delete this._image,n;var r=this._image.naturalWidth,o=this._image.naturalHeight,e=document.createElement("canvas"),t=e.getContext("2d");if(e.width=r,e.height=o,t.drawImage(this._image,0,0,r,o),n[0].context2D=t,delete this._image,i.isCanvasTainted(e))return n;for(;r>=2&&o>=2;){r=Math.floor(r/2),o=Math.floor(o/2);var a=document.createElement("canvas"),d=a.getContext("2d");a.width=r,a.height=o,d.drawImage(e,0,0,r,o),n.splice(0,0,{context2D:d,width:r,height:o}),e=a,t=d}return n},_freeupCanvasMemory:function(n){for(var r=0;r<this.levels.length;r++)this.levels[r].context2D&&(this.levels[r].context2D.canvas.height=0,this.levels[r].context2D.canvas.width=0,n&&n.raiseEvent("image-unloaded",{context2D:this.levels[r].context2D}))}})})(Je);(function(i){i.TileSourceCollection=function(n,r,o,e){i.console.error("TileSourceCollection is deprecated; use World instead")}})(Je);(function(i){i.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},i.Button=function(d){var s=this;i.EventSource.call(this),i.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:i.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:i.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},d),this.element=d.element||i.makeNeutralElement("div"),d.element||(this.imgRest=i.makeTransparentImage(this.srcRest),this.imgGroup=i.makeTransparentImage(this.srcGroup),this.imgHover=i.makeTransparentImage(this.srcHover),this.imgDown=i.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,i.setElementPointerEventsNone(this.imgRest),i.setElementPointerEventsNone(this.imgGroup),i.setElementPointerEventsNone(this.imgHover),i.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",i.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=i.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new i.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(c){c.insideElementPressed?(t(s,i.ButtonState.DOWN),s.raiseEvent("enter",{originalEvent:c.originalEvent})):c.buttonDownAny||t(s,i.ButtonState.HOVER)},focusHandler:function(c){s.tracker.enterHandler(c),s.raiseEvent("focus",{originalEvent:c.originalEvent})},leaveHandler:function(c){a(s,i.ButtonState.GROUP),c.insideElementPressed&&s.raiseEvent("exit",{originalEvent:c.originalEvent})},blurHandler:function(c){s.tracker.leaveHandler(c),s.raiseEvent("blur",{originalEvent:c.originalEvent})},pressHandler:function(c){t(s,i.ButtonState.DOWN),s.raiseEvent("press",{originalEvent:c.originalEvent})},releaseHandler:function(c){c.insideElementPressed&&c.insideElementReleased?(a(s,i.ButtonState.HOVER),s.raiseEvent("release",{originalEvent:c.originalEvent})):c.insideElementPressed?a(s,i.ButtonState.GROUP):t(s,i.ButtonState.HOVER)},clickHandler:function(c){c.quick&&s.raiseEvent("click",{originalEvent:c.originalEvent})},keyHandler:function(c){c.keyCode===13?(s.raiseEvent("click",{originalEvent:c.originalEvent}),s.raiseEvent("release",{originalEvent:c.originalEvent}),c.preventDefault=!0):c.preventDefault=!1}}),a(this,i.ButtonState.REST)},i.extend(i.Button.prototype,i.EventSource.prototype,{notifyGroupEnter:function(){t(this,i.ButtonState.GROUP)},notifyGroupExit:function(){a(this,i.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),i.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),i.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function n(d){i.requestAnimationFrame(function(){r(d)})}function r(d){var s,c,u;d.shouldFade&&(s=i.now(),c=s-d.fadeBeginTime,u=1-c/d.fadeLength,u=Math.min(1,u),u=Math.max(0,u),d.imgGroup&&i.setElementOpacity(d.imgGroup,u,!0),u>0&&n(d))}function o(d){d.shouldFade=!0,d.fadeBeginTime=i.now()+d.fadeDelay,window.setTimeout(function(){n(d)},d.fadeDelay)}function e(d){d.shouldFade=!1,d.imgGroup&&i.setElementOpacity(d.imgGroup,1,!0)}function t(d,s){d.element.disabled||(s>=i.ButtonState.GROUP&&d.currentState===i.ButtonState.REST&&(e(d),d.currentState=i.ButtonState.GROUP),s>=i.ButtonState.HOVER&&d.currentState===i.ButtonState.GROUP&&(d.imgHover&&(d.imgHover.style.visibility=""),d.currentState=i.ButtonState.HOVER),s>=i.ButtonState.DOWN&&d.currentState===i.ButtonState.HOVER&&(d.imgDown&&(d.imgDown.style.visibility=""),d.currentState=i.ButtonState.DOWN))}function a(d,s){d.element.disabled||(s<=i.ButtonState.HOVER&&d.currentState===i.ButtonState.DOWN&&(d.imgDown&&(d.imgDown.style.visibility="hidden"),d.currentState=i.ButtonState.HOVER),s<=i.ButtonState.GROUP&&d.currentState===i.ButtonState.HOVER&&(d.imgHover&&(d.imgHover.style.visibility="hidden"),d.currentState=i.ButtonState.GROUP),s<=i.ButtonState.REST&&d.currentState===i.ButtonState.GROUP&&(o(d),d.currentState=i.ButtonState.REST))}})(Je);(function(i){i.ButtonGroup=function(n){i.extend(!0,this,{buttons:[],clickTimeThreshold:i.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:i.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},n);var r=this.buttons.concat([]),o=this,e;if(this.element=n.element||i.makeNeutralElement("div"),!n.group)for(this.element.style.display="inline-block",e=0;e<r.length;e++)this.element.appendChild(r[e].element);i.setElementTouchActionNone(this.element),this.tracker=new i.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){var a;for(a=0;a<o.buttons.length;a++)o.buttons[a].notifyGroupEnter()},leaveHandler:function(t){var a;if(!t.insideElementPressed)for(a=0;a<o.buttons.length;a++)o.buttons[a].notifyGroupExit()}})},i.ButtonGroup.prototype={addButton:function(n){this.buttons.push(n),this.element.appendChild(n.element)},emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var n=this.buttons.pop();this.element.removeChild(n.element),n.destroy()}this.tracker.destroy(),this.element=null}}})(Je);(function(i){i.Rect=function(n,r,o,e,t){this.x=typeof n=="number"?n:0,this.y=typeof r=="number"?r:0,this.width=typeof o=="number"?o:0,this.height=typeof e=="number"?e:0,this.degrees=typeof t=="number"?t:0,this.degrees=i.positiveModulo(this.degrees,360);var a,d;this.degrees>=270?(a=this.getTopRight(),this.x=a.x,this.y=a.y,d=this.height,this.height=this.width,this.width=d,this.degrees-=270):this.degrees>=180?(a=this.getBottomRight(),this.x=a.x,this.y=a.y,this.degrees-=180):this.degrees>=90&&(a=this.getBottomLeft(),this.x=a.x,this.y=a.y,d=this.height,this.height=this.width,this.width=d,this.degrees-=90)},i.Rect.fromSummits=function(n,r,o){var e=n.distanceTo(r),t=n.distanceTo(o),a=r.minus(n),d=Math.atan(a.y/a.x);return a.x<0?d+=Math.PI:a.y<0&&(d+=2*Math.PI),new i.Rect(n.x,n.y,e,t,d/Math.PI*180)},i.Rect.prototype={clone:function(){return new i.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new i.Point(this.x,this.y)},getBottomRight:function(){return new i.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new i.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new i.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new i.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new i.Point(this.width,this.height)},equals:function(n){return n instanceof i.Rect&&this.x===n.x&&this.y===n.y&&this.width===n.width&&this.height===n.height&&this.degrees===n.degrees},times:function(n){return new i.Rect(this.x*n,this.y*n,this.width*n,this.height*n,this.degrees)},translate:function(n){return new i.Rect(this.x+n.x,this.y+n.y,this.width,this.height,this.degrees)},union:function(n){var r=this.getBoundingBox(),o=n.getBoundingBox(),e=Math.min(r.x,o.x),t=Math.min(r.y,o.y),a=Math.max(r.x+r.width,o.x+o.width),d=Math.max(r.y+r.height,o.y+o.height);return new i.Rect(e,t,a-e,d-t)},intersection:function(n){var r=1e-10,o=[],e=this.getTopLeft();n.containsPoint(e,r)&&o.push(e);var t=this.getTopRight();n.containsPoint(t,r)&&o.push(t);var a=this.getBottomLeft();n.containsPoint(a,r)&&o.push(a);var d=this.getBottomRight();n.containsPoint(d,r)&&o.push(d);var s=n.getTopLeft();this.containsPoint(s,r)&&o.push(s);var c=n.getTopRight();this.containsPoint(c,r)&&o.push(c);var u=n.getBottomLeft();this.containsPoint(u,r)&&o.push(u);var p=n.getBottomRight();this.containsPoint(p,r)&&o.push(p);for(var m=this._getSegments(),g=n._getSegments(),v=0;v<m.length;v++)for(var x=m[v],y=0;y<g.length;y++){var w=g[y],S=P(x[0],x[1],w[0],w[1]);S&&o.push(S)}function P(I,Z,B,se){var ge=Z.minus(I),ae=se.minus(B),U=-ae.x*ge.y+ge.x*ae.y;if(U===0)return null;var ve=(ge.x*(I.y-B.y)-ge.y*(I.x-B.x))/U,O=(ae.x*(I.y-B.y)-ae.y*(I.x-B.x))/U;return-r<=ve&&ve<=1-r&&-r<=O&&O<=1-r?new i.Point(I.x+O*ge.x,I.y+O*ge.y):null}if(o.length===0)return null;for(var j=o[0].x,R=o[0].x,T=o[0].y,q=o[0].y,$=1;$<o.length;$++){var z=o[$];z.x<j&&(j=z.x),z.x>R&&(R=z.x),z.y<T&&(T=z.y),z.y>q&&(q=z.y)}return new i.Rect(j,T,R-j,q-T)},_getSegments:function(){var n=this.getTopLeft(),r=this.getTopRight(),o=this.getBottomLeft(),e=this.getBottomRight();return[[n,r],[r,e],[e,o],[o,n]]},rotate:function(n,r){if(n=i.positiveModulo(n,360),n===0)return this.clone();r=r||this.getCenter();var o=this.getTopLeft().rotate(n,r),e=this.getTopRight().rotate(n,r),t=e.minus(o);t=t.apply(function(d){var s=1e-15;return Math.abs(d)<s?0:d});var a=Math.atan(t.y/t.x);return t.x<0?a+=Math.PI:t.y<0&&(a+=2*Math.PI),new i.Rect(o.x,o.y,this.width,this.height,a/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var n=this.getTopLeft(),r=this.getTopRight(),o=this.getBottomLeft(),e=this.getBottomRight(),t=Math.min(n.x,r.x,o.x,e.x),a=Math.max(n.x,r.x,o.x,e.x),d=Math.min(n.y,r.y,o.y,e.y),s=Math.max(n.y,r.y,o.y,e.y);return new i.Rect(t,d,a-t,s-d)},getIntegerBoundingBox:function(){var n=this.getBoundingBox(),r=Math.floor(n.x),o=Math.floor(n.y),e=Math.ceil(n.width+n.x-r),t=Math.ceil(n.height+n.y-o);return new i.Rect(r,o,e,t)},containsPoint:function(n,r){r=r||0;var o=this.getTopLeft(),e=this.getTopRight(),t=this.getBottomLeft(),a=e.minus(o),d=t.minus(o);return(n.x-o.x)*a.x+(n.y-o.y)*a.y>=-r&&(n.x-e.x)*a.x+(n.y-e.y)*a.y<=r&&(n.x-o.x)*d.x+(n.y-o.y)*d.y>=-r&&(n.x-t.x)*d.x+(n.y-t.y)*d.y<=r},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}})(Je);(function(i){var n={};i.ReferenceStrip=function(u){var p=this,m=u.viewer,g=i.getElementSize(m.element),v,x,y;for(u.id||(u.id="referencestrip-"+i.now(),this.element=i.makeNeutralElement("div"),this.element.id=u.id,this.element.className="referencestrip"),u=i.extend(!0,{sizeRatio:i.DEFAULT_SETTINGS.referenceStripSizeRatio,position:i.DEFAULT_SETTINGS.referenceStripPosition,scroll:i.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:i.DEFAULT_SETTINGS.clickTimeThreshold},u,{element:this.element}),i.extend(this,u),n[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,x=this.element.style,x.marginTop="0px",x.marginRight="0px",x.marginBottom="0px",x.marginLeft="0px",x.left="0px",x.bottom="0px",x.border="0px",x.background="#000",x.position="relative",i.setElementTouchActionNone(this.element),i.setElementOpacity(this.element,.8),this.viewer=m,this.tracker=new i.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:i.delegate(this,r),dragHandler:i.delegate(this,o),scrollHandler:i.delegate(this,e),enterHandler:i.delegate(this,a),leaveHandler:i.delegate(this,d),keyDownHandler:i.delegate(this,s),keyHandler:i.delegate(this,c),preProcessEventHandler:function(w){w.eventType==="wheel"&&(w.preventDefault=!0)}}),u.width&&u.height?(this.element.style.width=u.width+"px",this.element.style.height=u.height+"px",m.addControl(this.element,{anchor:i.ControlAnchor.BOTTOM_LEFT})):u.scroll==="horizontal"?(this.element.style.width=g.x*u.sizeRatio*m.tileSources.length+12*m.tileSources.length+"px",this.element.style.height=g.y*u.sizeRatio+"px",m.addControl(this.element,{anchor:i.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=g.y*u.sizeRatio*m.tileSources.length+12*m.tileSources.length+"px",this.element.style.width=g.x*u.sizeRatio+"px",m.addControl(this.element,{anchor:i.ControlAnchor.TOP_LEFT})),this.panelWidth=g.x*this.sizeRatio+8,this.panelHeight=g.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},y=0;y<m.tileSources.length;y++)v=i.makeNeutralElement("div"),v.id=this.element.id+"-"+y,v.style.width=p.panelWidth+"px",v.style.height=p.panelHeight+"px",v.style.display="inline",v.style.float="left",v.style.cssFloat="left",v.style.padding="2px",i.setElementTouchActionNone(v),i.setElementPointerEventsNone(v),this.element.appendChild(v),v.activePanel=!1,this.panels.push(v);t(this,this.scroll==="vertical"?g.y:g.x,0),this.setFocus(0)},i.ReferenceStrip.prototype={setFocus:function(u){var p=this.element.querySelector("#"+this.element.id+"-"+u),m=i.getElementSize(this.viewer.canvas),g=Number(this.element.style.width.replace("px","")),v=Number(this.element.style.height.replace("px","")),x=-Number(this.element.style.marginLeft.replace("px","")),y=-Number(this.element.style.marginTop.replace("px","")),w;this.currentSelected!==p&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=p,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(w=Number(u)*(this.panelWidth+3),w>x+m.x-this.panelWidth?(w=Math.min(w,g-m.x),this.element.style.marginLeft=-w+"px",t(this,m.x,-w)):w<x&&(w=Math.max(0,w-m.x/2),this.element.style.marginLeft=-w+"px",t(this,m.x,-w))):(w=Number(u)*(this.panelHeight+3),w>y+m.y-this.panelHeight?(w=Math.min(w,v-m.y),this.element.style.marginTop=-w+"px",t(this,m.y,-w)):w<y&&(w=Math.max(0,w-m.y/2),this.element.style.marginTop=-w+"px",t(this,m.y,-w))),this.currentPage=u,a.call(this,{eventSource:this.tracker}))},update:function(){return!!n[this.id].animating},destroy:function(){if(this.miniViewers)for(var u in this.miniViewers)this.miniViewers[u].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function r(u){if(u.quick){var p;this.scroll==="horizontal"?p=Math.floor(u.position.x/(this.panelWidth+4)):p=Math.floor(u.position.y/this.panelHeight),this.viewer.goToPage(p)}this.element.focus()}function o(u){if(this.dragging=!0,this.element){var p=Number(this.element.style.marginLeft.replace("px","")),m=Number(this.element.style.marginTop.replace("px","")),g=Number(this.element.style.width.replace("px","")),v=Number(this.element.style.height.replace("px","")),x=i.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-u.delta.x>0?p>-(g-x.x)&&(this.element.style.marginLeft=p+u.delta.x*2+"px",t(this,x.x,p+u.delta.x*2)):-u.delta.x<0&&p<0&&(this.element.style.marginLeft=p+u.delta.x*2+"px",t(this,x.x,p+u.delta.x*2)):-u.delta.y>0?m>-(v-x.y)&&(this.element.style.marginTop=m+u.delta.y*2+"px",t(this,x.y,m+u.delta.y*2)):-u.delta.y<0&&m<0&&(this.element.style.marginTop=m+u.delta.y*2+"px",t(this,x.y,m+u.delta.y*2))}}function e(u){if(this.element){var p=Number(this.element.style.marginLeft.replace("px","")),m=Number(this.element.style.marginTop.replace("px","")),g=Number(this.element.style.width.replace("px","")),v=Number(this.element.style.height.replace("px","")),x=i.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?u.scroll>0?p>-(g-x.x)&&(this.element.style.marginLeft=p-u.scroll*60+"px",t(this,x.x,p-u.scroll*60)):u.scroll<0&&p<0&&(this.element.style.marginLeft=p-u.scroll*60+"px",t(this,x.x,p-u.scroll*60)):u.scroll<0?m>x.y-v&&(this.element.style.marginTop=m+u.scroll*60+"px",t(this,x.y,m+u.scroll*60)):u.scroll>0&&m<0&&(this.element.style.marginTop=m+u.scroll*60+"px",t(this,x.y,m+u.scroll*60)),u.preventDefault=!0}}function t(u,p,m){var g,v,x,y,w,S;for(u.scroll==="horizontal"?g=u.panelWidth:g=u.panelHeight,v=Math.ceil(p/g)+5,x=Math.ceil((Math.abs(m)+p)/g)+1,v=x-v,v=v<0?0:v,w=v;w<x&&w<u.panels.length;w++)if(S=u.panels[w],!S.activePanel){var P,j=u.viewer.tileSources[w];j.referenceStripThumbnailUrl?P={type:"image",url:j.referenceStripThumbnailUrl}:P=j,y=new i.Viewer({id:S.id,tileSources:[P],element:S,navigatorSizeRatio:u.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:u.viewer.loadTilesWithAjax,ajaxHeaders:u.viewer.ajaxHeaders,drawer:"canvas"}),i.setElementPointerEventsNone(y.canvas),i.setElementPointerEventsNone(y.container),y.innerTracker.setTracking(!1),y.outerTracker.setTracking(!1),u.miniViewers[S.id]=y,S.activePanel=!0}}function a(u){var p=u.eventSource.element;this.scroll==="horizontal"?p.style.marginBottom="0px":p.style.marginLeft="0px"}function d(u){var p=u.eventSource.element;this.scroll==="horizontal"?p.style.marginBottom="-"+i.getElementSize(p).y/2+"px":p.style.marginLeft="-"+i.getElementSize(p).x/2+"px"}function s(u){if(!u.ctrl&&!u.alt&&!u.meta)switch(u.keyCode){case 38:e.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),u.preventDefault=!0;break;case 40:e.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),u.preventDefault=!0;break;case 37:e.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),u.preventDefault=!0;break;case 39:e.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),u.preventDefault=!0;break;default:u.preventDefault=!1;break}else u.preventDefault=!1}function c(u){if(!u.ctrl&&!u.alt&&!u.meta)switch(u.keyCode){case 61:e.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),u.preventDefault=!0;break;case 45:e.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),u.preventDefault=!0;break;case 48:case 119:case 87:e.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),u.preventDefault=!0;break;case 115:case 83:e.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),u.preventDefault=!0;break;case 97:e.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),u.preventDefault=!0;break;case 100:e.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),u.preventDefault=!0;break;default:u.preventDefault=!1;break}else u.preventDefault=!1}})(Je);(function(i){i.DisplayRect=function(n,r,o,e,t,a){i.Rect.apply(this,[n,r,o,e]),this.minLevel=t,this.maxLevel=a},i.extend(i.DisplayRect.prototype,i.Rect.prototype)})(Je);(function(i){i.Spring=function(r){var o=arguments;typeof r!="object"&&(r={initial:o.length&&typeof o[0]=="number"?o[0]:void 0,springStiffness:o.length>1?o[1].springStiffness:5,animationTime:o.length>1?o[1].animationTime:1.5}),i.console.assert(typeof r.springStiffness=="number"&&r.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),i.console.assert(typeof r.animationTime=="number"&&r.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),r.exponential&&(this._exponential=!0,delete r.exponential),i.extend(!0,this,r),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:i.now()},i.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},i.Spring.prototype={resetTo:function(r){i.console.assert(!this._exponential||r!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=r,this.start.time=this.target.time=this.current.time=i.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(r){i.console.assert(!this._exponential||r!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=r,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(r){this.start.value+=r,this.target.value+=r,this._exponential&&(i.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(r){this._exponential=r,this._exponential&&(i.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=i.now();let r,o;if(this._exponential?(r=this.start._logValue,o=this.target._logValue):(r=this.start.value,o=this.target.value),this.current.time>=this.target.time)this.current.value=this.target.value;else{let e=r+(o-r)*n(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time));this._exponential?this.current.value=Math.exp(e):this.current.value=e}return this.current.value!==this.target.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function n(r,o){return(1-Math.exp(r*-o))/(1-Math.exp(-r))}})(Je);(function(i){i.ImageJob=function(r){i.extend(!0,this,{timeout:i.DEFAULT_SETTINGS.timeout,jobId:null,tries:0},r),this.data=null,this.userData={},this.errorMsg=null},i.ImageJob.prototype={start:function(){this.tries++;var r=this,o=this.abort;this.jobId=window.setTimeout(function(){r.finish(null,null,"Image load exceeded timeout ("+r.timeout+" ms)")},this.timeout),this.abort=function(){r.source.downloadTileAbort(r),typeof o=="function"&&o()},this.source.downloadTileStart(this)},finish:function(r,o,e){this.data=r,this.request=o,this.errorMsg=e,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},i.ImageLoader=function(r){i.extend(!0,this,{jobLimit:i.DEFAULT_SETTINGS.imageLoaderLimit,timeout:i.DEFAULT_SETTINGS.timeout,jobQueue:[],failedTiles:[],jobsInProgress:0},r)},i.ImageLoader.prototype={addJob:function(r){if(!r.source){i.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var o=i.TileSource.prototype;r.source={downloadTileStart:o.downloadTileStart,downloadTileAbort:o.downloadTileAbort}}var e=this,t=function(s){n(e,s,r.callback)},a={src:r.src,tile:r.tile||{},source:r.source,loadWithAjax:r.loadWithAjax,ajaxHeaders:r.loadWithAjax?r.ajaxHeaders:null,crossOriginPolicy:r.crossOriginPolicy,ajaxWithCredentials:r.ajaxWithCredentials,postData:r.postData,callback:t,abort:r.abort,timeout:this.timeout},d=new i.ImageJob(a);!this.jobLimit||this.jobsInProgress<this.jobLimit?(d.start(),this.jobsInProgress++):this.jobQueue.push(d)},clear:function(){for(var r=0;r<this.jobQueue.length;r++){var o=this.jobQueue[r];typeof o.abort=="function"&&o.abort()}this.jobQueue=[]}};function n(r,o,e){o.errorMsg!==""&&(o.data===null||o.data===void 0)&&o.tries<1+r.tileRetryMax&&r.failedTiles.push(o);var t;r.jobsInProgress--,(!r.jobLimit||r.jobsInProgress<r.jobLimit)&&r.jobQueue.length>0&&(t=r.jobQueue.shift(),t.start(),r.jobsInProgress++),r.tileRetryMax>0&&r.jobQueue.length===0&&(!r.jobLimit||r.jobsInProgress<r.jobLimit)&&r.failedTiles.length>0&&(t=r.failedTiles.shift(),setTimeout(function(){t.start()},r.tileRetryDelay),r.jobsInProgress++),e(o.data,o.errorMsg,o.request)}})(Je);(function(i){i.Tile=function(n,r,o,e,t,a,d,s,c,u,p,m){this.level=n,this.x=r,this.y=o,this.bounds=e,this.positionedBounds=new Je.Rect(e.x,e.y,e.width,e.height),this.sourceBounds=u,this.exists=t,this._url=a,this.postData=p,this.context2D=d,this.loadWithAjax=s,this.ajaxHeaders=c,m===void 0&&(i.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),m=i.TileSource.prototype.getTileHashKey(n,r,o,a,c,p)),this.cacheKey=m,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},i.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},get image(){return i.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return i.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return typeof this._url=="function"?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord&&this.cacheImageRecord.getRenderedContext()},getScaleForEdgeSmoothing:function(){var n;if(this.cacheImageRecord)n=this.cacheImageRecord.getRenderedContext();else if(this.context2D)n=this.context2D;else return i.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return n.canvas.width/(this.size.x*i.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(n,r,o){var e=Math.max(1,Math.ceil((o.x-r.x)/2)),t=Math.max(1,Math.ceil((o.y-r.y)/2));return new i.Point(e,t).minus(this.position.times(i.pixelDensityRatio).times(n||1).apply(function(a){return a%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}})(Je);(function(i){i.OverlayPlacement=i.Placement,i.OverlayRotationMode=i.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),i.Overlay=function(n,r,o){var e;i.isPlainObject(n)?e=n:e={element:n,location:r,placement:o},this.element=e.element,this.element.innerHTML="<div>"+this.element.innerHTML+"</div>",this.style=e.element.style,this._init(e)},i.Overlay.prototype={_init:function(n){this.location=n.location,this.placement=n.placement===void 0?i.Placement.TOP_LEFT:n.placement,this.onDraw=n.onDraw,this.checkResize=n.checkResize===void 0?!0:n.checkResize,this.width=n.width===void 0?null:n.width,this.height=n.height===void 0?null:n.height,this.rotationMode=n.rotationMode||i.OverlayRotationMode.EXACT,this.location instanceof i.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=i.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new i.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(n,r){var o=i.Placement.properties[this.placement];o&&(o.isHorizontallyCentered?n.x-=r.x/2:o.isRight&&(n.x-=r.x),o.isVerticallyCentered?n.y-=r.y/2:o.isBottom&&(n.y-=r.y))},destroy:function(){var n=this.element,r=this.style;n.parentNode&&(n.parentNode.removeChild(n),n.prevElementParent&&(r.display="none",document.body.appendChild(n))),this.onDraw=null,r.top="",r.left="",r.position="",this.width!==null&&(r.width=""),this.height!==null&&(r.height="");var o=i.getCssPropertyWithVendorPrefix("transformOrigin"),e=i.getCssPropertyWithVendorPrefix("transform");o&&e&&(r[o]="",r[e]="")},drawHTML:function(n,r){var o=this.element;o.parentNode!==n&&(o.prevElementParent=o.parentNode,o.prevNextSibling=o.nextSibling,n.appendChild(o),this.style.position="absolute",this.size=i.getElementSize(o));var e=this._getOverlayPositionAndSize(r),t=e.position,a=this.size=e.size,d="";r.overlayPreserveContentDirection&&(d=r.flipped?" scaleX(-1)":" scaleX(1)");var s=r.flipped?-e.rotate:e.rotate,c=r.flipped?" scaleX(-1)":"";if(this.onDraw)this.onDraw(t,a,this.element);else{var u=this.style,p=o.firstChild,m=p.style;u.left=t.x+"px",u.top=t.y+"px",this.width!==null&&(u.width=a.x+"px"),this.height!==null&&(u.height=a.y+"px");var g=i.getCssPropertyWithVendorPrefix("transformOrigin"),v=i.getCssPropertyWithVendorPrefix("transform");g&&v&&(s&&!r.flipped?(m[v]="",u[g]=this._getTransformOrigin(),u[v]="rotate("+s+"deg)"):!s&&r.flipped?(m[v]=d,u[g]=this._getTransformOrigin(),u[v]=c):s&&r.flipped?(m[v]=d,u[g]=this._getTransformOrigin(),u[v]="rotate("+s+"deg)"+c):(m[v]="",u[g]="",u[v]="")),u.display="block"}},_getOverlayPositionAndSize:function(n){var r=n.pixelFromPoint(this.location,!0),o=this._getSizeInPixels(n);this.adjust(r,o);var e=0;if(n.getRotation(!0)&&this.rotationMode!==i.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===i.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var t=new i.Rect(r.x,r.y,o.x,o.y),a=this._getBoundingBox(t,n.getRotation(!0));r=a.getTopLeft(),o=a.getSize()}else e=n.getRotation(!0);return n.flipped&&(r.x=n.getContainerSize().x-r.x),{position:r,size:o,rotate:e}},_getSizeInPixels:function(n){var r=this.size.x,o=this.size.y;if(this.width!==null||this.height!==null){var e=n.deltaPixelsFromPointsNoRotate(new i.Point(this.width||0,this.height||0),!0);this.width!==null&&(r=e.x),this.height!==null&&(o=e.y)}if(this.checkResize&&(this.width===null||this.height===null)){var t=this.size=i.getElementSize(this.element);this.width===null&&(r=t.x),this.height===null&&(o=t.y)}return new i.Point(r,o)},_getBoundingBox:function(n,r){var o=this._getPlacementPoint(n);return n.rotate(r,o).getBoundingBox()},_getPlacementPoint:function(n){var r=new i.Point(n.x,n.y),o=i.Placement.properties[this.placement];return o&&(o.isHorizontallyCentered?r.x+=n.width/2:o.isRight&&(r.x+=n.width),o.isVerticallyCentered?r.y+=n.height/2:o.isBottom&&(r.y+=n.height)),r},_getTransformOrigin:function(){var n="",r=i.Placement.properties[this.placement];return r&&(r.isLeft?n="left":r.isRight&&(n="right"),r.isTop?n+=" top":r.isBottom&&(n+=" bottom")),n},update:function(n,r){var o=i.isPlainObject(n)?n:{location:n,placement:r};this._init({location:o.location||this.location,placement:o.placement!==void 0?o.placement:this.placement,onDraw:o.onDraw||this.onDraw,checkResize:o.checkResize||this.checkResize,width:o.width!==void 0?o.width:this.width,height:o.height!==void 0?o.height:this.height,rotationMode:o.rotationMode||this.rotationMode})},getBounds:function(n){i.console.assert(n,"A viewport must now be passed to Overlay.getBounds.");var r=this.width,o=this.height;if(r===null||o===null){var e=n.deltaPointsFromPixelsNoRotate(this.size,!0);r===null&&(r=e.x),o===null&&(o=e.y)}var t=this.location.clone();return this.adjust(t,new i.Point(r,o)),this._adjustBoundsForRotation(n,new i.Rect(t.x,t.y,r,o))},_adjustBoundsForRotation:function(n,r){if(!n||n.getRotation(!0)===0||this.rotationMode===i.OverlayRotationMode.EXACT)return r;if(this.rotationMode===i.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return r;var o=this._getOverlayPositionAndSize(n);return n.viewerElementToViewportRectangle(new i.Rect(o.position.x,o.position.y,o.size.x,o.size.y))}return r.rotate(-n.getRotation(!0),this._getPlacementPoint(r))}}})(Je);(function(i){let n=i;n.DrawerBase=class{constructor(o){i.console.assert(o.viewer,"[Drawer] options.viewer is required"),i.console.assert(o.viewport,"[Drawer] options.viewport is required"),i.console.assert(o.element,"[Drawer] options.element is required"),this.viewer=o.viewer,this.viewport=o.viewport,this.debugGridColor=typeof o.debugGridColor=="string"?[o.debugGridColor]:o.debugGridColor||i.DEFAULT_SETTINGS.debugGridColor,this.options=o.options||{},this.container=i.getElement(o.element),this._renderingTarget=this._createDrawingElement(),this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",this.canvas.style.left="0",i.setElementOpacity(this.canvas,this.viewer.opacity,!0),i.setElementPointerEventsNone(this.canvas),i.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._checkForAPIOverrides()}get canvas(){return this._renderingTarget}get element(){return i.console.error("Drawer.element is deprecated. Use Drawer.container instead."),this.container}getType(){i.console.error("Drawer.getType must be implemented by child class")}static isSupported(){i.console.error("Drawer.isSupported must be implemented by child class")}_createDrawingElement(){return i.console.error("Drawer._createDrawingElement must be implemented by child class"),null}draw(o){i.console.error("Drawer.draw must be implemented by child class")}canRotate(){i.console.error("Drawer.canRotate must be implemented by child class")}destroy(){i.console.error("Drawer.destroy must be implemented by child class")}minimumOverlapRequired(o){return!1}setImageSmoothingEnabled(o){i.console.error("Drawer.setImageSmoothingEnabled must be implemented by child class")}drawDebuggingRect(o){i.console.warn("[drawer].drawDebuggingRect is not implemented by this drawer")}clear(){i.console.warn("[drawer].clear() is deprecated. The drawer is responsible for clearing itself as needed before drawing tiles.")}_checkForAPIOverrides(){if(this._createDrawingElement===i.DrawerBase.prototype._createDrawingElement)throw new Error("[drawer]._createDrawingElement must be implemented by child class");if(this.draw===i.DrawerBase.prototype.draw)throw new Error("[drawer].draw must be implemented by child class");if(this.canRotate===i.DrawerBase.prototype.canRotate)throw new Error("[drawer].canRotate must be implemented by child class");if(this.destroy===i.DrawerBase.prototype.destroy)throw new Error("[drawer].destroy must be implemented by child class");if(this.setImageSmoothingEnabled===i.DrawerBase.prototype.setImageSmoothingEnabled)throw new Error("[drawer].setImageSmoothingEnabled must be implemented by child class")}viewportToDrawerRectangle(o){var e=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!0),t=this.viewport.deltaPixelsFromPointsNoRotate(o.getSize(),!0);return new i.Rect(e.x*i.pixelDensityRatio,e.y*i.pixelDensityRatio,t.x*i.pixelDensityRatio,t.y*i.pixelDensityRatio)}viewportCoordToDrawerCoord(o){var e=this.viewport.pixelFromPointNoRotate(o,!0);return new i.Point(e.x*i.pixelDensityRatio,e.y*i.pixelDensityRatio)}_calculateCanvasSize(){var o=i.pixelDensityRatio,e=this.viewport.getContainerSize();return new n.Point(Math.round(e.x*o),Math.round(e.y*o))}_raiseTiledImageDrawnEvent(o,e){this.viewer&&this.viewer.raiseEvent("tiled-image-drawn",{tiledImage:o,tiles:e})}_raiseDrawerErrorEvent(o,e){this.viewer&&this.viewer.raiseEvent("drawer-error",{tiledImage:o,drawer:this,error:e})}}})(Je);(function(i){let n=i;class r extends n.DrawerBase{constructor(e){super(e),this.viewer.rejectEventHandler("tile-drawing","The HTMLDrawer does not raise the tile-drawing event"),this.viewer.allowEventHandler("tile-drawn")}static isSupported(){return!0}getType(){return"html"}minimumOverlapRequired(e){return!0}_createDrawingElement(){return i.makeNeutralElement("div")}draw(e){var t=this;this._prepareNewFrame(),e.forEach(function(a){a.opacity!==0&&t._drawTiles(a)})}canRotate(){return!1}destroy(){this.container.removeChild(this.canvas)}setImageSmoothingEnabled(){}_prepareNewFrame(){this.canvas.innerHTML=""}_drawTiles(e){var t=e.getTilesToDraw().map(s=>s.tile);if(!(e.opacity===0||t.length===0&&!e.placeholderFillStyle))for(var a=t.length-1;a>=0;a--){var d=t[a];this._drawTile(d),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:e,tile:d})}}_drawTile(e){i.console.assert(e,"[Drawer._drawTile] tile is required");let t=this.canvas;if(!e.cacheImageRecord){i.console.warn("[Drawer._drawTileToHTML] attempting to draw tile %s when it's not cached",e.toString());return}if(!e.loaded){i.console.warn("Attempting to draw tile %s when it's not yet loaded.",e.toString());return}if(!e.element){var a=e.getImage();if(!a)return;e.element=i.makeNeutralElement("div"),e.imgElement=a.cloneNode(),e.imgElement.style.msInterpolationMode="nearest-neighbor",e.imgElement.style.width="100%",e.imgElement.style.height="100%",e.style=e.element.style,e.style.position="absolute"}e.element.parentNode!==t&&t.appendChild(e.element),e.imgElement.parentNode!==e.element&&e.element.appendChild(e.imgElement),e.style.top=e.position.y+"px",e.style.left=e.position.x+"px",e.style.height=e.size.y+"px",e.style.width=e.size.x+"px",e.flipped&&(e.style.transform="scaleX(-1)"),i.setElementOpacity(e.element,e.opacity)}}i.HTMLDrawer=r})(Je);(function(i){let n=i;class r extends n.DrawerBase{constructor(s){super(s),this.context=this.canvas.getContext("2d"),this.sketchCanvas=null,this.sketchContext=null,this._imageSmoothingEnabled=!0,this.viewer.allowEventHandler("tile-drawn"),this.viewer.allowEventHandler("tile-drawing")}static isSupported(){return i.supportsCanvas}getType(){return"canvas"}_createDrawingElement(){let s=i.makeNeutralElement("canvas"),c=this._calculateCanvasSize();return s.width=c.x,s.height=c.y,s}draw(s){this._prepareNewFrame(),this.viewer.viewport.getFlip()!==this._viewportFlipped&&this._flip();for(let c of s)c.opacity!==0&&this._drawTiles(c)}canRotate(){return!0}destroy(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null,this.container.removeChild(this.canvas)}minimumOverlapRequired(s){return!0}setImageSmoothingEnabled(s){this._imageSmoothingEnabled=!!s,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw()}drawDebuggingRect(s){var c=this.context;c.save(),c.lineWidth=2*i.pixelDensityRatio,c.strokeStyle=this.debugGridColor[0],c.fillStyle=this.debugGridColor[0],c.strokeRect(s.x*i.pixelDensityRatio,s.y*i.pixelDensityRatio,s.width*i.pixelDensityRatio,s.height*i.pixelDensityRatio),c.restore()}get _viewportFlipped(){return this.context.getTransform().a<0}_raiseTileDrawingEvent(s,c,u,p){this.viewer.raiseEvent("tile-drawing",{tiledImage:s,context:c,tile:u,rendered:p})}_prepareNewFrame(){var s=this._calculateCanvasSize();if((this.canvas.width!==s.x||this.canvas.height!==s.y)&&(this.canvas.width=s.x,this.canvas.height=s.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var c=this._calculateSketchCanvasSize();this.sketchCanvas.width=c.x,this.sketchCanvas.height=c.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}_clear(s,c){var u=this._getContext(s);if(c)u.clearRect(c.x,c.y,c.width,c.height);else{var p=u.canvas;u.clearRect(0,0,p.width,p.height)}}_drawTiles(s){var c=s.getTilesToDraw().map(I=>I.tile);if(!(s.opacity===0||c.length===0&&!s.placeholderFillStyle)){var u=c[0],p;u&&(p=s.opacity<1||s.compositeOperation&&s.compositeOperation!=="source-over"||!s._isBottomItem()&&s.source.hasTransparency(u.context2D,u.getUrl(),u.ajaxHeaders,u.postData));var m,g,v=this.viewport.getZoom(!0),x=s.viewportToImageZoom(v);c.length>1&&x>s.smoothTileEdgesMinZoom&&!s.iOSDevice&&s.getRotation(!0)%360===0&&(p=!0,m=u.getScaleForEdgeSmoothing(),g=u.getTranslationForEdgeSmoothing(m,this._getCanvasSize(!1),this._getCanvasSize(!0)));var y;p&&(m||(y=this.viewport.viewportToViewerElementRectangle(s.getClippedBounds(!0)).getIntegerBoundingBox(),y=y.times(i.pixelDensityRatio)),this._clear(!0,y)),m||this._setRotations(s,p);var w=!1;if(s._clip){this._saveContext(p);var S=s.imageToViewportRectangle(s._clip,!0);S=S.rotate(-s.getRotation(!0),s._getRotationPoint(!0));var P=this.viewportToDrawerRectangle(S);m&&(P=P.times(m)),g&&(P=P.translate(g)),this._setClip(P,p),w=!0}if(s._croppingPolygons){var j=this;w||this._saveContext(p);try{var R=s._croppingPolygons.map(function(I){return I.map(function(Z){var B=s.imageToViewportCoordinates(Z.x,Z.y,!0).rotate(-s.getRotation(!0),s._getRotationPoint(!0)),se=j.viewportCoordToDrawerCoord(B);return m&&(se=se.times(m)),g&&(se=se.plus(g)),se})});this._clipWithPolygons(R,p)}catch(I){i.console.error(I)}w=!0}if(s._hasOpaqueTile=!1,s.placeholderFillStyle&&s._hasOpaqueTile===!1){let I=this.viewportToDrawerRectangle(s.getBoundsNoRotate(!0));m&&(I=I.times(m)),g&&(I=I.translate(g));let Z=null;typeof s.placeholderFillStyle=="function"?Z=s.placeholderFillStyle(s,this.context):Z=s.placeholderFillStyle,this._drawRectangle(I,Z,p)}var T=a(s.subPixelRoundingForTransparency),q=!1;if(T===i.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)q=!0;else if(T===i.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var $=this.viewer&&this.viewer.isAnimating();q=!$}for(var z=0;z<c.length;z++)u=c[z],this._drawTile(u,s,p,m,g,q,s.source),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:s,tile:u});w&&this._restoreContext(p),m||(s.getRotation(!0)%360!==0&&this._restoreRotationChanges(p),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(p)),p&&(m&&this._setRotations(s),this.blendSketch({opacity:s.opacity,scale:m,translate:g,compositeOperation:s.compositeOperation,bounds:y}),m&&(s.getRotation(!0)%360!==0&&this._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(!1))),this._drawDebugInfo(s,c),this._raiseTiledImageDrawnEvent(s,c)}}_drawDebugInfo(s,c){if(s.debugMode)for(var u=c.length-1;u>=0;u--){var p=c[u];try{this._drawDebugInfoOnTile(p,c.length,u,s)}catch(m){i.console.error(m)}}}_clipWithPolygons(s,c){var u=this._getContext(c);u.beginPath();for(let p of s)for(let[m,g]of p.entries())u[m===0?"moveTo":"lineTo"](g.x,g.y);u.clip()}_drawTile(s,c,u,p,m,g,v){i.console.assert(s,"[Drawer._drawTile] tile is required"),i.console.assert(c,"[Drawer._drawTile] drawingHandler is required");var x=this._getContext(u);p=p||1,this._drawTileToCanvas(s,x,c,p,m,g,v)}_drawTileToCanvas(s,c,u,p,m,g,v){var x=s.position.times(i.pixelDensityRatio),y=s.size.times(i.pixelDensityRatio),w;if(!s.context2D&&!s.cacheImageRecord){i.console.warn("[Drawer._drawTileToCanvas] attempting to draw tile %s when it's not cached",s.toString());return}if(w=s.getCanvasContext(),!s.loaded||!w){i.console.warn("Attempting to draw tile %s when it's not yet loaded.",s.toString());return}c.save(),typeof p=="number"&&p!==1&&(x=x.times(p),y=y.times(p)),m instanceof i.Point&&(x=x.plus(m)),c.globalAlpha===1&&s.hasTransparency&&(g&&(x.x=Math.round(x.x),x.y=Math.round(x.y),y.x=Math.round(y.x),y.y=Math.round(y.y)),c.clearRect(x.x,x.y,y.x,y.y)),this._raiseTileDrawingEvent(u,c,s,w);var S,P;s.sourceBounds?(S=Math.min(s.sourceBounds.width,w.canvas.width),P=Math.min(s.sourceBounds.height,w.canvas.height)):(S=w.canvas.width,P=w.canvas.height),c.translate(x.x+y.x/2,0),s.flipped&&c.scale(-1,1),c.drawImage(w.canvas,0,0,S,P,-y.x/2,x.y,y.x,y.y),c.restore()}_getContext(s){var c=this.context;if(s){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var u=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=u.x,this.sketchCanvas.height=u.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var p=this;this.viewer.addHandler("rotate",function m(){if(p.viewport.getRotation()!==0){p.viewer.removeHandler("rotate",m);var g=p._calculateSketchCanvasSize();p.sketchCanvas.width=g.x,p.sketchCanvas.height=g.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}c=this.sketchContext}return c}_saveContext(s){this._getContext(s).save()}_restoreContext(s){this._getContext(s).restore()}_setClip(s,c){var u=this._getContext(c);u.beginPath(),u.rect(s.x,s.y,s.width,s.height),u.clip()}_drawRectangle(s,c,u){var p=this._getContext(u);p.save(),p.fillStyle=c,p.fillRect(s.x,s.y,s.width,s.height),p.restore()}blendSketch(s,c,u,p){var m=s;i.isPlainObject(m)||(m={opacity:s,scale:c,translate:u,compositeOperation:p}),s=m.opacity,p=m.compositeOperation;var g=m.bounds;if(this.context.save(),this.context.globalAlpha=s,p&&(this.context.globalCompositeOperation=p),g)g.x<0&&(g.width+=g.x,g.x=0),g.x+g.width>this.canvas.width&&(g.width=this.canvas.width-g.x),g.y<0&&(g.height+=g.y,g.y=0),g.y+g.height>this.canvas.height&&(g.height=this.canvas.height-g.y),this.context.drawImage(this.sketchCanvas,g.x,g.y,g.width,g.height,g.x,g.y,g.width,g.height);else{c=m.scale||1,u=m.translate;var v=u instanceof i.Point?u:new i.Point(0,0),x=0,y=0;if(u){var w=this.sketchCanvas.width-this.canvas.width,S=this.sketchCanvas.height-this.canvas.height;x=Math.round(w/2),y=Math.round(S/2)}this.context.drawImage(this.sketchCanvas,v.x-x*c,v.y-y*c,(this.canvas.width+2*x)*c,(this.canvas.height+2*y)*c,-x,-y,this.canvas.width+2*x,this.canvas.height+2*y)}this.context.restore()}_drawDebugInfoOnTile(s,c,u,p){var m=this.viewer.world.getIndexOfItem(p)%this.debugGridColor.length,g=this.context;g.save(),g.lineWidth=2*i.pixelDensityRatio,g.font="small-caps bold "+13*i.pixelDensityRatio+"px arial",g.strokeStyle=this.debugGridColor[m],g.fillStyle=this.debugGridColor[m],this._setRotations(p),this._viewportFlipped&&this._flip({point:s.position.plus(s.size.divide(2))}),g.strokeRect(s.position.x*i.pixelDensityRatio,s.position.y*i.pixelDensityRatio,s.size.x*i.pixelDensityRatio,s.size.y*i.pixelDensityRatio);var v=(s.position.x+s.size.x/2)*i.pixelDensityRatio,x=(s.position.y+s.size.y/2)*i.pixelDensityRatio;g.translate(v,x);let y=this.viewport.getRotation(!0);g.rotate(Math.PI/180*-y),g.translate(-v,-x),s.x===0&&s.y===0&&(g.fillText("Zoom: "+this.viewport.getZoom(),s.position.x*i.pixelDensityRatio,(s.position.y-30)*i.pixelDensityRatio),g.fillText("Pan: "+this.viewport.getBounds().toString(),s.position.x*i.pixelDensityRatio,(s.position.y-20)*i.pixelDensityRatio)),g.fillText("Level: "+s.level,(s.position.x+10)*i.pixelDensityRatio,(s.position.y+20)*i.pixelDensityRatio),g.fillText("Column: "+s.x,(s.position.x+10)*i.pixelDensityRatio,(s.position.y+30)*i.pixelDensityRatio),g.fillText("Row: "+s.y,(s.position.x+10)*i.pixelDensityRatio,(s.position.y+40)*i.pixelDensityRatio),g.fillText("Order: "+u+" of "+c,(s.position.x+10)*i.pixelDensityRatio,(s.position.y+50)*i.pixelDensityRatio),g.fillText("Size: "+s.size.toString(),(s.position.x+10)*i.pixelDensityRatio,(s.position.y+60)*i.pixelDensityRatio),g.fillText("Position: "+s.position.toString(),(s.position.x+10)*i.pixelDensityRatio,(s.position.y+70)*i.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),p.getRotation(!0)%360!==0&&this._restoreRotationChanges(),g.restore()}_updateImageSmoothingEnabled(s){s.msImageSmoothingEnabled=this._imageSmoothingEnabled,s.imageSmoothingEnabled=this._imageSmoothingEnabled}_getCanvasSize(s){var c=this._getContext(s).canvas;return new i.Point(c.width,c.height)}_getCanvasCenter(){return new i.Point(this.canvas.width/2,this.canvas.height/2)}_setRotations(s,c=!1){var u=!1;this.viewport.getRotation(!0)%360!==0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:c,saveContext:u}),u=!1),s.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:s.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(s._getRotationPoint(!0),!0),useSketch:c,saveContext:u})}_offsetForRotation(s){var c=s.point?s.point.times(i.pixelDensityRatio):this._getCanvasCenter(),u=this._getContext(s.useSketch);u.save(),u.translate(c.x,c.y),u.rotate(Math.PI/180*s.degrees),u.translate(-c.x,-c.y)}_flip(s){s=s||{};var c=s.point?s.point.times(i.pixelDensityRatio):this._getCanvasCenter(),u=this._getContext(s.useSketch);u.translate(c.x,0),u.scale(-1,1),u.translate(-c.x,0)}_restoreRotationChanges(s){var c=this._getContext(s);c.restore()}_calculateCanvasSize(){var s=i.pixelDensityRatio,c=this.viewport.getContainerSize();return{x:Math.round(c.x*s),y:Math.round(c.y*s)}}_calculateSketchCanvasSize(){var s=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return s;var c=Math.ceil(Math.sqrt(s.x*s.x+s.y*s.y));return{x:c,y:c}}}i.CanvasDrawer=r;var o=i.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function e(d){return d!==i.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&d!==i.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&d!==i.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function t(d){return e(d)?o:d}function a(d){if(typeof d=="number")return t(d);if(!d||!i.Browser)return o;var s=d[i.Browser.vendor];return e(s)&&(s=d["*"]),t(s)}})(Je);(function(i){let n=i;n.WebGLDrawer=class extends n.DrawerBase{constructor(o){super(o),this._destroyed=!1,this._TextureMap=new Map,this._TileMap=new Map,this._gl=null,this._firstPass=null,this._secondPass=null,this._glFrameBuffer=null,this._renderToTexture=null,this._glFramebufferToCanvasTransform=null,this._outputCanvas=null,this._outputContext=null,this._clippingCanvas=null,this._clippingContext=null,this._renderingCanvas=null,this._backupCanvasDrawer=null,this._boundToTileReady=e=>this._tileReadyHandler(e),this._boundToImageUnloaded=e=>this._imageUnloadedHandler(e),this.viewer.addHandler("tile-ready",this._boundToTileReady),this.viewer.addHandler("image-unloaded",this._boundToImageUnloaded),this.viewer.rejectEventHandler("tile-drawn","The WebGLDrawer does not raise the tile-drawn event"),this.viewer.rejectEventHandler("tile-drawing","The WebGLDrawer does not raise the tile-drawing event"),this._setupCanvases(),this._setupRenderer(),this.context=this._outputContext}destroy(){if(this._destroyed)return;let o=this._gl;var e=o.getParameter(o.MAX_TEXTURE_IMAGE_UNITS);for(let d=0;d<e;++d)o.activeTexture(o.TEXTURE0+d),o.bindTexture(o.TEXTURE_2D,null),o.bindTexture(o.TEXTURE_CUBE_MAP,null);o.bindBuffer(o.ARRAY_BUFFER,null),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,null),o.bindRenderbuffer(o.RENDERBUFFER,null),o.bindFramebuffer(o.FRAMEBUFFER,null),Array.from(this._TextureMap.keys()).forEach(d=>{this._cleanupImageData(d)}),o.deleteBuffer(this._secondPass.bufferOutputPosition),o.deleteFramebuffer(this._glFrameBuffer),this._renderingCanvas.width=this._renderingCanvas.height=1,this._clippingCanvas.width=this._clippingCanvas.height=1,this._outputCanvas.width=this._outputCanvas.height=1,this._renderingCanvas=null,this._clippingCanvas=this._clippingContext=null,this._outputCanvas=this._outputContext=null;let a=o.getExtension("WEBGL_lose_context");a&&a.loseContext(),this.viewer.removeHandler("tile-ready",this._boundToTileReady),this.viewer.removeHandler("image-unloaded",this._boundToImageUnloaded),this._gl=null,this._backupCanvasDrawer&&(this._backupCanvasDrawer.destroy(),this._backupCanvasDrawer=null),this.container.removeChild(this.canvas),this.viewer.drawer===this&&(this.viewer.drawer=null),this._destroyed=!0}canRotate(){return!0}static isSupported(){let o=document.createElement("canvas"),e=i.isFunction(o.getContext)&&o.getContext("webgl"),t=e&&e.getExtension("WEBGL_lose_context");return t&&t.loseContext(),!!e}getType(){return"webgl"}minimumOverlapRequired(o){return o.isTainted()}_createDrawingElement(){let o=i.makeNeutralElement("canvas"),e=this._calculateCanvasSize();return o.width=e.x,o.height=e.y,o}_getBackupCanvasDrawer(){return this._backupCanvasDrawer||(this._backupCanvasDrawer=this.viewer.requestDrawer("canvas",{mainDrawer:!1}),this._backupCanvasDrawer.canvas.style.setProperty("visibility","hidden")),this._backupCanvasDrawer}draw(o){let e=this._gl,t={bounds:this.viewport.getBoundsNoRotate(!0),center:this.viewport.getCenter(!0),rotation:this.viewport.getRotation(!0)*Math.PI/180},a=this.viewport.flipped?-1:1,d=i.Mat3.makeTranslation(-t.center.x,-t.center.y),s=i.Mat3.makeScaling(2/t.bounds.width*a,-2/t.bounds.height),c=i.Mat3.makeRotation(-t.rotation),u=s.multiply(c).multiply(d);e.bindFramebuffer(e.FRAMEBUFFER,null),e.clear(e.COLOR_BUFFER_BIT),this._outputContext.clearRect(0,0,this._outputCanvas.width,this._outputCanvas.height);let p=!1;o.forEach((m,g)=>{if(m.isTainted()){p&&(this._outputContext.drawImage(this._renderingCanvas,0,0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.clear(e.COLOR_BUFFER_BIT),p=!1);let v=this._getBackupCanvasDrawer();v.draw([m]),this._outputContext.drawImage(v.canvas,0,0)}else{let v=m.getTilesToDraw();if(m.placeholderFillStyle&&m._hasOpaqueTile===!1&&this._drawPlaceholder(m),v.length===0||m.getOpacity()===0)return;let x=v[0],y=m.compositeOperation||this.viewer.compositeOperation||m._clip||m._croppingPolygons||m.debugMode,w=y||m.opacity<1||x.hasTransparency;y&&(p&&this._outputContext.drawImage(this._renderingCanvas,0,0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.clear(e.COLOR_BUFFER_BIT)),e.useProgram(this._firstPass.shaderProgram),w?(e.bindFramebuffer(e.FRAMEBUFFER,this._glFrameBuffer),e.clear(e.COLOR_BUFFER_BIT)):e.bindFramebuffer(e.FRAMEBUFFER,null);let S=u,P=m.getRotation(!0);if(P%360!==0){let z=i.Mat3.makeRotation(-P*Math.PI/180),I=m.getBoundsNoRotate(!0).getCenter(),Z=i.Mat3.makeTranslation(I.x,I.y),B=i.Mat3.makeTranslation(-I.x,-I.y),se=Z.multiply(z).multiply(B);S=u.multiply(se)}let j=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS);if(j<=0)throw new Error(`WegGL error: bad value for gl parameter MAX_TEXTURE_IMAGE_UNITS (${j}). This could happen
                        if too many contexts have been created and not released, or there is another problem with the graphics card.`);let R=new Float32Array(j*12),T=new Array(j),q=new Array(j),$=new Array(j);for(let z=0;z<v.length;z++){let I=v[z].tile,Z=z%j,B=Z+1,se=I.getCanvasContext(),ge=se?this._TextureMap.get(se.canvas):null;if(ge||(this._tileReadyHandler({tile:I,tiledImage:m}),ge=se?this._TextureMap.get(se.canvas):null),ge&&this._getTileData(I,m,ge,S,Z,R,T,q,$),B===j||z===v.length-1){for(let ae=0;ae<=B;ae++)e.activeTexture(e.TEXTURE0+ae),e.bindTexture(e.TEXTURE_2D,T[ae]);e.bindBuffer(e.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),e.bufferData(e.ARRAY_BUFFER,R,e.DYNAMIC_DRAW),q.forEach((ae,U)=>{e.uniformMatrix3fv(this._firstPass.uTransformMatrices[U],!1,ae)}),e.uniform1fv(this._firstPass.uOpacities,new Float32Array($)),e.bindBuffer(e.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),e.vertexAttribPointer(this._firstPass.aOutputPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),e.vertexAttribPointer(this._firstPass.aTexturePosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._firstPass.bufferIndex),e.vertexAttribPointer(this._firstPass.aIndex,1,e.FLOAT,!1,0,0),e.drawArrays(e.TRIANGLES,0,6*B)}}w&&(e.useProgram(this._secondPass.shaderProgram),e.bindFramebuffer(e.FRAMEBUFFER,null),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this._renderToTexture),this._gl.uniform1f(this._secondPass.uOpacityMultiplier,m.opacity),e.bindBuffer(e.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),e.vertexAttribPointer(this._secondPass.aTexturePosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),e.vertexAttribPointer(this._firstPass.aOutputPosition,2,e.FLOAT,!1,0,0),e.drawArrays(e.TRIANGLES,0,6)),p=!0,y&&(this._applyContext2dPipeline(m,v,g),p=!1,e.bindFramebuffer(e.FRAMEBUFFER,null),e.clear(e.COLOR_BUFFER_BIT)),g===0&&this._raiseTiledImageDrawnEvent(m,v.map(z=>z.tile))}}),p&&this._outputContext.drawImage(this._renderingCanvas,0,0)}setImageSmoothingEnabled(o){}drawDebuggingRect(o){let e=this._outputContext;e.save(),e.lineWidth=2*i.pixelDensityRatio,e.strokeStyle=this.debugGridColor[0],e.fillStyle=this.debugGridColor[0],e.strokeRect(o.x*i.pixelDensityRatio,o.y*i.pixelDensityRatio,o.width*i.pixelDensityRatio,o.height*i.pixelDensityRatio),e.restore()}_getTextureDataFromTile(o){return o.getCanvasContext().canvas}_applyContext2dPipeline(o,e,t){if(this._outputContext.save(),this._outputContext.globalCompositeOperation=t===0?null:o.compositeOperation||this.viewer.compositeOperation,o._croppingPolygons||o._clip?(this._renderToClippingCanvas(o),this._outputContext.drawImage(this._clippingCanvas,0,0)):this._outputContext.drawImage(this._renderingCanvas,0,0),this._outputContext.restore(),o.debugMode){let a=this.viewer.viewport.getFlip();a&&this._flip(),this._drawDebugInfo(e,o,a),a&&this._flip()}}_getTileData(o,e,t,a,d,s,c,u,p){let m=t.texture,g=t.position;s.set(g,d*12);let v=this._calculateOverlapFraction(o,e),x=o.positionedBounds.width*v.x,y=o.positionedBounds.height*v.y,w=o.positionedBounds.x+(o.x===0?0:x),S=o.positionedBounds.y+(o.y===0?0:y),P=o.positionedBounds.x+o.positionedBounds.width-(o.isRightMost?0:x),j=o.positionedBounds.y+o.positionedBounds.height-(o.isBottomMost?0:y),R=P-w,T=j-S,q=new i.Mat3([R,0,0,0,T,0,w,S,1]);if(o.flipped){let z=i.Mat3.makeTranslation(.5,0),I=i.Mat3.makeTranslation(-.5,0),Z=z.multiply(i.Mat3.makeScaling(-1,1)).multiply(I);q=q.multiply(Z)}let $=a.multiply(q);p[d]=o.opacity,c[d]=m,u[d]=$.values}_setupRenderer(){let o=this._gl;o||i.console.error("_setupCanvases must be called before _setupRenderer"),this._unitQuad=this._makeQuadVertexBuffer(0,1,0,1),this._makeFirstPassShaderProgram(),this._makeSecondPassShaderProgram(),this._renderToTexture=o.createTexture(),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,this._renderToTexture),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,this._renderingCanvas.width,this._renderingCanvas.height,0,o.RGBA,o.UNSIGNED_BYTE,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),this._glFrameBuffer=o.createFramebuffer(),o.bindFramebuffer(o.FRAMEBUFFER,this._glFrameBuffer),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,this._renderToTexture,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA)}_makeFirstPassShaderProgram(){let o=this._glNumTextures=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS),e=()=>[...Array(o).keys()].map(m=>`uniform mat3 u_matrix_${m};`).join(`
`),t=()=>[...Array(o).keys()].map(m=>`${m>0?"else ":""}if(int(a_index) == ${m}) { transform_matrix = u_matrix_${m}; }`).join(`
`),a=`
            attribute vec2 a_output_position;
            attribute vec2 a_texture_position;
            attribute float a_index;

            ${e()} // create a uniform mat3 for each potential tile to draw

            varying vec2 v_texture_position;
            varying float v_image_index;

            void main() {

                mat3 transform_matrix; // value will be set by the if/elses in makeConditional()

                ${t()}

                gl_Position = vec4(transform_matrix * vec3(a_output_position, 1), 1);

                v_texture_position = a_texture_position;
                v_image_index = a_index;
            }
            `,d=`
            precision mediump float;

            // our textures
            uniform sampler2D u_images[${o}];
            // our opacities
            uniform float u_opacities[${o}];

            // the varyings passed in from the vertex shader.
            varying vec2 v_texture_position;
            varying float v_image_index;

            void main() {
                // can't index directly with a variable, need to use a loop iterator hack
                for(int i = 0; i < ${o}; ++i){
                    if(i == int(v_image_index)){
                        gl_FragColor = texture2D(u_images[i], v_texture_position) * u_opacities[i];
                    }
                }
            }
            `,s=this._gl,c=this.constructor.initShaderProgram(s,a,d);s.useProgram(c),this._firstPass={shaderProgram:c,aOutputPosition:s.getAttribLocation(c,"a_output_position"),aTexturePosition:s.getAttribLocation(c,"a_texture_position"),aIndex:s.getAttribLocation(c,"a_index"),uTransformMatrices:[...Array(this._glNumTextures).keys()].map(m=>s.getUniformLocation(c,`u_matrix_${m}`)),uImages:s.getUniformLocation(c,"u_images"),uOpacities:s.getUniformLocation(c,"u_opacities"),bufferOutputPosition:s.createBuffer(),bufferTexturePosition:s.createBuffer(),bufferIndex:s.createBuffer()},s.uniform1iv(this._firstPass.uImages,[...Array(o).keys()]);let u=new Float32Array(o*12);for(let m=0;m<o;++m)u.set(Float32Array.from(this._unitQuad),m*12);s.bindBuffer(s.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),s.bufferData(s.ARRAY_BUFFER,u,s.STATIC_DRAW),s.enableVertexAttribArray(this._firstPass.aOutputPosition),s.bindBuffer(s.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),s.enableVertexAttribArray(this._firstPass.aTexturePosition),s.bindBuffer(s.ARRAY_BUFFER,this._firstPass.bufferIndex);let p=[...Array(this._glNumTextures).keys()].map(m=>Array(6).fill(m)).flat();s.bufferData(s.ARRAY_BUFFER,new Float32Array(p),s.STATIC_DRAW),s.enableVertexAttribArray(this._firstPass.aIndex)}_makeSecondPassShaderProgram(){let o=`
            attribute vec2 a_output_position;
            attribute vec2 a_texture_position;

            uniform mat3 u_matrix;

            varying vec2 v_texture_position;

            void main() {
                gl_Position = vec4(u_matrix * vec3(a_output_position, 1), 1);

                v_texture_position = a_texture_position;
            }
            `,e=`
            precision mediump float;

            // our texture
            uniform sampler2D u_image;

            // the texCoords passed in from the vertex shader.
            varying vec2 v_texture_position;

            // the opacity multiplier for the image
            uniform float u_opacity_multiplier;

            void main() {
                gl_FragColor = texture2D(u_image, v_texture_position);
                gl_FragColor *= u_opacity_multiplier;
            }
            `,t=this._gl,a=this.constructor.initShaderProgram(t,o,e);t.useProgram(a),this._secondPass={shaderProgram:a,aOutputPosition:t.getAttribLocation(a,"a_output_position"),aTexturePosition:t.getAttribLocation(a,"a_texture_position"),uMatrix:t.getUniformLocation(a,"u_matrix"),uImage:t.getUniformLocation(a,"u_image"),uOpacityMultiplier:t.getUniformLocation(a,"u_opacity_multiplier"),bufferOutputPosition:t.createBuffer(),bufferTexturePosition:t.createBuffer()},t.bindBuffer(t.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),t.bufferData(t.ARRAY_BUFFER,this._unitQuad,t.STATIC_DRAW),t.enableVertexAttribArray(this._secondPass.aOutputPosition),t.bindBuffer(t.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),t.bufferData(t.ARRAY_BUFFER,this._unitQuad,t.DYNAMIC_DRAW),t.enableVertexAttribArray(this._secondPass.aTexturePosition);let d=i.Mat3.makeScaling(2,2).multiply(i.Mat3.makeTranslation(-.5,-.5));t.uniformMatrix3fv(this._secondPass.uMatrix,!1,d.values)}_resizeRenderer(){let o=this._gl,e=this._renderingCanvas.width,t=this._renderingCanvas.height;o.viewport(0,0,e,t),o.deleteTexture(this._renderToTexture),this._renderToTexture=o.createTexture(),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,this._renderToTexture),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,e,t,0,o.RGBA,o.UNSIGNED_BYTE,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.bindFramebuffer(o.FRAMEBUFFER,this._glFrameBuffer),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,this._renderToTexture,0)}_setupCanvases(){let o=this;this._outputCanvas=this.canvas,this._outputContext=this._outputCanvas.getContext("2d"),this._renderingCanvas=document.createElement("canvas"),this._clippingCanvas=document.createElement("canvas"),this._clippingContext=this._clippingCanvas.getContext("2d"),this._renderingCanvas.width=this._clippingCanvas.width=this._outputCanvas.width,this._renderingCanvas.height=this._clippingCanvas.height=this._outputCanvas.height,this._gl=this._renderingCanvas.getContext("webgl"),this.viewer.addHandler("resize",function(){o._outputCanvas!==o.viewer.drawer.canvas&&(o._outputCanvas.style.width=o.viewer.drawer.canvas.clientWidth+"px",o._outputCanvas.style.height=o.viewer.drawer.canvas.clientHeight+"px");let e=o._calculateCanvasSize();(o._outputCanvas.width!==e.x||o._outputCanvas.height!==e.y)&&(o._outputCanvas.width=e.x,o._outputCanvas.height=e.y),o._renderingCanvas.style.width=o._outputCanvas.clientWidth+"px",o._renderingCanvas.style.height=o._outputCanvas.clientHeight+"px",o._renderingCanvas.width=o._clippingCanvas.width=o._outputCanvas.width,o._renderingCanvas.height=o._clippingCanvas.height=o._outputCanvas.height,o._resizeRenderer()})}_makeQuadVertexBuffer(o,e,t,a){return new Float32Array([o,a,e,a,o,t,o,t,e,a,e,t])}_tileReadyHandler(o){let e=o.tile,t=o.tiledImage;if(t.isTainted())return;let a=e.getCanvasContext(),d=a&&a.canvas;if(!d||i.isCanvasTainted(d)){t.isTainted()||(t.setTainted(!0),i.console.warn("WebGL cannot be used to draw this TiledImage because it has tainted data. Does crossOriginPolicy need to be set?"),this._raiseDrawerErrorEvent(t,"Tainted data cannot be used by the WebGLDrawer. Falling back to CanvasDrawer for this TiledImage."));return}if(!this._TextureMap.get(d)){let c=this._gl,u=c.createTexture(),p,m=t.source.tileOverlap,g,v;if(e.sourceBounds?(g=Math.min(e.sourceBounds.width,d.width)/d.width,v=Math.min(e.sourceBounds.height,d.height)/d.height):(g=1,v=1),m>0){let y=this._calculateOverlapFraction(e,t),w=(e.x===0?0:y.x)*g,S=(e.y===0?0:y.y)*v,P=(e.isRightMost?1:1-y.x)*g,j=(e.isBottomMost?1:1-y.y)*v;p=this._makeQuadVertexBuffer(w,P,S,j)}else g===1&&v===1?p=this._unitQuad:p=this._makeQuadVertexBuffer(0,g,0,v);let x={texture:u,position:p};this._TextureMap.set(d,x),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,u),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),this._uploadImageData(a)}}_calculateOverlapFraction(o,e){let t=e.source.tileOverlap,a=o.sourceBounds.width,d=o.sourceBounds.height,s=(o.x===0?0:t)+(o.isRightMost?0:t),c=(o.y===0?0:t)+(o.isBottomMost?0:t),u=t/(a+s),p=t/(d+c);return{x:u,y:p}}_uploadImageData(o){let e=this._gl,t=o.canvas;try{if(!t)throw o;e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)}catch(a){i.console.error("Error uploading image data to WebGL",a)}}_imageUnloadedHandler(o){let e=o.context2D.canvas;this._cleanupImageData(e)}_cleanupImageData(o){let e=this._TextureMap.get(o);this._TextureMap.delete(o),e&&this._gl.deleteTexture(e.texture)}_setClip(){}_renderToClippingCanvas(o){if(this._clippingContext.clearRect(0,0,this._clippingCanvas.width,this._clippingCanvas.height),this._clippingContext.save(),this.viewer.viewport.getFlip()){let e=new i.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(e.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-e.x,0)}if(o._clip){let t=[{x:o._clip.x,y:o._clip.y},{x:o._clip.x+o._clip.width,y:o._clip.y},{x:o._clip.x+o._clip.width,y:o._clip.y+o._clip.height},{x:o._clip.x,y:o._clip.y+o._clip.height}].map(a=>{let d=o.imageToViewportCoordinates(a.x,a.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0));return this.viewportCoordToDrawerCoord(d)});this._clippingContext.beginPath(),t.forEach((a,d)=>{this._clippingContext[d===0?"moveTo":"lineTo"](a.x,a.y)}),this._clippingContext.clip(),this._setClip()}if(o._croppingPolygons){let e=o._croppingPolygons.map(t=>t.map(a=>{let d=o.imageToViewportCoordinates(a.x,a.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0));return this.viewportCoordToDrawerCoord(d)}));this._clippingContext.beginPath(),e.forEach(t=>{t.forEach((a,d)=>{this._clippingContext[d===0?"moveTo":"lineTo"](a.x,a.y)})}),this._clippingContext.clip()}if(this.viewer.viewport.getFlip()){let e=new i.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(e.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-e.x,0)}this._clippingContext.drawImage(this._renderingCanvas,0,0),this._clippingContext.restore()}_setRotations(o){var e=!1;this.viewport.getRotation(!0)%360!==0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),saveContext:e}),e=!1),o.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:o.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(o._getRotationPoint(!0),!0),saveContext:e})}_offsetForRotation(o){var e=o.point?o.point.times(i.pixelDensityRatio):this._getCanvasCenter(),t=this._outputContext;t.save(),t.translate(e.x,e.y),t.rotate(Math.PI/180*o.degrees),t.translate(-e.x,-e.y)}_flip(o){o=o||{};var e=o.point?o.point.times(i.pixelDensityRatio):this._getCanvasCenter(),t=this._outputContext;t.translate(e.x,0),t.scale(-1,1),t.translate(-e.x,0)}_drawDebugInfo(o,e,t){for(var a=o.length-1;a>=0;a--){var d=o[a].tile;try{this._drawDebugInfoOnTile(d,o.length,a,e,t)}catch(s){i.console.error(s)}}}_drawDebugInfoOnTile(o,e,t,a,d){var s=this.viewer.world.getIndexOfItem(a)%this.debugGridColor.length,c=this.context;c.save(),c.lineWidth=2*i.pixelDensityRatio,c.font="small-caps bold "+13*i.pixelDensityRatio+"px arial",c.strokeStyle=this.debugGridColor[s],c.fillStyle=this.debugGridColor[s],this._setRotations(a),d&&this._flip({point:o.position.plus(o.size.divide(2))}),c.strokeRect(o.position.x*i.pixelDensityRatio,o.position.y*i.pixelDensityRatio,o.size.x*i.pixelDensityRatio,o.size.y*i.pixelDensityRatio);var u=(o.position.x+o.size.x/2)*i.pixelDensityRatio,p=(o.position.y+o.size.y/2)*i.pixelDensityRatio;c.translate(u,p);let m=this.viewport.getRotation(!0);c.rotate(Math.PI/180*-m),c.translate(-u,-p),o.x===0&&o.y===0&&(c.fillText("Zoom: "+this.viewport.getZoom(),o.position.x*i.pixelDensityRatio,(o.position.y-30)*i.pixelDensityRatio),c.fillText("Pan: "+this.viewport.getBounds().toString(),o.position.x*i.pixelDensityRatio,(o.position.y-20)*i.pixelDensityRatio)),c.fillText("Level: "+o.level,(o.position.x+10)*i.pixelDensityRatio,(o.position.y+20)*i.pixelDensityRatio),c.fillText("Column: "+o.x,(o.position.x+10)*i.pixelDensityRatio,(o.position.y+30)*i.pixelDensityRatio),c.fillText("Row: "+o.y,(o.position.x+10)*i.pixelDensityRatio,(o.position.y+40)*i.pixelDensityRatio),c.fillText("Order: "+t+" of "+e,(o.position.x+10)*i.pixelDensityRatio,(o.position.y+50)*i.pixelDensityRatio),c.fillText("Size: "+o.size.toString(),(o.position.x+10)*i.pixelDensityRatio,(o.position.y+60)*i.pixelDensityRatio),c.fillText("Position: "+o.position.toString(),(o.position.x+10)*i.pixelDensityRatio,(o.position.y+70)*i.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),a.getRotation(!0)%360!==0&&this._restoreRotationChanges(),c.restore()}_drawPlaceholder(o){let e=o.getBounds(!0),t=this.viewportToDrawerRectangle(o.getBounds(!0)),a=this._outputContext,d;typeof o.placeholderFillStyle=="function"?d=o.placeholderFillStyle(o,a):d=o.placeholderFillStyle,this._offsetForRotation({degrees:this.viewer.viewport.getRotation(!0)}),a.fillStyle=d,a.translate(t.x,t.y),a.rotate(Math.PI/180*e.degrees),a.translate(-t.x,-t.y),a.fillRect(t.x,t.y,t.width,t.height),this._restoreRotationChanges()}_getCanvasCenter(){return new i.Point(this.canvas.width/2,this.canvas.height/2)}_restoreRotationChanges(){var o=this._outputContext;o.restore()}static initShaderProgram(o,e,t){function a(u,p,m){let g=u.createShader(p);return u.shaderSource(g,m),u.compileShader(g),u.getShaderParameter(g,u.COMPILE_STATUS)?g:(i.console.error(`An error occurred compiling the shaders: ${u.getShaderInfoLog(g)}`),u.deleteShader(g),null)}let d=a(o,o.VERTEX_SHADER,e),s=a(o,o.FRAGMENT_SHADER,t),c=o.createProgram();return o.attachShader(c,d),o.attachShader(c,s),o.linkProgram(c),o.getProgramParameter(c,o.LINK_STATUS)?c:(i.console.error(`Unable to initialize the shader program: ${o.getProgramInfoLog(c)}`),null)}}})(Je);(function(i){i.Viewport=function(n){var r=arguments;r.length&&r[0]instanceof i.Point&&(n={containerSize:r[0],contentSize:r[1],config:r[2]}),n.config&&(i.extend(!0,n,n.config),delete n.config),this._margins=i.extend({left:0,top:0,right:0,bottom:0},n.margins||{}),delete n.margins,n.initialDegrees=n.degrees,delete n.degrees,i.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:i.DEFAULT_SETTINGS.springStiffness,animationTime:i.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:i.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:i.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:i.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:i.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:i.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:i.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:i.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:i.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:i.DEFAULT_SETTINGS.degrees,flipped:i.DEFAULT_SETTINGS.flipped,homeFillsViewer:i.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:i.DEFAULT_SETTINGS.silenceMultiImageWarnings},n),this._updateContainerInnerSize(),this.centerSpringX=new i.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new i.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new i.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new i.Spring({initial:n.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new i.Rect(0,0,1,1),1),this.goHome(!0),this.update()},i.Viewport.prototype={get degrees(){return i.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(n){i.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(n)},resetContentSize:function(n){return i.console.assert(n,"[Viewport.resetContentSize] contentSize is required"),i.console.assert(n instanceof i.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),i.console.assert(n.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),i.console.assert(n.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new i.Rect(0,0,1,n.y/n.x),n.x),this},setHomeBounds:function(n,r){i.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(n,r)},_setContentBounds:function(n,r){i.console.assert(n,"[Viewport._setContentBounds] bounds is required"),i.console.assert(n instanceof i.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),i.console.assert(n.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),i.console.assert(n.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=n.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(r),this._contentBounds=n.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(r),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:r,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var n=this._contentAspectRatio/this.getAspectRatio(),r;return this.homeFillsViewer?r=n>=1?n:1:r=n>=1?1:n,r/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var n=this._contentBounds.getCenter(),r=1/this.getHomeZoom(),o=r/this.getAspectRatio();return new i.Rect(n.x-r/2,n.y-o/2,r,o)},goHome:function(n){return this.viewer&&this.viewer.raiseEvent("home",{immediately:n}),this.fitBounds(this.getHomeBounds(),n)},getMinZoom:function(){var n=this.getHomeZoom(),r=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*n;return r},getMaxZoom:function(){var n=this.maxZoomLevel;return n||(n=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,n/=this._contentBounds.width),Math.max(n,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new i.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return i.extend({},this._margins)},setMargins:function(n){i.console.assert(i.type(n)==="object","[Viewport.setMargins] margins must be an object"),this._margins=i.extend({left:0,top:0,right:0,bottom:0},n),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(n){return this.getBoundsNoRotate(n).rotate(-this.getRotation(n))},getBoundsNoRotate:function(n){var r=this.getCenter(n),o=1/this.getZoom(n),e=o/this.getAspectRatio();return new i.Rect(r.x-o/2,r.y-e/2,o,e)},getBoundsWithMargins:function(n){return this.getBoundsNoRotateWithMargins(n).rotate(-this.getRotation(n),this.getCenter(n))},getBoundsNoRotateWithMargins:function(n){var r=this.getBoundsNoRotate(n),o=this._containerInnerSize.x*this.getZoom(n);return r.x-=this._margins.left/o,r.y-=this._margins.top/o,r.width+=(this._margins.left+this._margins.right)/o,r.height+=(this._margins.top+this._margins.bottom)/o,r},getCenter:function(n){var r=new i.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),o=new i.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),e,t,a,d,s,c,u,p;return n?r:this.zoomPoint?(e=this.pixelFromPoint(this.zoomPoint,!0),t=this.getZoom(),a=1/t,d=a/this.getAspectRatio(),s=new i.Rect(r.x-a/2,r.y-d/2,a,d),c=this._pixelFromPoint(this.zoomPoint,s),u=c.minus(e).rotate(-this.getRotation(!0)),p=u.divide(this._containerInnerSize.x*t),o.plus(p)):o},getZoom:function(n){return n?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(n){return Math.max(Math.min(n,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(n){var r=this.viewportToViewerElementRectangle(n).getBoundingBox(),o=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),e=!1,t=!1;if(!this.wrapHorizontal){var a=r.x+r.width,d=o.x+o.width,s,c,u;r.width>o.width?s=this.visibilityRatio*o.width:s=this.visibilityRatio*r.width,c=o.x-a+s,u=d-r.x-s,s>o.width?(r.x+=(c+u)/2,e=!0):u<0?(r.x+=u,e=!0):c>0&&(r.x+=c,e=!0)}if(!this.wrapVertical){var p=r.y+r.height,m=o.y+o.height,g,v,x;r.height>o.height?g=this.visibilityRatio*o.height:g=this.visibilityRatio*r.height,v=o.y-p+g,x=m-r.y-g,g>o.height?(r.y+=(v+x)/2,t=!0):x<0?(r.y+=x,t=!0):v>0&&(r.y+=v,t=!0)}var y=e||t,w=y?this.viewerElementToViewportRectangle(r):n.clone();return w.xConstrained=e,w.yConstrained=t,w.constraintApplied=y,w},_raiseConstraintsEvent:function(n){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:n})},applyConstraints:function(n){var r=this.getZoom(),o=this._applyZoomConstraints(r);r!==o&&this.zoomTo(o,this.zoomPoint,n);var e=this.getConstrainedBounds(!1);return e.constraintApplied&&(this.fitBounds(e,n),this._raiseConstraintsEvent(n)),this},ensureVisible:function(n){return this.applyConstraints(n)},_fitBounds:function(n,r){r=r||{};var o=r.immediately||!1,e=r.constraints||!1,t=this.getAspectRatio(),a=n.getCenter(),d=new i.Rect(n.x,n.y,n.width,n.height,n.degrees+this.getRotation()).getBoundingBox();d.getAspectRatio()>=t?d.height=d.width/t:d.width=d.height*t,d.x=a.x-d.width/2,d.y=a.y-d.height/2;var s=1/d.width;if(o)return this.panTo(a,!0),this.zoomTo(s,null,!0),e&&this.applyConstraints(!0),this;var c=this.getCenter(!0),u=this.getZoom(!0);this.panTo(c,!0),this.zoomTo(u,null,!0);var p=this.getBounds(),m=this.getZoom();if(m===0||Math.abs(s/m-1)<1e-8)return this.zoomTo(s,null,!0),this.panTo(a,o),e&&this.applyConstraints(!1),this;if(e){this.panTo(a,!1),s=this._applyZoomConstraints(s),this.zoomTo(s,null,!1);var g=this.getConstrainedBounds();this.panTo(c,!0),this.zoomTo(u,null,!0),this.fitBounds(g)}else{var v=d.rotate(-this.getRotation()),x=v.getTopLeft().times(s).minus(p.getTopLeft().times(m)).divide(s-m);this.zoomTo(s,x,o)}return this},fitBounds:function(n,r){return this._fitBounds(n,{immediately:r,constraints:!1})},fitBoundsWithConstraints:function(n,r){return this._fitBounds(n,{immediately:r,constraints:!0})},fitVertically:function(n){var r=new i.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(r,n)},fitHorizontally:function(n){var r=new i.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(r,n)},getConstrainedBounds:function(n){var r,o;return r=this.getBounds(n),o=this._applyBoundaryConstraints(r),o},panBy:function(n,r){var o=new i.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(o.plus(n),r)},panTo:function(n,r){return r?(this.centerSpringX.resetTo(n.x),this.centerSpringY.resetTo(n.y)):(this.centerSpringX.springTo(n.x),this.centerSpringY.springTo(n.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:n,immediately:r}),this},zoomBy:function(n,r,o){return this.zoomTo(this.zoomSpring.target.value*n,r,o)},zoomTo:function(n,r,o){var e=this;return this.zoomPoint=r instanceof i.Point&&!isNaN(r.x)&&!isNaN(r.y)?r:null,o?this._adjustCenterSpringsForZoomPoint(function(){e.zoomSpring.resetTo(n)}):this.zoomSpring.springTo(n),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:n,refPoint:r,immediately:o}),this},setRotation:function(n,r){return this.rotateTo(n,null,r)},getRotation:function(n){return n?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(n,r,o){return this.rotateTo(n,r,o)},rotateTo:function(n,r,o){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===n&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=r instanceof i.Point&&!isNaN(r.x)&&!isNaN(r.y)?r:null,o)if(this.rotationPivot){var e=n-this._oldDegrees;if(!e)return this.rotationPivot=null,this;this._rotateAboutPivot(n)}else this.degreesSpring.resetTo(n);else{var t=i.positiveModulo(this.degreesSpring.current.value,360),a=i.positiveModulo(n,360),d=a-t;d>180?a-=360:d<-180&&(a+=360);var s=t-a;this.degreesSpring.resetTo(n+s),this.degreesSpring.springTo(n)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:n,immediately:!!o,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(n,r,o){return this.rotateTo(this.degreesSpring.target.value+n,r,o)},resize:function(n,r){var o=this.getBoundsNoRotate(),e=o,t;this.containerSize.x=n.x,this.containerSize.y=n.y,this._updateContainerInnerSize(),r&&(t=n.x/this.containerSize.x,e.width=o.width*t,e.height=e.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:n,maintain:r});var a=this.fitBounds(e,!0);return this.viewer&&this.viewer.raiseEvent("after-resize",{newContainerSize:n,maintain:r}),a},_updateContainerInnerSize:function(){this._containerInnerSize=new i.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var n=this;this._adjustCenterSpringsForZoomPoint(function(){n.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var r=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value;var o=r||!this.zoomSpring.isAtTargetValue()||!this.centerSpringX.isAtTargetValue()||!this.centerSpringY.isAtTargetValue()||!this.degreesSpring.isAtTargetValue();return o},_rotateAboutPivot:function(n){var r=n===!0,o=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(o.x),this.centerSpringY.shiftBy(o.y),r?this.degreesSpring.update():this.degreesSpring.resetTo(n);var e=this.degreesSpring.current.value-this._oldDegrees,t=o.rotate(e*-1).times(-1);this.centerSpringX.shiftBy(t.x),this.centerSpringY.shiftBy(t.y)},_adjustCenterSpringsForZoomPoint:function(n){if(this.zoomPoint){var r=this.pixelFromPoint(this.zoomPoint,!0);n();var o=this.pixelFromPoint(this.zoomPoint,!0),e=o.minus(r),t=this.deltaPointsFromPixels(e,!0);this.centerSpringX.shiftBy(t.x),this.centerSpringY.shiftBy(t.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else n()},deltaPixelsFromPointsNoRotate:function(n,r){return n.times(this._containerInnerSize.x*this.getZoom(r))},deltaPixelsFromPoints:function(n,r){return this.deltaPixelsFromPointsNoRotate(n.rotate(this.getRotation(r)),r)},deltaPointsFromPixelsNoRotate:function(n,r){return n.divide(this._containerInnerSize.x*this.getZoom(r))},deltaPointsFromPixels:function(n,r){return this.deltaPointsFromPixelsNoRotate(n,r).rotate(-this.getRotation(r))},pixelFromPointNoRotate:function(n,r){return this._pixelFromPointNoRotate(n,this.getBoundsNoRotate(r))},pixelFromPoint:function(n,r){return this._pixelFromPoint(n,this.getBoundsNoRotate(r))},_pixelFromPointNoRotate:function(n,r){return n.minus(r.getTopLeft()).times(this._containerInnerSize.x/r.width).plus(new i.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(n,r){return this._pixelFromPointNoRotate(n.rotate(this.getRotation(!0),this.getCenter(!0)),r)},pointFromPixelNoRotate:function(n,r){var o=this.getBoundsNoRotate(r);return n.minus(new i.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/o.width).plus(o.getTopLeft())},pointFromPixel:function(n,r){return this.pointFromPixelNoRotate(n,r).rotate(-this.getRotation(r),this.getCenter(r))},_viewportToImageDelta:function(n,r){var o=this._contentBoundsNoRotate.width;return new i.Point(n*this._contentSizeNoRotate.x/o,r*this._contentSizeNoRotate.x/o)},viewportToImageCoordinates:function(n,r){if(n instanceof i.Point)return this.viewportToImageCoordinates(n.x,n.y);if(this.viewer){var o=this.viewer.world.getItemCount();if(o>1)this.silenceMultiImageWarnings||i.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(o===1){var e=this.viewer.world.getItemAt(0);return e.viewportToImageCoordinates(n,r,!0)}}return this._viewportToImageDelta(n-this._contentBoundsNoRotate.x,r-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(n,r){var o=this._contentBoundsNoRotate.width;return new i.Point(n/this._contentSizeNoRotate.x*o,r/this._contentSizeNoRotate.x*o)},imageToViewportCoordinates:function(n,r){if(n instanceof i.Point)return this.imageToViewportCoordinates(n.x,n.y);if(this.viewer){var o=this.viewer.world.getItemCount();if(o>1)this.silenceMultiImageWarnings||i.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(o===1){var e=this.viewer.world.getItemAt(0);return e.imageToViewportCoordinates(n,r,!0)}}var t=this._imageToViewportDelta(n,r);return t.x+=this._contentBoundsNoRotate.x,t.y+=this._contentBoundsNoRotate.y,t},imageToViewportRectangle:function(n,r,o,e){var t=n;if(t instanceof i.Rect||(t=new i.Rect(n,r,o,e)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)this.silenceMultiImageWarnings||i.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(a===1){var d=this.viewer.world.getItemAt(0);return d.imageToViewportRectangle(n,r,o,e,!0)}}var s=this.imageToViewportCoordinates(t.x,t.y),c=this._imageToViewportDelta(t.width,t.height);return new i.Rect(s.x,s.y,c.x,c.y,t.degrees)},viewportToImageRectangle:function(n,r,o,e){var t=n;if(t instanceof i.Rect||(t=new i.Rect(n,r,o,e)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)this.silenceMultiImageWarnings||i.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(a===1){var d=this.viewer.world.getItemAt(0);return d.viewportToImageRectangle(n,r,o,e,!0)}}var s=this.viewportToImageCoordinates(t.x,t.y),c=this._viewportToImageDelta(t.width,t.height);return new i.Rect(s.x,s.y,c.x,c.y,t.degrees)},viewerElementToImageCoordinates:function(n){var r=this.pointFromPixel(n,!0);return this.viewportToImageCoordinates(r)},imageToViewerElementCoordinates:function(n){var r=this.imageToViewportCoordinates(n);return this.pixelFromPoint(r,!0)},windowToImageCoordinates:function(n){i.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var r=n.minus(i.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(r)},imageToWindowCoordinates:function(n){i.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var r=this.imageToViewerElementCoordinates(n);return r.plus(i.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(n){return this.pointFromPixel(n,!0)},viewportToViewerElementCoordinates:function(n){return this.pixelFromPoint(n,!0)},viewerElementToViewportRectangle:function(n){return i.Rect.fromSummits(this.pointFromPixel(n.getTopLeft(),!0),this.pointFromPixel(n.getTopRight(),!0),this.pointFromPixel(n.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(n){return i.Rect.fromSummits(this.pixelFromPoint(n.getTopLeft(),!0),this.pixelFromPoint(n.getTopRight(),!0),this.pixelFromPoint(n.getBottomLeft(),!0))},windowToViewportCoordinates:function(n){i.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var r=n.minus(i.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(r)},viewportToWindowCoordinates:function(n){i.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var r=this.viewportToViewerElementCoordinates(n);return r.plus(i.getElementPosition(this.viewer.element))},viewportToImageZoom:function(n){if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)this.silenceMultiImageWarnings||i.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(r===1){var o=this.viewer.world.getItemAt(0);return o.viewportToImageZoom(n)}}var e=this._contentSizeNoRotate.x,t=this._containerInnerSize.x,a=this._contentBoundsNoRotate.width,d=t/e*a;return n*d},imageToViewportZoom:function(n){if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)this.silenceMultiImageWarnings||i.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image. Instead, use [TiledImage.imageToViewportZoom] for the specific image of interest");else if(r===1){var o=this.viewer.world.getItemAt(0);return o.imageToViewportZoom(n)}}var e=this._contentSizeNoRotate.x,t=this._containerInnerSize.x,a=this._contentBoundsNoRotate.width,d=e/t/a;return n*d},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(n){return this.flipped===n?this:(this.flipped=n,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:n}),this)},getMaxZoomPixelRatio:function(){return this.maxZoomPixelRatio},setMaxZoomPixelRatio:function(n,r=!0,o=!1){i.console.assert(!isNaN(n),"[Viewport.setMaxZoomPixelRatio] ratio must be a number"),!isNaN(n)&&(this.maxZoomPixelRatio=n,r&&this.getZoom()>this.getMaxZoom()&&this.applyConstraints(o))}}})(Je);(function(i){i.TiledImage=function(n){this._initialized=!1,i.console.assert(n.tileCache,"[TiledImage] options.tileCache is required"),i.console.assert(n.drawer,"[TiledImage] options.drawer is required"),i.console.assert(n.viewer,"[TiledImage] options.viewer is required"),i.console.assert(n.imageLoader,"[TiledImage] options.imageLoader is required"),i.console.assert(n.source,"[TiledImage] options.source is required"),i.console.assert(!n.clip||n.clip instanceof i.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),i.EventSource.call(this),this._tileCache=n.tileCache,delete n.tileCache,this._drawer=n.drawer,delete n.drawer,this._imageLoader=n.imageLoader,delete n.imageLoader,n.clip instanceof i.Rect&&(this._clip=n.clip.clone()),delete n.clip;var r=n.x||0;delete n.x;var o=n.y||0;delete n.y,this.normHeight=n.source.dimensions.y/n.source.dimensions.x,this.contentAspectX=n.source.dimensions.x/n.source.dimensions.y;var e=1;n.width?(e=n.width,delete n.width,n.height&&(i.console.error("specifying both width and height to a tiledImage is not supported"),delete n.height)):n.height&&(e=n.height/this.normHeight,delete n.height);var t=n.fitBounds;delete n.fitBounds;var a=n.fitBoundsPlacement||Je.Placement.CENTER;delete n.fitBoundsPlacement;var d=n.degrees||0;delete n.degrees;var s=n.ajaxHeaders;delete n.ajaxHeaders,i.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_needsDraw:!0,_needsUpdate:!0,_hasOpaqueTile:!1,_tilesLoading:0,_tilesToDraw:[],_lastDrawn:[],_isBlending:!1,_wasBlending:!1,_isTainted:!1,springStiffness:i.DEFAULT_SETTINGS.springStiffness,animationTime:i.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:i.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:i.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:i.DEFAULT_SETTINGS.wrapVertical,immediateRender:i.DEFAULT_SETTINGS.immediateRender,blendTime:i.DEFAULT_SETTINGS.blendTime,alwaysBlend:i.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:i.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:i.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:i.DEFAULT_SETTINGS.iOSDevice,debugMode:i.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:i.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:i.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:i.DEFAULT_SETTINGS.placeholderFillStyle,opacity:i.DEFAULT_SETTINGS.opacity,preload:i.DEFAULT_SETTINGS.preload,compositeOperation:i.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:i.DEFAULT_SETTINGS.subPixelRoundingForTransparency,maxTilesPerFrame:i.DEFAULT_SETTINGS.maxTilesPerFrame},n),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new i.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new i.Spring({initial:o,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new i.Spring({initial:e,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new i.Spring({initial:d,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),t&&this.fitBounds(t,a,!0),this._ownAjaxHeaders={},this.setAjaxHeaders(s,!1),this._initialized=!0},i.extend(i.TiledImage.prototype,i.EventSource.prototype,{needsDraw:function(){return this._needsDraw},redraw:function(){this._needsDraw=!0},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(n){n!==this._fullyLoaded&&(this._fullyLoaded=n,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=i.now(),this._needsDraw=!0},update:function(n){let r=this._xSpring.update(),o=this._ySpring.update(),e=this._scaleSpring.update(),t=this._degreesSpring.update(),a=r||o||e||t||this._needsUpdate;if(a||n||!this._fullyLoaded){let d=this._updateLevelsForViewport();this._setFullyLoaded(d)}return this._needsUpdate=!1,a?(this._updateForScale(),this._raiseBoundsChange(),this._needsDraw=!0,!0):!1},setDrawn:function(){return this._needsDraw=this._isBlending||this._wasBlending,this._needsDraw},setTainted(n){this._isTainted=n},isTainted(){return this._isTainted},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy(this.viewer)},getBounds:function(n){return this.getBoundsNoRotate(n).rotate(this.getRotation(n),this._getRotationPoint(n))},getBoundsNoRotate:function(n){return n?new i.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new i.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return i.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(n){var r=this.getBoundsNoRotate(n);if(this._clip){var o=n?this._worldWidthCurrent:this._worldWidthTarget,e=o/this.source.dimensions.x,t=this._clip.times(e);r=new i.Rect(r.x+t.x,r.y+t.y,t.width,t.height)}return r.rotate(this.getRotation(n),this._getRotationPoint(n))},getTileBounds:function(n,r,o){var e=this.source.getNumTiles(n),t=(e.x+r%e.x)%e.x,a=(e.y+o%e.y)%e.y,d=this.source.getTileBounds(n,t,a);return this.getFlip()&&(d.x=Math.max(0,1-d.x-d.width)),d.x+=(r-t)/e.x,d.y+=this._worldHeightCurrent/this._worldWidthCurrent*((o-a)/e.y),d},getContentSize:function(){return new i.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var n=this.imageToWindowCoordinates(new i.Point(0,0)),r=this.imageToWindowCoordinates(this.getContentSize());return new i.Point(r.x-n.x,r.y-n.y)},_viewportToImageDelta:function(n,r,o){var e=o?this._scaleSpring.current.value:this._scaleSpring.target.value;return new i.Point(n*(this.source.dimensions.x/e),r*(this.source.dimensions.y*this.contentAspectX/e))},viewportToImageCoordinates:function(n,r,o){var e;return n instanceof i.Point?(o=r,e=n):e=new i.Point(n,r),e=e.rotate(-this.getRotation(o),this._getRotationPoint(o)),o?this._viewportToImageDelta(e.x-this._xSpring.current.value,e.y-this._ySpring.current.value):this._viewportToImageDelta(e.x-this._xSpring.target.value,e.y-this._ySpring.target.value)},_imageToViewportDelta:function(n,r,o){var e=o?this._scaleSpring.current.value:this._scaleSpring.target.value;return new i.Point(n/this.source.dimensions.x*e,r/this.source.dimensions.y/this.contentAspectX*e)},imageToViewportCoordinates:function(n,r,o){n instanceof i.Point&&(o=r,r=n.y,n=n.x);var e=this._imageToViewportDelta(n,r,o);return o?(e.x+=this._xSpring.current.value,e.y+=this._ySpring.current.value):(e.x+=this._xSpring.target.value,e.y+=this._ySpring.target.value),e.rotate(this.getRotation(o),this._getRotationPoint(o))},imageToViewportRectangle:function(n,r,o,e,t){var a=n;a instanceof i.Rect?t=r:a=new i.Rect(n,r,o,e);var d=this.imageToViewportCoordinates(a.getTopLeft(),t),s=this._imageToViewportDelta(a.width,a.height,t);return new i.Rect(d.x,d.y,s.x,s.y,a.degrees+this.getRotation(t))},viewportToImageRectangle:function(n,r,o,e,t){var a=n;n instanceof i.Rect?t=r:a=new i.Rect(n,r,o,e);var d=this.viewportToImageCoordinates(a.getTopLeft(),t),s=this._viewportToImageDelta(a.width,a.height,t);return new i.Rect(d.x,d.y,s.x,s.y,a.degrees-this.getRotation(t))},viewerElementToImageCoordinates:function(n){var r=this.viewport.pointFromPixel(n,!0);return this.viewportToImageCoordinates(r)},imageToViewerElementCoordinates:function(n){var r=this.imageToViewportCoordinates(n);return this.viewport.pixelFromPoint(r,!0)},windowToImageCoordinates:function(n){var r=n.minus(Je.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(r)},imageToWindowCoordinates:function(n){var r=this.imageToViewerElementCoordinates(n);return r.plus(Je.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(n){var r=this._scaleSpring.current.value;return n=n.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new i.Rect((n.x-this._xSpring.current.value)/r,(n.y-this._ySpring.current.value)/r,n.width/r,n.height/r,n.degrees)},viewportToImageZoom:function(n){var r=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return r*n},imageToViewportZoom:function(n){var r=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return n/r},setPosition:function(n,r){var o=this._xSpring.target.value===n.x&&this._ySpring.target.value===n.y;if(r){if(o&&this._xSpring.current.value===n.x&&this._ySpring.current.value===n.y)return;this._xSpring.resetTo(n.x),this._ySpring.resetTo(n.y),this._needsDraw=!0,this._needsUpdate=!0}else{if(o)return;this._xSpring.springTo(n.x),this._ySpring.springTo(n.y),this._needsDraw=!0,this._needsUpdate=!0}o||this._raiseBoundsChange()},setWidth:function(n,r){this._setScale(n,r)},setHeight:function(n,r){this._setScale(n/this.normHeight,r)},setCroppingPolygons:function(n){var r=function(e){return e instanceof i.Point||typeof e.x=="number"&&typeof e.y=="number"},o=function(e){return e.map(function(t){try{if(r(t))return{x:t.x,y:t.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!i.isArray(n))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=n.map(function(e){return o(e)}),this._needsDraw=!0}catch(e){i.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),i.console.error(e),this.resetCroppingPolygons()}},resetCroppingPolygons:function(){this._croppingPolygons=null,this._needsDraw=!0},fitBounds:function(n,r,o){r=r||i.Placement.CENTER;var e=i.Placement.properties[r],t=this.contentAspectX,a=0,d=0,s=1,c=1;if(this._clip&&(t=this._clip.getAspectRatio(),s=this._clip.width/this.source.dimensions.x,c=this._clip.height/this.source.dimensions.y,n.getAspectRatio()>t?(a=this._clip.x/this._clip.height*n.height,d=this._clip.y/this._clip.height*n.height):(a=this._clip.x/this._clip.width*n.width,d=this._clip.y/this._clip.width*n.width)),n.getAspectRatio()>t){var u=n.height/c,p=0;e.isHorizontallyCentered?p=(n.width-n.height*t)/2:e.isRight&&(p=n.width-n.height*t),this.setPosition(new i.Point(n.x-a+p,n.y-d),o),this.setHeight(u,o)}else{var m=n.width/s,g=0;e.isVerticallyCentered?g=(n.height-n.width/t)/2:e.isBottom&&(g=n.height-n.width/t),this.setPosition(new i.Point(n.x-a,n.y-d+g),o),this.setWidth(m,o)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(n){i.console.assert(!n||n instanceof i.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),n instanceof i.Rect?this._clip=n.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return this.flipped},setFlip:function(n){this.flipped=n},get flipped(){return this._flipped},set flipped(n){let r=this._flipped!==!!n;this._flipped=!!n,r&&(this.update(!0),this._needsDraw=!0,this._raiseBoundsChange())},get wrapHorizontal(){return this._wrapHorizontal},set wrapHorizontal(n){let r=this._wrapHorizontal!==!!n;this._wrapHorizontal=!!n,this._initialized&&r&&(this.update(!0),this._needsDraw=!0)},get wrapVertical(){return this._wrapVertical},set wrapVertical(n){let r=this._wrapVertical!==!!n;this._wrapVertical=!!n,this._initialized&&r&&(this.update(!0),this._needsDraw=!0)},get debugMode(){return this._debugMode},set debugMode(n){this._debugMode=!!n,this._needsDraw=!0},getOpacity:function(){return this.opacity},setOpacity:function(n){this.opacity=n},get opacity(){return this._opacity},set opacity(n){n!==this.opacity&&(this._opacity=n,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(n){this._preload=!!n,this._needsDraw=!0},getRotation:function(n){return n?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(n,r){this._degreesSpring.target.value===n&&this._degreesSpring.isAtTargetValue()||(r?this._degreesSpring.resetTo(n):this._degreesSpring.springTo(n),this._needsDraw=!0,this._needsUpdate=!0,this._raiseBoundsChange())},getDrawArea:function(){if(this._opacity===0&&!this._preload)return!1;var n=this._viewportToTiledImageRectangle(this.viewport.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var r=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));n=n.intersection(r)}return n},getTilesToDraw:function(){let n=this._tilesToDraw.flat();return this._updateTilesInViewport(n),n=this._tilesToDraw.flat(),n.forEach(r=>{r.tile.beingDrawn=!0}),this._lastDrawn=n,n},_getRotationPoint:function(n){return this.getBoundsNoRotate(n).getCenter()},get compositeOperation(){return this._compositeOperation},set compositeOperation(n){n!==this._compositeOperation&&(this._compositeOperation=n,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this._compositeOperation}))},getCompositeOperation:function(){return this._compositeOperation},setCompositeOperation:function(n){this.compositeOperation=n},setAjaxHeaders:function(n,r){if(n===null&&(n={}),!i.isPlainObject(n)){console.error("[TiledImage.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}this._ownAjaxHeaders=n,this._updateAjaxHeaders(r)},_updateAjaxHeaders:function(n){if(n===void 0&&(n=!0),i.isPlainObject(this.viewer.ajaxHeaders)?this.ajaxHeaders=i.extend({},this.viewer.ajaxHeaders,this._ownAjaxHeaders):this.ajaxHeaders=this._ownAjaxHeaders,n){var r,o,e,t;for(var a in this.tilesMatrix){r=this.source.getNumTiles(a);for(var d in this.tilesMatrix[a]){o=(r.x+d%r.x)%r.x;for(var s in this.tilesMatrix[a][d])if(e=(r.y+s%r.y)%r.y,t=this.tilesMatrix[a][d][s],t.loadWithAjax=this.loadTilesWithAjax,t.loadWithAjax){var c=this.source.getTileAjaxHeaders(a,o,e);t.ajaxHeaders=i.extend({},this.ajaxHeaders,c)}else t.ajaxHeaders=null}}for(var u=0;u<this._imageLoader.jobQueue.length;u++){var p=this._imageLoader.jobQueue[u];p.loadWithAjax=p.tile.loadWithAjax,p.ajaxHeaders=p.tile.loadWithAjax?p.tile.ajaxHeaders:null}}},_setScale:function(n,r){var o=this._scaleSpring.target.value===n;if(r){if(o&&this._scaleSpring.current.value===n)return;this._scaleSpring.resetTo(n),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}else{if(o)return;this._scaleSpring.springTo(n),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}o||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var n=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),r=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,o=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(r/this.minPixelRatio)/Math.log(2))));return o=Math.max(o,this.source.minLevel||0),n=Math.min(n,o),{lowestLevel:n,highestLevel:o}},_updateLevelsForViewport:function(){var n=this._getLevelsInterval(),r=n.lowestLevel,o=n.highestLevel,e=[],t=this.getDrawArea(),a=i.now();if(this._lastDrawn.forEach(P=>{P.tile.beingDrawn=!1}),this._tilesToDraw=[],this._tilesLoading=0,this.loadingCoverage={},!t)return this._needsDraw=!1,this._fullyLoaded;var d=new Array(o-r+1);for(let P=0,j=o;j>=r;j--,P++)d[P]=j;for(let P=o+1;P<=this.source.maxLevel;P++){var s=this.tilesMatrix[P]&&this.tilesMatrix[P][0]&&this.tilesMatrix[P][0][0];if(s&&s.isBottomMost&&s.isRightMost&&s.loaded){d.push(P);break}}let c=!1;for(let P=0;P<d.length;P++){let j=d[P];var u=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(j),!0).x*this._scaleSpring.current.value;if(P===d.length-1||u>=this.minPixelRatio)c=!0;else if(!c)continue;var p=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(j),!1).x*this._scaleSpring.current.value,m=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,g=this.immediateRender?1:m,v=Math.min(1,(u-.5)/.5),x=g/Math.abs(g-p),y=this._updateLevel(j,v,x,t,a,e);e=y.bestTiles;var w=y.updatedTiles.filter(R=>R.loaded),S=function(R,T,q){return function($){return{tile:$,level:R,levelOpacity:T,currentTime:q}}}(j,v,a);if(this._tilesToDraw[j]=w.map(S),this._providesCoverage(this.coverage,j))break}return e&&e.length>0?(e.forEach(function(P){P&&!P.context2D&&this._loadTile(P,a)},this),this._needsDraw=!0,!1):this._tilesLoading===0},_updateTilesInViewport:function(n){let r=i.now(),o=this;this._tilesLoading=0,this._wasBlending=this._isBlending,this._isBlending=!1,this.loadingCoverage={};let e=n.length?n[0].level:0;if(!this.getDrawArea())return;function a(s){let c=s.tile;if(c&&c.loaded){let u=o._blendTile(c,c.x,c.y,s.level,s.levelOpacity,r,e);o._isBlending=o._isBlending||u,o._needsDraw=o._needsDraw||u||o._wasBlending}}let d=0;for(let s=0;s<n.length;s++){let c=n[s];a(c),this._providesCoverage(this.coverage,c.level)&&(d=Math.max(d,c.level))}if(d>0)for(let s in this._tilesToDraw)s<d&&delete this._tilesToDraw[s]},_blendTile:function(n,r,o,e,t,a,d){let s=1e3*this.blendTime,c,u;return n.blendStart||(n.blendStart=a),c=a-n.blendStart,u=s?Math.min(1,c/s):1,e===d&&(u=1,c=s),this.alwaysBlend&&(u*=t),n.opacity=u,u===1&&(this._setCoverage(this.coverage,e,r,o,!0),this._hasOpaqueTile=!0),c<s},_updateLevel:function(n,r,o,e,t,a){var d=e.getBoundingBox().getTopLeft(),s=e.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:!0,level:n,opacity:r,visibility:o,drawArea:e,topleft:d,bottomright:s,currenttime:t,best:a}),this._resetCoverage(this.coverage,n),this._resetCoverage(this.loadingCoverage,n);var c=this._getCornerTiles(n,d,s),u=c.topLeft,p=c.bottomRight,m=this.source.getNumTiles(n),g=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(p.x+=1,this.wrapHorizontal||(p.x=Math.min(p.x,m.x-1)));for(var v=Math.max(0,(p.x-u.x)*(p.y-u.y)),x=new Array(v),y=0,w=u.x;w<=p.x;w++)for(var S=u.y;S<=p.y;S++){var P;if(this.getFlip()){var j=(m.x+w%m.x)%m.x;P=w+m.x-j-j-1}else P=w;if(e.intersection(this.getTileBounds(n,P,S))!==null){var R=this._updateTile(P,S,n,o,g,m,t,a);a=R.bestTiles,x[y]=R.tile,y+=1}}return{bestTiles:a,updatedTiles:x}},_positionTile:function(n,r,o,e,t){var a=n.bounds.getTopLeft();a.x*=this._scaleSpring.current.value,a.y*=this._scaleSpring.current.value,a.x+=this._xSpring.current.value,a.y+=this._ySpring.current.value;var d=n.bounds.getSize();d.x*=this._scaleSpring.current.value,d.y*=this._scaleSpring.current.value,n.positionedBounds.x=a.x,n.positionedBounds.y=a.y,n.positionedBounds.width=d.x,n.positionedBounds.height=d.y;var s=o.pixelFromPointNoRotate(a,!0),c=o.pixelFromPointNoRotate(a,!1),u=o.deltaPixelsFromPointsNoRotate(d,!0),p=o.deltaPixelsFromPointsNoRotate(d,!1),m=c.plus(p.divide(2)),g=e.squaredDistanceTo(m);this.viewer.drawer.minimumOverlapRequired(this)&&(r||(u=u.plus(new i.Point(1,1))),n.isRightMost&&this.wrapHorizontal&&(u.x+=.75),n.isBottomMost&&this.wrapVertical&&(u.y+=.75)),n.position=s,n.size=u,n.squaredDistance=g,n.visibility=t},_updateTile:function(n,r,o,e,t,a,d,s){var c=this._getTile(n,r,o,d,a);this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:c}),this._setCoverage(this.coverage,o,n,r,!1);var u=c.loaded||c.loading||this._isCovered(this.loadingCoverage,o,n,r);if(this._setCoverage(this.loadingCoverage,o,n,r,u),!c.exists)return{bestTiles:s,tile:c};if(c.loaded&&c.opacity===1&&this._setCoverage(this.coverage,o,n,r,!0),this._positionTile(c,this.source.tileOverlap,this.viewport,t,e),!c.loaded)if(c.context2D)this._setTileLoaded(c);else{var p=this._tileCache.getImageRecord(c.cacheKey);p&&this._setTileLoaded(c,p.getData())}return c.loading?this._tilesLoading++:u||(s=this._compareTiles(s,c,this.maxTilesPerFrame)),{bestTiles:s,tile:c}},_getCornerTiles:function(n,r,o){var e,t;this.wrapHorizontal?(e=i.positiveModulo(r.x,1),t=i.positiveModulo(o.x,1)):(e=Math.max(0,r.x),t=Math.min(1,o.x));var a,d,s=1/this.source.aspectRatio;this.wrapVertical?(a=i.positiveModulo(r.y,s),d=i.positiveModulo(o.y,s)):(a=Math.max(0,r.y),d=Math.min(s,o.y));var c=this.source.getTileAtPoint(n,new i.Point(e,a)),u=this.source.getTileAtPoint(n,new i.Point(t,d)),p=this.source.getNumTiles(n);return this.wrapHorizontal&&(c.x+=p.x*Math.floor(r.x),u.x+=p.x*Math.floor(o.x)),this.wrapVertical&&(c.y+=p.y*Math.floor(r.y/s),u.y+=p.y*Math.floor(o.y/s)),{topLeft:c,bottomRight:u}},_getTile:function(n,r,o,e,t){var a,d,s,c,u,p,m,g,v,x,y=this.tilesMatrix,w=this.source;return y[o]||(y[o]={}),y[o][n]||(y[o][n]={}),(!y[o][n][r]||!y[o][n][r].flipped!=!this.flipped)&&(a=(t.x+n%t.x)%t.x,d=(t.y+r%t.y)%t.y,s=this.getTileBounds(o,n,r),c=w.getTileBounds(o,a,d,!0),u=w.tileExists(o,a,d),p=w.getTileUrl(o,a,d),m=w.getTilePostData(o,a,d),this.loadTilesWithAjax?(g=w.getTileAjaxHeaders(o,a,d),i.isPlainObject(this.ajaxHeaders)&&(g=i.extend({},this.ajaxHeaders,g))):g=null,v=w.getContext2D?w.getContext2D(o,a,d):void 0,x=new i.Tile(o,n,r,s,u,p,v,this.loadTilesWithAjax,g,c,m,w.getTileHashKey(o,a,d,p,g,m)),this.getFlip()?a===0&&(x.isRightMost=!0):a===t.x-1&&(x.isRightMost=!0),d===t.y-1&&(x.isBottomMost=!0),x.flipped=this.flipped,y[o][n][r]=x),x=y[o][n][r],x.lastTouchTime=e,x},_loadTile:function(n,r){var o=this;n.loading=!0,this._imageLoader.addJob({src:n.getUrl(),tile:n,source:this.source,postData:n.postData,loadWithAjax:n.loadWithAjax,ajaxHeaders:n.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(e,t,a){o._onTileLoad(n,r,e,t,a)},abort:function(){n.loading=!1}})},_onTileLoad:function(n,r,o,e,t){if(o)n.exists=!0;else{i.console.error("Tile %s failed to load: %s - error: %s",n,n.getUrl(),e),this.viewer.raiseEvent("tile-load-failed",{tile:n,tiledImage:this,time:r,message:e,tileRequest:t}),n.loading=!1,n.exists=!1;return}if(r<this.lastResetTime){i.console.warn("Ignoring tile %s loaded before reset: %s",n,n.getUrl()),n.loading=!1;return}var a=this,d=function(){var s=a.source,c=s.getClosestLevel();a._setTileLoaded(n,o,c,t)};d()},_setTileLoaded:function(n,r,o,e){var t=0,a=!1,d=this;function s(){return a&&i.console.error("Event 'tile-loaded' argument getCompletionCallback must be called synchronously. Its return value should be called asynchronously."),t++,c}function c(){t--,t===0&&(n.loading=!1,n.loaded=!0,n.hasTransparency=d.source.hasTransparency(n.context2D,n.getUrl(),n.ajaxHeaders,n.postData),n.context2D||d._tileCache.cacheTile({data:r,tile:n,cutoff:o,tiledImage:d}),d.viewer.raiseEvent("tile-ready",{tile:n,tiledImage:d,tileRequest:e}),d._needsDraw=!0)}var u=s();this.viewer.raiseEvent("tile-loaded",{tile:n,tiledImage:this,tileRequest:e,get image(){return i.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),r},data:r,getCompletionCallback:s}),a=!0,u()},_compareTiles:function(n,r,o){return n?(n.push(r),this._sortTiles(n),n.length>o&&n.pop(),n):[r]},_sortTiles:function(n){n.sort(function(r,o){return r===null?1:o===null?-1:r.visibility===o.visibility?r.squaredDistance-o.squaredDistance:o.visibility-r.visibility})},_providesCoverage:function(n,r,o,e){var t,a,d,s;if(!n[r])return!1;if(o===void 0||e===void 0){t=n[r];for(d in t)if(Object.prototype.hasOwnProperty.call(t,d)){a=t[d];for(s in a)if(Object.prototype.hasOwnProperty.call(a,s)&&!a[s])return!1}return!0}return n[r][o]===void 0||n[r][o][e]===void 0||n[r][o][e]===!0},_isCovered:function(n,r,o,e){return o===void 0||e===void 0?this._providesCoverage(n,r+1):this._providesCoverage(n,r+1,2*o,2*e)&&this._providesCoverage(n,r+1,2*o,2*e+1)&&this._providesCoverage(n,r+1,2*o+1,2*e)&&this._providesCoverage(n,r+1,2*o+1,2*e+1)},_setCoverage:function(n,r,o,e,t){if(!n[r]){i.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",r);return}n[r][o]||(n[r][o]={}),n[r][o][e]=t},_resetCoverage:function(n,r){n[r]={}}})})(Je);(function(i){var n=function(o){i.console.assert(o,"[TileCache.cacheTile] options is required"),i.console.assert(o.tile,"[TileCache.cacheTile] options.tile is required"),i.console.assert(o.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=o.tile,this.tiledImage=o.tiledImage},r=function(o){i.console.assert(o,"[ImageRecord] options is required"),i.console.assert(o.data,"[ImageRecord] options.data is required"),this._tiles=[],o.create.apply(null,[this,o.data,o.ownerTile]),this._destroyImplementation=o.destroy.bind(null,this),this.getImage=o.getImage.bind(null,this),this.getData=o.getData.bind(null,this),this.getRenderedContext=o.getRenderedContext.bind(null,this)};r.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(o){i.console.assert(o,"[ImageRecord.addTile] tile is required"),this._tiles.push(o)},removeTile:function(o){for(var e=0;e<this._tiles.length;e++)if(this._tiles[e]===o){this._tiles.splice(e,1);return}i.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",o)},getTileCount:function(){return this._tiles.length}},i.TileCache=function(o){o=o||{},this._maxImageCacheCount=o.maxImageCacheCount||i.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},i.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(o){i.console.assert(o,"[TileCache.cacheTile] options is required"),i.console.assert(o.tile,"[TileCache.cacheTile] options.tile is required"),i.console.assert(o.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),i.console.assert(o.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var e=o.cutoff||0,t=this._tilesLoaded.length,a=this._imagesLoaded[o.tile.cacheKey];if(a||(o.data||(i.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),o.data=o.image),i.console.assert(o.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),a=this._imagesLoaded[o.tile.cacheKey]=new r({data:o.data,ownerTile:o.tile,create:o.tiledImage.source.createTileCache,destroy:o.tiledImage.source.destroyTileCache,getImage:o.tiledImage.source.getTileCacheDataAsImage,getData:o.tiledImage.source.getTileCacheData,getRenderedContext:o.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),a.addTile(o.tile),o.tile.cacheImageRecord=a,this._imagesLoadedCount>this._maxImageCacheCount){for(var d=null,s=-1,c=null,u,p,m,g,v,x,y=this._tilesLoaded.length-1;y>=0;y--)if(x=this._tilesLoaded[y],u=x.tile,!(u.level<=e||u.beingDrawn)){if(!d){d=u,s=y,c=x;continue}g=u.lastTouchTime,p=d.lastTouchTime,v=u.level,m=d.level,(g<p||g===p&&v>m)&&(d=u,s=y,c=x)}d&&s>=0&&(this._unloadTile(c),t=s)}this._tilesLoaded[t]=new n({tile:o.tile,tiledImage:o.tiledImage})},clearTilesFor:function(o){i.console.assert(o,"[TileCache.clearTilesFor] tiledImage is required");for(var e,t=0;t<this._tilesLoaded.length;++t)e=this._tilesLoaded[t],e.tiledImage===o&&(this._unloadTile(e),this._tilesLoaded.splice(t,1),t--)},getImageRecord:function(o){return i.console.assert(o,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[o]},_unloadTile:function(o){i.console.assert(o,"[TileCache._unloadTile] tileRecord is required");var e=o.tile,t=o.tiledImage;let a=e.getCanvasContext&&e.getCanvasContext();e.unload(),e.cacheImageRecord=null;var d=this._imagesLoaded[e.cacheKey];d&&(d.removeTile(e),d.getTileCount()||(d.destroy(),delete this._imagesLoaded[e.cacheKey],this._imagesLoadedCount--,a&&(a.canvas.width=0,a.canvas.height=0,t.viewer.raiseEvent("image-unloaded",{context2D:a,tile:e}))),t.viewer.raiseEvent("tile-unloaded",{tile:e,tiledImage:t}))}}})(Je);(function(i){i.World=function(n){var r=this;i.console.assert(n.viewer,"[World] options.viewer is required"),i.EventSource.call(this),this.viewer=n.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(o){r._autoRefigureSizes?r._figureSizes():r._needsSizesFigured=!0},this._figureSizes()},i.extend(i.World.prototype,i.EventSource.prototype,{addItem:function(n,r){if(i.console.assert(n,"[World.addItem] item is required"),i.console.assert(n instanceof i.TiledImage,"[World.addItem] only TiledImages supported at this time"),r=r||{},r.index!==void 0){var o=Math.max(0,Math.min(this._items.length,r.index));this._items.splice(o,0,n)}else this._items.push(n);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,n.addHandler("bounds-change",this._delegatedFigureSizes),n.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:n})},getItemAt:function(n){return i.console.assert(n!==void 0,"[World.getItemAt] index is required"),this._items[n]},getIndexOfItem:function(n){return i.console.assert(n,"[World.getIndexOfItem] item is required"),i.indexOf(this._items,n)},getItemCount:function(){return this._items.length},setItemIndex:function(n,r){i.console.assert(n,"[World.setItemIndex] item is required"),i.console.assert(r!==void 0,"[World.setItemIndex] index is required");var o=this.getIndexOfItem(n);if(r>=this._items.length)throw new Error("Index bigger than number of layers.");r===o||o===-1||(this._items.splice(o,1),this._items.splice(r,0,n),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:n,previousIndex:o,newIndex:r}))},removeItem:function(n){i.console.assert(n,"[World.removeItem] item is required");var r=i.indexOf(this._items,n);r!==-1&&(n.removeHandler("bounds-change",this._delegatedFigureSizes),n.removeHandler("clip-change",this._delegatedFigureSizes),n.destroy(),this._items.splice(r,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(n))},removeAll:function(){this.viewer._cancelPendingImages();var n,r;for(r=0;r<this._items.length;r++)n=this._items[r],n.removeHandler("bounds-change",this._delegatedFigureSizes),n.removeHandler("clip-change",this._delegatedFigureSizes),n.destroy();var o=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,r=0;r<o.length;r++)n=o[r],this._raiseRemoveItem(n)},resetItems:function(){for(var n=0;n<this._items.length;n++)this._items[n].reset()},update:function(n){for(var r=!1,o=0;o<this._items.length;o++)r=this._items[o].update(n)||r;return r},draw:function(){this.viewer.drawer.draw(this._items),this._needsDraw=!1,this._items.forEach(n=>{this._needsDraw=n.setDrawn()||this._needsDraw})},needsDraw:function(){for(var n=0;n<this._items.length;n++)if(this._items[n].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(n){this._autoRefigureSizes=n,n&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(n){n=n||{};var r=n.immediately||!1,o=n.layout||i.DEFAULT_SETTINGS.collectionLayout,e=n.rows||i.DEFAULT_SETTINGS.collectionRows,t=n.columns||i.DEFAULT_SETTINGS.collectionColumns,a=n.tileSize||i.DEFAULT_SETTINGS.collectionTileSize,d=n.tileMargin||i.DEFAULT_SETTINGS.collectionTileMargin,s=a+d,c;!n.rows&&t?c=t:c=Math.ceil(this._items.length/e);var u=0,p=0,m,g,v,x,y;this.setAutoRefigureSizes(!1);for(var w=0;w<this._items.length;w++)w&&w%c===0&&(o==="horizontal"?(p+=s,u=0):(u+=s,p=0)),m=this._items[w],g=m.getBounds(),g.width>g.height?v=a:v=a*(g.width/g.height),x=v*(g.height/g.width),y=new i.Point(u+(a-v)/2,p+(a-x)/2),m.setPosition(y,r),m.setWidth(v,r),o==="horizontal"?u+=s:p+=s;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var n=this._homeBounds?this._homeBounds.clone():null,r=this._contentSize?this._contentSize.clone():null,o=this._contentFactor||0;if(!this._items.length)this._homeBounds=new i.Rect(0,0,1,1),this._contentSize=new i.Point(1,1),this._contentFactor=1;else{var e=this._items[0],t=e.getBounds();this._contentFactor=e.getContentSize().x/t.width;for(var a=e.getClippedBounds().getBoundingBox(),d=a.x,s=a.y,c=a.x+a.width,u=a.y+a.height,p=1;p<this._items.length;p++)e=this._items[p],t=e.getBounds(),this._contentFactor=Math.max(this._contentFactor,e.getContentSize().x/t.width),a=e.getClippedBounds().getBoundingBox(),d=Math.min(d,a.x),s=Math.min(s,a.y),c=Math.max(c,a.x+a.width),u=Math.max(u,a.y+a.height);this._homeBounds=new i.Rect(d,s,c-d,u-s),this._contentSize=new i.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==o||!this._homeBounds.equals(n)||!this._contentSize.equals(r))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(n){this.raiseEvent("remove-item",{item:n})}})})(Je)});var l0=Si((nd,a0)=>{"use strict";(function(i,n){typeof nd=="object"&&typeof a0<"u"?n(nd):typeof define=="function"&&define.amd?define(["exports"],n):(i=typeof globalThis<"u"?globalThis:i||self,n(i.leaflet={}))})(nd,function(i){"use strict";var n="1.9.4";function r(l){var h,f,b,E;for(f=1,b=arguments.length;f<b;f++){E=arguments[f];for(h in E)l[h]=E[h]}return l}var o=Object.create||function(){function l(){}return function(h){return l.prototype=h,new l}}();function e(l,h){var f=Array.prototype.slice;if(l.bind)return l.bind.apply(l,f.call(arguments,1));var b=f.call(arguments,2);return function(){return l.apply(h,b.length?b.concat(f.call(arguments)):arguments)}}var t=0;function a(l){return"_leaflet_id"in l||(l._leaflet_id=++t),l._leaflet_id}function d(l,h,f){var b,E,V,le;return le=function(){b=!1,E&&(V.apply(f,E),E=!1)},V=function(){b?E=arguments:(l.apply(f,arguments),setTimeout(le,h),b=!0)},V}function s(l,h,f){var b=h[1],E=h[0],V=b-E;return l===b&&f?l:((l-E)%V+V)%V+E}function c(){return!1}function u(l,h){if(h===!1)return l;var f=Math.pow(10,h===void 0?6:h);return Math.round(l*f)/f}function p(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function m(l){return p(l).split(/\s+/)}function g(l,h){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?o(l.options):{});for(var f in h)l.options[f]=h[f];return l.options}function v(l,h,f){var b=[];for(var E in l)b.push(encodeURIComponent(f?E.toUpperCase():E)+"="+encodeURIComponent(l[E]));return(!h||h.indexOf("?")===-1?"?":"&")+b.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function y(l,h){return l.replace(x,function(f,b){var E=h[b];if(E===void 0)throw new Error("No value provided for variable "+f);return typeof E=="function"&&(E=E(h)),E})}var w=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function S(l,h){for(var f=0;f<l.length;f++)if(l[f]===h)return f;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function j(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var R=0;function T(l){var h=+new Date,f=Math.max(0,16-(h-R));return R=h+f,window.setTimeout(l,f)}var q=window.requestAnimationFrame||j("RequestAnimationFrame")||T,$=window.cancelAnimationFrame||j("CancelAnimationFrame")||j("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function z(l,h,f){if(f&&q===T)l.call(h);else return q.call(window,e(l,h))}function I(l){l&&$.call(window,l)}var Z={__proto__:null,extend:r,create:o,bind:e,get lastId(){return t},stamp:a,throttle:d,wrapNum:s,falseFn:c,formatNum:u,trim:p,splitWords:m,setOptions:g,getParamString:v,template:y,isArray:w,indexOf:S,emptyImageUrl:P,requestFn:q,cancelFn:$,requestAnimFrame:z,cancelAnimFrame:I};function B(){}B.extend=function(l){var h=function(){g(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=h.__super__=this.prototype,b=o(f);b.constructor=h,h.prototype=b;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(h[E]=this[E]);return l.statics&&r(h,l.statics),l.includes&&(se(l.includes),r.apply(null,[b].concat(l.includes))),r(b,l),delete b.statics,delete b.includes,b.options&&(b.options=f.options?o(f.options):{},r(b.options,l.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var V=0,le=b._initHooks.length;V<le;V++)b._initHooks[V].call(this)}},h},B.include=function(l){var h=this.prototype.options;return r(this.prototype,l),l.options&&(this.prototype.options=h,this.mergeOptions(l.options)),this},B.mergeOptions=function(l){return r(this.prototype.options,l),this},B.addInitHook=function(l){var h=Array.prototype.slice.call(arguments,1),f=typeof l=="function"?l:function(){this[l].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function se(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=w(l)?l:[l];for(var h=0;h<l.length;h++)l[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ge={on:function(l,h,f){if(typeof l=="object")for(var b in l)this._on(b,l[b],h);else{l=m(l);for(var E=0,V=l.length;E<V;E++)this._on(l[E],h,f)}return this},off:function(l,h,f){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var b in l)this._off(b,l[b],h);else{l=m(l);for(var E=arguments.length===1,V=0,le=l.length;V<le;V++)E?this._off(l[V]):this._off(l[V],h,f)}return this},_on:function(l,h,f,b){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(l,h,f)===!1){f===this&&(f=void 0);var E={fn:h,ctx:f};b&&(E.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(E)}},_off:function(l,h,f){var b,E,V;if(this._events&&(b=this._events[l],!!b)){if(arguments.length===1){if(this._firingCount)for(E=0,V=b.length;E<V;E++)b[E].fn=c;delete this._events[l];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var le=this._listens(l,h,f);if(le!==!1){var Ce=b[le];this._firingCount&&(Ce.fn=c,this._events[l]=b=b.slice()),b.splice(le,1)}}},fire:function(l,h,f){if(!this.listens(l,f))return this;var b=r({},h,{type:l,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var E=this._events[l];if(E){this._firingCount=this._firingCount+1||1;for(var V=0,le=E.length;V<le;V++){var Ce=E[V],Ie=Ce.fn;Ce.once&&this.off(l,Ie,Ce.ctx),Ie.call(Ce.ctx||this,b)}this._firingCount--}}return f&&this._propagateEvent(b),this},listens:function(l,h,f,b){typeof l!="string"&&console.warn('"string" type argument expected');var E=h;typeof h!="function"&&(b=!!h,E=void 0,f=void 0);var V=this._events&&this._events[l];if(V&&V.length&&this._listens(l,E,f)!==!1)return!0;if(b){for(var le in this._eventParents)if(this._eventParents[le].listens(l,h,f,b))return!0}return!1},_listens:function(l,h,f){if(!this._events)return!1;var b=this._events[l]||[];if(!h)return!!b.length;f===this&&(f=void 0);for(var E=0,V=b.length;E<V;E++)if(b[E].fn===h&&b[E].ctx===f)return E;return!1},once:function(l,h,f){if(typeof l=="object")for(var b in l)this._on(b,l[b],h,!0);else{l=m(l);for(var E=0,V=l.length;E<V;E++)this._on(l[E],h,f,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[a(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[a(l)],this},_propagateEvent:function(l){for(var h in this._eventParents)this._eventParents[h].fire(l.type,r({layer:l.target,propagatedFrom:l.target},l),!0)}};ge.addEventListener=ge.on,ge.removeEventListener=ge.clearAllEventListeners=ge.off,ge.addOneTimeEventListener=ge.once,ge.fireEvent=ge.fire,ge.hasEventListeners=ge.listens;var ae=B.extend(ge);function U(l,h,f){this.x=f?Math.round(l):l,this.y=f?Math.round(h):h}var ve=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(l){return this.clone()._add(O(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(O(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new U(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new U(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ve(this.x),this.y=ve(this.y),this},distanceTo:function(l){l=O(l);var h=l.x-this.x,f=l.y-this.y;return Math.sqrt(h*h+f*f)},equals:function(l){return l=O(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=O(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}};function O(l,h,f){return l instanceof U?l:w(l)?new U(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new U(l.x,l.y):new U(l,h,f)}function ne(l,h){if(l)for(var f=h?[l,h]:l,b=0,E=f.length;b<E;b++)this.extend(f[b])}ne.prototype={extend:function(l){var h,f;if(!l)return this;if(l instanceof U||typeof l[0]=="number"||"x"in l)h=f=O(l);else if(l=he(l),h=l.min,f=l.max,!h||!f)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=f.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(l){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var h,f;return typeof l[0]=="number"||l instanceof U?l=O(l):l=he(l),l instanceof ne?(h=l.min,f=l.max):h=f=l,h.x>=this.min.x&&f.x<=this.max.x&&h.y>=this.min.y&&f.y<=this.max.y},intersects:function(l){l=he(l);var h=this.min,f=this.max,b=l.min,E=l.max,V=E.x>=h.x&&b.x<=f.x,le=E.y>=h.y&&b.y<=f.y;return V&&le},overlaps:function(l){l=he(l);var h=this.min,f=this.max,b=l.min,E=l.max,V=E.x>h.x&&b.x<f.x,le=E.y>h.y&&b.y<f.y;return V&&le},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var h=this.min,f=this.max,b=Math.abs(h.x-f.x)*l,E=Math.abs(h.y-f.y)*l;return he(O(h.x-b,h.y-E),O(f.x+b,f.y+E))},equals:function(l){return l?(l=he(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function he(l,h){return!l||l instanceof ne?l:new ne(l,h)}function Q(l,h){if(l)for(var f=h?[l,h]:l,b=0,E=f.length;b<E;b++)this.extend(f[b])}Q.prototype={extend:function(l){var h=this._southWest,f=this._northEast,b,E;if(l instanceof X)b=l,E=l;else if(l instanceof Q){if(b=l._southWest,E=l._northEast,!b||!E)return this}else return l?this.extend(ce(l)||ue(l)):this;return!h&&!f?(this._southWest=new X(b.lat,b.lng),this._northEast=new X(E.lat,E.lng)):(h.lat=Math.min(b.lat,h.lat),h.lng=Math.min(b.lng,h.lng),f.lat=Math.max(E.lat,f.lat),f.lng=Math.max(E.lng,f.lng)),this},pad:function(l){var h=this._southWest,f=this._northEast,b=Math.abs(h.lat-f.lat)*l,E=Math.abs(h.lng-f.lng)*l;return new Q(new X(h.lat-b,h.lng-E),new X(f.lat+b,f.lng+E))},getCenter:function(){return new X((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new X(this.getNorth(),this.getWest())},getSouthEast:function(){return new X(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof X||"lat"in l?l=ce(l):l=ue(l);var h=this._southWest,f=this._northEast,b,E;return l instanceof Q?(b=l.getSouthWest(),E=l.getNorthEast()):b=E=l,b.lat>=h.lat&&E.lat<=f.lat&&b.lng>=h.lng&&E.lng<=f.lng},intersects:function(l){l=ue(l);var h=this._southWest,f=this._northEast,b=l.getSouthWest(),E=l.getNorthEast(),V=E.lat>=h.lat&&b.lat<=f.lat,le=E.lng>=h.lng&&b.lng<=f.lng;return V&&le},overlaps:function(l){l=ue(l);var h=this._southWest,f=this._northEast,b=l.getSouthWest(),E=l.getNorthEast(),V=E.lat>h.lat&&b.lat<f.lat,le=E.lng>h.lng&&b.lng<f.lng;return V&&le},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,h){return l?(l=ue(l),this._southWest.equals(l.getSouthWest(),h)&&this._northEast.equals(l.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ue(l,h){return l instanceof Q?l:new Q(l,h)}function X(l,h,f){if(isNaN(l)||isNaN(h))throw new Error("Invalid LatLng object: ("+l+", "+h+")");this.lat=+l,this.lng=+h,f!==void 0&&(this.alt=+f)}X.prototype={equals:function(l,h){if(!l)return!1;l=ce(l);var f=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return f<=(h===void 0?1e-9:h)},toString:function(l){return"LatLng("+u(this.lat,l)+", "+u(this.lng,l)+")"},distanceTo:function(l){return Te.distance(this,ce(l))},wrap:function(){return Te.wrapLatLng(this)},toBounds:function(l){var h=180*l/40075017,f=h/Math.cos(Math.PI/180*this.lat);return ue([this.lat-h,this.lng-f],[this.lat+h,this.lng+f])},clone:function(){return new X(this.lat,this.lng,this.alt)}};function ce(l,h,f){return l instanceof X?l:w(l)&&typeof l[0]!="object"?l.length===3?new X(l[0],l[1],l[2]):l.length===2?new X(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new X(l.lat,"lng"in l?l.lng:l.lon,l.alt):h===void 0?null:new X(l,h,f)}var fe={latLngToPoint:function(l,h){var f=this.projection.project(l),b=this.scale(h);return this.transformation._transform(f,b)},pointToLatLng:function(l,h){var f=this.scale(h),b=this.transformation.untransform(l,f);return this.projection.unproject(b)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var h=this.projection.bounds,f=this.scale(l),b=this.transformation.transform(h.min,f),E=this.transformation.transform(h.max,f);return new ne(b,E)},infinite:!1,wrapLatLng:function(l){var h=this.wrapLng?s(l.lng,this.wrapLng,!0):l.lng,f=this.wrapLat?s(l.lat,this.wrapLat,!0):l.lat,b=l.alt;return new X(f,h,b)},wrapLatLngBounds:function(l){var h=l.getCenter(),f=this.wrapLatLng(h),b=h.lat-f.lat,E=h.lng-f.lng;if(b===0&&E===0)return l;var V=l.getSouthWest(),le=l.getNorthEast(),Ce=new X(V.lat-b,V.lng-E),Ie=new X(le.lat-b,le.lng-E);return new Q(Ce,Ie)}},Te=r({},fe,{wrapLng:[-180,180],R:6371e3,distance:function(l,h){var f=Math.PI/180,b=l.lat*f,E=h.lat*f,V=Math.sin((h.lat-l.lat)*f/2),le=Math.sin((h.lng-l.lng)*f/2),Ce=V*V+Math.cos(b)*Math.cos(E)*le*le,Ie=2*Math.atan2(Math.sqrt(Ce),Math.sqrt(1-Ce));return this.R*Ie}}),we=6378137,me={R:we,MAX_LATITUDE:85.0511287798,project:function(l){var h=Math.PI/180,f=this.MAX_LATITUDE,b=Math.max(Math.min(f,l.lat),-f),E=Math.sin(b*h);return new U(this.R*l.lng*h,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(l){var h=180/Math.PI;return new X((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*h,l.x*h/this.R)},bounds:function(){var l=we*Math.PI;return new ne([-l,-l],[l,l])}()};function G(l,h,f,b){if(w(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=h,this._c=f,this._d=b}G.prototype={transform:function(l,h){return this._transform(l.clone(),h)},_transform:function(l,h){return h=h||1,l.x=h*(this._a*l.x+this._b),l.y=h*(this._c*l.y+this._d),l},untransform:function(l,h){return h=h||1,new U((l.x/h-this._b)/this._a,(l.y/h-this._d)/this._c)}};function ye(l,h,f,b){return new G(l,h,f,b)}var de=r({},Te,{code:"EPSG:3857",projection:me,transformation:function(){var l=.5/(Math.PI*me.R);return ye(l,.5,-l,.5)}()}),_e=r({},de,{code:"EPSG:900913"});function W(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function pe(l,h){var f="",b,E,V,le,Ce,Ie;for(b=0,V=l.length;b<V;b++){for(Ce=l[b],E=0,le=Ce.length;E<le;E++)Ie=Ce[E],f+=(E?"L":"M")+Ie.x+" "+Ie.y;f+=h?Ke.svg?"z":"x":""}return f||"M0 0"}var N=document.documentElement.style,D="ActiveXObject"in window,Y=D&&!document.addEventListener,_="msLaunchUri"in navigator&&!("documentMode"in document),C=xi("webkit"),k=xi("android"),H=xi("android 2")||xi("android 3"),ie=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),re=k&&xi("Google")&&ie<537&&!("AudioNode"in window),Se=!!window.opera,ze=!_&&xi("chrome"),Ge=xi("gecko")&&!C&&!Se&&!D,Qe=!ze&&xi("safari"),A=xi("phantom"),M="OTransition"in N,K=navigator.platform.indexOf("Win")===0,ee=D&&"transition"in N,F="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!H,J="MozPerspective"in N,Re=!window.L_DISABLE_3D&&(ee||F||J)&&!M&&!A,Ae=typeof orientation<"u"||xi("mobile"),De=Ae&&C,et=Ae&&F,mt=!window.PointerEvent&&window.MSPointerEvent,Rt=!!(window.PointerEvent||mt),yn="ontouchstart"in window||!!window.TouchEvent,rn=!window.L_NO_TOUCH&&(yn||Rt),mo=Ae&&Se,ss=Ae&&Ge,as=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fo=function(){var l=!1;try{var h=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",c,h),window.removeEventListener("testPassiveEventSupport",c,h)}catch{}return l}(),zn=function(){return!!document.createElement("canvas").getContext}(),kn=!!(document.createElementNS&&W("svg").createSVGRect),Bn=!!kn&&function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),L2=!kn&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var h=l.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),R2=navigator.platform.indexOf("Mac")===0,P2=navigator.platform.indexOf("Linux")===0;function xi(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var Ke={ie:D,ielt9:Y,edge:_,webkit:C,android:k,android23:H,androidStock:re,opera:Se,chrome:ze,gecko:Ge,safari:Qe,phantom:A,opera12:M,win:K,ie3d:ee,webkit3d:F,gecko3d:J,any3d:Re,mobile:Ae,mobileWebkit:De,mobileWebkit3d:et,msPointer:mt,pointer:Rt,touch:rn,touchNative:yn,mobileOpera:mo,mobileGecko:ss,retina:as,passiveEvents:Fo,canvas:zn,svg:kn,vml:L2,inlineSvg:Bn,mac:R2,linux:P2},bm=Ke.msPointer?"MSPointerDown":"pointerdown",Cm=Ke.msPointer?"MSPointerMove":"pointermove",Sm=Ke.msPointer?"MSPointerUp":"pointerup",Tm=Ke.msPointer?"MSPointerCancel":"pointercancel",nc={touchstart:bm,touchmove:Cm,touchend:Sm,touchcancel:Tm},Im={touchstart:$2,touchmove:Pa,touchend:Pa,touchcancel:Pa},cr={},Em=!1;function M2(l,h,f){return h==="touchstart"&&F2(),Im[h]?(f=Im[h].bind(this,f),l.addEventListener(nc[h],f,!1),f):(console.warn("wrong event specified:",h),c)}function A2(l,h,f){if(!nc[h]){console.warn("wrong event specified:",h);return}l.removeEventListener(nc[h],f,!1)}function O2(l){cr[l.pointerId]=l}function D2(l){cr[l.pointerId]&&(cr[l.pointerId]=l)}function km(l){delete cr[l.pointerId]}function F2(){Em||(document.addEventListener(bm,O2,!0),document.addEventListener(Cm,D2,!0),document.addEventListener(Sm,km,!0),document.addEventListener(Tm,km,!0),Em=!0)}function Pa(l,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var f in cr)h.touches.push(cr[f]);h.changedTouches=[h],l(h)}}function $2(l,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&sn(h),Pa(l,h)}function z2(l){var h={},f,b;for(b in l)f=l[b],h[b]=f&&f.bind?f.bind(l):f;return l=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var B2=200;function j2(l,h){l.addEventListener("dblclick",h);var f=0,b;function E(V){if(V.detail!==1){b=V.detail;return}if(!(V.pointerType==="mouse"||V.sourceCapabilities&&!V.sourceCapabilities.firesTouchEvents)){var le=Am(V);if(!(le.some(function(Ie){return Ie instanceof HTMLLabelElement&&Ie.attributes.for})&&!le.some(function(Ie){return Ie instanceof HTMLInputElement||Ie instanceof HTMLSelectElement}))){var Ce=Date.now();Ce-f<=B2?(b++,b===2&&h(z2(V))):b=1,f=Ce}}}return l.addEventListener("click",E),{dblclick:h,simDblclick:E}}function q2(l,h){l.removeEventListener("dblclick",h.dblclick),l.removeEventListener("click",h.simDblclick)}var ic=Oa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ls=Oa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Lm=ls==="webkitTransition"||ls==="OTransition"?ls+"End":"transitionend";function Rm(l){return typeof l=="string"?document.getElementById(l):l}function ds(l,h){var f=l.style[h]||l.currentStyle&&l.currentStyle[h];if((!f||f==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(l,null);f=b?b[h]:null}return f==="auto"?null:f}function yt(l,h,f){var b=document.createElement(l);return b.className=h||"",f&&f.appendChild(b),b}function $t(l){var h=l.parentNode;h&&h.removeChild(l)}function Ma(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function hr(l){var h=l.parentNode;h&&h.lastChild!==l&&h.appendChild(l)}function ur(l){var h=l.parentNode;h&&h.firstChild!==l&&h.insertBefore(l,h.firstChild)}function oc(l,h){if(l.classList!==void 0)return l.classList.contains(h);var f=Aa(l);return f.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(f)}function ct(l,h){if(l.classList!==void 0)for(var f=m(h),b=0,E=f.length;b<E;b++)l.classList.add(f[b]);else if(!oc(l,h)){var V=Aa(l);rc(l,(V?V+" ":"")+h)}}function jt(l,h){l.classList!==void 0?l.classList.remove(h):rc(l,p((" "+Aa(l)+" ").replace(" "+h+" "," ")))}function rc(l,h){l.className.baseVal===void 0?l.className=h:l.className.baseVal=h}function Aa(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function Xn(l,h){"opacity"in l.style?l.style.opacity=h:"filter"in l.style&&V2(l,h)}function V2(l,h){var f=!1,b="DXImageTransform.Microsoft.Alpha";try{f=l.filters.item(b)}catch{if(h===1)return}h=Math.round(h*100),f?(f.Enabled=h!==100,f.Opacity=h):l.style.filter+=" progid:"+b+"(opacity="+h+")"}function Oa(l){for(var h=document.documentElement.style,f=0;f<l.length;f++)if(l[f]in h)return l[f];return!1}function $o(l,h,f){var b=h||new U(0,0);l.style[ic]=(Ke.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(f?" scale("+f+")":"")}function qt(l,h){l._leaflet_pos=h,Ke.any3d?$o(l,h):(l.style.left=h.x+"px",l.style.top=h.y+"px")}function zo(l){return l._leaflet_pos||new U(0,0)}var cs,hs,sc;if("onselectstart"in document)cs=function(){at(window,"selectstart",sn)},hs=function(){At(window,"selectstart",sn)};else{var us=Oa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);cs=function(){if(us){var l=document.documentElement.style;sc=l[us],l[us]="none"}},hs=function(){us&&(document.documentElement.style[us]=sc,sc=void 0)}}function ac(){at(window,"dragstart",sn)}function lc(){At(window,"dragstart",sn)}var Da,dc;function cc(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(Fa(),Da=l,dc=l.style.outlineStyle,l.style.outlineStyle="none",at(window,"keydown",Fa))}function Fa(){Da&&(Da.style.outlineStyle=dc,Da=void 0,dc=void 0,At(window,"keydown",Fa))}function Pm(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function hc(l){var h=l.getBoundingClientRect();return{x:h.width/l.offsetWidth||1,y:h.height/l.offsetHeight||1,boundingClientRect:h}}var H2={__proto__:null,TRANSFORM:ic,TRANSITION:ls,TRANSITION_END:Lm,get:Rm,getStyle:ds,create:yt,remove:$t,empty:Ma,toFront:hr,toBack:ur,hasClass:oc,addClass:ct,removeClass:jt,setClass:rc,getClass:Aa,setOpacity:Xn,testProp:Oa,setTransform:$o,setPosition:qt,getPosition:zo,get disableTextSelection(){return cs},get enableTextSelection(){return hs},disableImageDrag:ac,enableImageDrag:lc,preventOutline:cc,restoreOutline:Fa,getSizedParentNode:Pm,getScale:hc};function at(l,h,f,b){if(h&&typeof h=="object")for(var E in h)mc(l,E,h[E],f);else{h=m(h);for(var V=0,le=h.length;V<le;V++)mc(l,h[V],f,b)}return this}var Ni="_leaflet_events";function At(l,h,f,b){if(arguments.length===1)Mm(l),delete l[Ni];else if(h&&typeof h=="object")for(var E in h)pc(l,E,h[E],f);else if(h=m(h),arguments.length===2)Mm(l,function(Ce){return S(h,Ce)!==-1});else for(var V=0,le=h.length;V<le;V++)pc(l,h[V],f,b);return this}function Mm(l,h){for(var f in l[Ni]){var b=f.split(/\d/)[0];(!h||h(b))&&pc(l,b,null,null,f)}}var uc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function mc(l,h,f,b){var E=h+a(f)+(b?"_"+a(b):"");if(l[Ni]&&l[Ni][E])return this;var V=function(Ce){return f.call(b||l,Ce||window.event)},le=V;!Ke.touchNative&&Ke.pointer&&h.indexOf("touch")===0?V=M2(l,h,V):Ke.touch&&h==="dblclick"?V=j2(l,V):"addEventListener"in l?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?l.addEventListener(uc[h]||h,V,Ke.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(V=function(Ce){Ce=Ce||window.event,gc(l,Ce)&&le(Ce)},l.addEventListener(uc[h],V,!1)):l.addEventListener(h,le,!1):l.attachEvent("on"+h,V),l[Ni]=l[Ni]||{},l[Ni][E]=V}function pc(l,h,f,b,E){E=E||h+a(f)+(b?"_"+a(b):"");var V=l[Ni]&&l[Ni][E];if(!V)return this;!Ke.touchNative&&Ke.pointer&&h.indexOf("touch")===0?A2(l,h,V):Ke.touch&&h==="dblclick"?q2(l,V):"removeEventListener"in l?l.removeEventListener(uc[h]||h,V,!1):l.detachEvent("on"+h,V),l[Ni][E]=null}function Bo(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function fc(l){return mc(l,"wheel",Bo),this}function ms(l){return at(l,"mousedown touchstart dblclick contextmenu",Bo),l._leaflet_disable_click=!0,this}function sn(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function jo(l){return sn(l),Bo(l),this}function Am(l){if(l.composedPath)return l.composedPath();for(var h=[],f=l.target;f;)h.push(f),f=f.parentNode;return h}function Om(l,h){if(!h)return new U(l.clientX,l.clientY);var f=hc(h),b=f.boundingClientRect;return new U((l.clientX-b.left)/f.x-h.clientLeft,(l.clientY-b.top)/f.y-h.clientTop)}var U2=Ke.linux&&Ke.chrome?window.devicePixelRatio:Ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Dm(l){return Ke.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/U2:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function gc(l,h){var f=h.relatedTarget;if(!f)return!0;try{for(;f&&f!==l;)f=f.parentNode}catch{return!1}return f!==l}var G2={__proto__:null,on:at,off:At,stopPropagation:Bo,disableScrollPropagation:fc,disableClickPropagation:ms,preventDefault:sn,stop:jo,getPropagationPath:Am,getMousePosition:Om,getWheelDelta:Dm,isExternalTarget:gc,addListener:at,removeListener:At},Fm=ae.extend({run:function(l,h,f,b){this.stop(),this._el=l,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=zo(l),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=z(this._animate,this),this._step()},_step:function(l){var h=+new Date-this._startTime,f=this._duration*1e3;h<f?this._runFrame(this._easeOut(h/f),l):(this._runFrame(1),this._complete())},_runFrame:function(l,h){var f=this._startPos.add(this._offset.multiplyBy(l));h&&f._round(),qt(this._el,f),this.fire("step")},_complete:function(){I(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),gt=ae.extend({options:{crs:de,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,h){h=g(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=e(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(ce(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ls&&Ke.any3d&&!Ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),at(this._proxy,Lm,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,h,f){if(h=h===void 0?this._zoom:this._limitZoom(h),l=this._limitCenter(ce(l),h,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=r({animate:f.animate},f.zoom),f.pan=r({animate:f.animate,duration:f.duration},f.pan));var b=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,h,f.zoom):this._tryAnimatedPan(l,f.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(l,h,f.pan&&f.pan.noMoveStart),this},setZoom:function(l,h){return this._loaded?this.setView(this.getCenter(),l,{zoom:h}):(this._zoom=l,this)},zoomIn:function(l,h){return l=l||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,h)},zoomOut:function(l,h){return l=l||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,h)},setZoomAround:function(l,h,f){var b=this.getZoomScale(h),E=this.getSize().divideBy(2),V=l instanceof U?l:this.latLngToContainerPoint(l),le=V.subtract(E).multiplyBy(1-1/b),Ce=this.containerPointToLatLng(E.add(le));return this.setView(Ce,h,{zoom:f})},_getBoundsCenterZoom:function(l,h){h=h||{},l=l.getBounds?l.getBounds():ue(l);var f=O(h.paddingTopLeft||h.padding||[0,0]),b=O(h.paddingBottomRight||h.padding||[0,0]),E=this.getBoundsZoom(l,!1,f.add(b));if(E=typeof h.maxZoom=="number"?Math.min(h.maxZoom,E):E,E===1/0)return{center:l.getCenter(),zoom:E};var V=b.subtract(f).divideBy(2),le=this.project(l.getSouthWest(),E),Ce=this.project(l.getNorthEast(),E),Ie=this.unproject(le.add(Ce).divideBy(2).add(V),E);return{center:Ie,zoom:E}},fitBounds:function(l,h){if(l=ue(l),!l.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(l,h);return this.setView(f.center,f.zoom,h)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,h){return this.setView(l,this._zoom,{pan:h})},panBy:function(l,h){if(l=O(l).round(),h=h||{},!l.x&&!l.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fm,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){ct(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,f,h.duration||.25,h.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,h,f){if(f=f||{},f.animate===!1||!Ke.any3d)return this.setView(l,h,f);this._stop();var b=this.project(this.getCenter()),E=this.project(l),V=this.getSize(),le=this._zoom;l=ce(l),h=h===void 0?le:h;var Ce=Math.max(V.x,V.y),Ie=Ce*this.getZoomScale(le,h),Be=E.distanceTo(b)||1,Ze=1.42,it=Ze*Ze;function pt(Vt){var Qa=Vt?-1:1,Av=Vt?Ie:Ce,Ov=Ie*Ie-Ce*Ce+Qa*it*it*Be*Be,Dv=2*Av*it*Be,Ic=Ov/Dv,vp=Math.sqrt(Ic*Ic+1)-Ic,Fv=vp<1e-9?-18:Math.log(vp);return Fv}function wn(Vt){return(Math.exp(Vt)-Math.exp(-Vt))/2}function tn(Vt){return(Math.exp(Vt)+Math.exp(-Vt))/2}function ti(Vt){return wn(Vt)/tn(Vt)}var Ln=pt(0);function yr(Vt){return Ce*(tn(Ln)/tn(Ln+Ze*Vt))}function Lv(Vt){return Ce*(tn(Ln)*ti(Ln+Ze*Vt)-wn(Ln))/it}function Rv(Vt){return 1-Math.pow(1-Vt,1.5)}var Pv=Date.now(),fp=(pt(1)-Ln)/Ze,Mv=f.duration?1e3*f.duration:1e3*fp*.8;function gp(){var Vt=(Date.now()-Pv)/Mv,Qa=Rv(Vt)*fp;Vt<=1?(this._flyToFrame=z(gp,this),this._move(this.unproject(b.add(E.subtract(b).multiplyBy(Lv(Qa)/Be)),le),this.getScaleZoom(Ce/yr(Qa),le),{flyTo:!0})):this._move(l,h)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),gp.call(this),this},flyToBounds:function(l,h){var f=this._getBoundsCenterZoom(l,h);return this.flyTo(f.center,f.zoom,h)},setMaxBounds:function(l){return l=ue(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var h=this.options.minZoom;return this.options.minZoom=l,this._loaded&&h!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var h=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&h!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,h){this._enforcingBounds=!0;var f=this.getCenter(),b=this._limitCenter(f,this._zoom,ue(l));return f.equals(b)||this.panTo(b,h),this._enforcingBounds=!1,this},panInside:function(l,h){h=h||{};var f=O(h.paddingTopLeft||h.padding||[0,0]),b=O(h.paddingBottomRight||h.padding||[0,0]),E=this.project(this.getCenter()),V=this.project(l),le=this.getPixelBounds(),Ce=he([le.min.add(f),le.max.subtract(b)]),Ie=Ce.getSize();if(!Ce.contains(V)){this._enforcingBounds=!0;var Be=V.subtract(Ce.getCenter()),Ze=Ce.extend(V).getSize().subtract(Ie);E.x+=Be.x<0?-Ze.x:Ze.x,E.y+=Be.y<0?-Ze.y:Ze.y,this.panTo(this.unproject(E),h),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=r({animate:!1,pan:!0},l===!0?{animate:!0}:l);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),b=h.divideBy(2).round(),E=f.divideBy(2).round(),V=b.subtract(E);return!V.x&&!V.y?this:(l.animate&&l.pan?this.panBy(V):(l.pan&&this._rawPanBy(V),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(e(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=r({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=e(this._handleGeolocationResponse,this),f=e(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,f,l):navigator.geolocation.getCurrentPosition(h,f,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var h=l.code,f=l.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var h=l.coords.latitude,f=l.coords.longitude,b=new X(h,f),E=b.toBounds(l.coords.accuracy*2),V=this._locateOptions;if(V.setView){var le=this.getBoundsZoom(E);this.setView(b,V.maxZoom?Math.min(le,V.maxZoom):le)}var Ce={latlng:b,bounds:E,timestamp:l.timestamp};for(var Ie in l.coords)typeof l.coords[Ie]=="number"&&(Ce[Ie]=l.coords[Ie]);this.fire("locationfound",Ce)}},addHandler:function(l,h){if(!h)return this;var f=this[l]=new h(this);return this._handlers.push(f),this.options[l]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),$t(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(I(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)$t(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,h){var f="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),b=yt("div",f,h||this._mapPane);return l&&(this._panes[l]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),h=this.unproject(l.getBottomLeft()),f=this.unproject(l.getTopRight());return new Q(h,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,h,f){l=ue(l),f=O(f||[0,0]);var b=this.getZoom()||0,E=this.getMinZoom(),V=this.getMaxZoom(),le=l.getNorthWest(),Ce=l.getSouthEast(),Ie=this.getSize().subtract(f),Be=he(this.project(Ce,b),this.project(le,b)).getSize(),Ze=Ke.any3d?this.options.zoomSnap:1,it=Ie.x/Be.x,pt=Ie.y/Be.y,wn=h?Math.max(it,pt):Math.min(it,pt);return b=this.getScaleZoom(wn,b),Ze&&(b=Math.round(b/(Ze/100))*(Ze/100),b=h?Math.ceil(b/Ze)*Ze:Math.floor(b/Ze)*Ze),Math.max(E,Math.min(V,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,h){var f=this._getTopLeftPoint(l,h);return new ne(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,h){var f=this.options.crs;return h=h===void 0?this._zoom:h,f.scale(l)/f.scale(h)},getScaleZoom:function(l,h){var f=this.options.crs;h=h===void 0?this._zoom:h;var b=f.zoom(l*f.scale(h));return isNaN(b)?1/0:b},project:function(l,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(ce(l),h)},unproject:function(l,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(O(l),h)},layerPointToLatLng:function(l){var h=O(l).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(l){var h=this.project(ce(l))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(ce(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(ue(l))},distance:function(l,h){return this.options.crs.distance(ce(l),ce(h))},containerPointToLayerPoint:function(l){return O(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return O(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var h=this.containerPointToLayerPoint(O(l));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ce(l)))},mouseEventToContainerPoint:function(l){return Om(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var h=this._container=Rm(l);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");at(h,"scroll",this._onScroll,this),this._containerId=a(h)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ke.any3d,ct(l,"leaflet-container"+(Ke.touch?" leaflet-touch":"")+(Ke.retina?" leaflet-retina":"")+(Ke.ielt9?" leaflet-oldie":"")+(Ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=ds(l,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qt(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ct(l.markerPane,"leaflet-zoom-hide"),ct(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,h,f){qt(this._mapPane,new U(0,0));var b=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var E=this._zoom!==h;this._moveStart(E,f)._move(l,h)._moveEnd(E),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(l,h){return l&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(l,h,f,b){h===void 0&&(h=this._zoom);var E=this._zoom!==h;return this._zoom=h,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),b?f&&f.pinch&&this.fire("zoom",f):((E||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return I(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){qt(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[a(this._container)]=this;var h=l?At:at;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Ke.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){I(this._resizeRequest),this._resizeRequest=z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,h){for(var f=[],b,E=h==="mouseout"||h==="mouseover",V=l.target||l.srcElement,le=!1;V;){if(b=this._targets[a(V)],b&&(h==="click"||h==="preclick")&&this._draggableMoved(b)){le=!0;break}if(b&&b.listens(h,!0)&&(E&&!gc(V,l)||(f.push(b),E))||V===this._container)break;V=V.parentNode}return!f.length&&!le&&!E&&this.listens(h,!0)&&(f=[this]),f},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var h=l.target||l.srcElement;if(!(!this._loaded||h._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(h))){var f=l.type;f==="mousedown"&&cc(h),this._fireDOMEvent(l,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,h,f){if(l.type==="click"){var b=r({},l);b.type="preclick",this._fireDOMEvent(b,b.type,f)}var E=this._findEventTargets(l,h);if(f){for(var V=[],le=0;le<f.length;le++)f[le].listens(h,!0)&&V.push(f[le]);E=V.concat(E)}if(E.length){h==="contextmenu"&&sn(l);var Ce=E[0],Ie={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var Be=Ce.getLatLng&&(!Ce._radius||Ce._radius<=10);Ie.containerPoint=Be?this.latLngToContainerPoint(Ce.getLatLng()):this.mouseEventToContainerPoint(l),Ie.layerPoint=this.containerPointToLayerPoint(Ie.containerPoint),Ie.latlng=Be?Ce.getLatLng():this.layerPointToLatLng(Ie.layerPoint)}for(le=0;le<E.length;le++)if(E[le].fire(h,Ie,!0),Ie.originalEvent._stopped||E[le].options.bubblingMouseEvents===!1&&S(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,h=this._handlers.length;l<h;l++)this._handlers[l].disable()},whenReady:function(l,h){return this._loaded?l.call(h||this,{target:this}):this.on("load",l,h),this},_getMapPanePos:function(){return zo(this._mapPane)||new U(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,h){var f=l&&h!==void 0?this._getNewPixelOrigin(l,h):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,h){var f=this.getSize()._divideBy(2);return this.project(l,h)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,h,f){var b=this._getNewPixelOrigin(f,h);return this.project(l,h)._subtract(b)},_latLngBoundsToNewLayerBounds:function(l,h,f){var b=this._getNewPixelOrigin(f,h);return he([this.project(l.getSouthWest(),h)._subtract(b),this.project(l.getNorthWest(),h)._subtract(b),this.project(l.getSouthEast(),h)._subtract(b),this.project(l.getNorthEast(),h)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,h,f){if(!f)return l;var b=this.project(l,h),E=this.getSize().divideBy(2),V=new ne(b.subtract(E),b.add(E)),le=this._getBoundsOffset(V,f,h);return Math.abs(le.x)<=1&&Math.abs(le.y)<=1?l:this.unproject(b.add(le),h)},_limitOffset:function(l,h){if(!h)return l;var f=this.getPixelBounds(),b=new ne(f.min.add(l),f.max.add(l));return l.add(this._getBoundsOffset(b,h))},_getBoundsOffset:function(l,h,f){var b=he(this.project(h.getNorthEast(),f),this.project(h.getSouthWest(),f)),E=b.min.subtract(l.min),V=b.max.subtract(l.max),le=this._rebound(E.x,-V.x),Ce=this._rebound(E.y,-V.y);return new U(le,Ce)},_rebound:function(l,h){return l+h>0?Math.round(l-h)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(h))},_limitZoom:function(l){var h=this.getMinZoom(),f=this.getMaxZoom(),b=Ke.any3d?this.options.zoomSnap:1;return b&&(l=Math.round(l/b)*b),Math.max(h,Math.min(f,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){jt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,h){var f=this._getCenterOffset(l)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,h),!0)},_createAnimProxy:function(){var l=this._proxy=yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(h){var f=ic,b=this._proxy.style[f];$o(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),b===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){$t(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),h=this.getZoom();$o(this._proxy,this.project(l,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,h,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(h),E=this._getCenterOffset(l)._divideBy(1-1/b);return f.animate!==!0&&!this.getSize().contains(E)?!1:(z(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(l,h,!0)},this),!0)},_animateZoom:function(l,h,f,b){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=h,ct(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:h,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(e(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&jt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function W2(l,h){return new gt(l,h)}var di=B.extend({options:{position:"topright"},initialize:function(l){g(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var h=this._map;return h&&h.removeControl(this),this.options.position=l,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var h=this._container=this.onAdd(l),f=this.getPosition(),b=l._controlCorners[f];return ct(h,"leaflet-control"),f.indexOf("bottom")!==-1?b.insertBefore(h,b.firstChild):b.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?($t(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),ps=function(l){return new di(l)};gt.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},h="leaflet-",f=this._controlContainer=yt("div",h+"control-container",this._container);function b(E,V){var le=h+E+" "+h+V;l[E+V]=yt("div",le,f)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)$t(this._controlCorners[l]);$t(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var $m=di.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,h,f,b){return f<b?-1:b<f?1:0}},initialize:function(l,h,f){g(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in l)this._addLayer(l[b],b);for(b in h)this._addLayer(h[b],b,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return di.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,h){return this._addLayer(l,h),this._map?this._update():this},addOverlay:function(l,h){return this._addLayer(l,h,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var h=this._getLayer(a(l));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){ct(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(ct(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):jt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return jt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",h=this._container=yt("div",l),f=this.options.collapsed;h.setAttribute("aria-haspopup",!0),ms(h),fc(h);var b=this._section=yt("section",l+"-list");f&&(this._map.on("click",this.collapse,this),at(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=yt("a",l+"-toggle",h);E.href="#",E.title="Layers",E.setAttribute("role","button"),at(E,{keydown:function(V){V.keyCode===13&&this._expandSafely()},click:function(V){sn(V),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=yt("div",l+"-base",b),this._separator=yt("div",l+"-separator",b),this._overlaysList=yt("div",l+"-overlays",b),h.appendChild(b)},_getLayer:function(l){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&a(this._layers[h].layer)===l)return this._layers[h]},_addLayer:function(l,h,f){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:h,overlay:f}),this.options.sortLayers&&this._layers.sort(e(function(b,E){return this.options.sortFunction(b.layer,E.layer,b.name,E.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ma(this._baseLayersList),Ma(this._overlaysList),this._layerControlInputs=[];var l,h,f,b,E=0;for(f=0;f<this._layers.length;f++)b=this._layers[f],this._addItem(b),h=h||b.overlay,l=l||!b.overlay,E+=b.overlay?0:1;return this.options.hideSingleBase&&(l=l&&E>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=h&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var h=this._getLayer(a(l.target)),f=h.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;f&&this._map.fire(f,h)},_createRadioElement:function(l,h){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(h?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=f,b.firstChild},_addItem:function(l){var h=document.createElement("label"),f=this._map.hasLayer(l.layer),b;l.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=f):b=this._createRadioElement("leaflet-base-layers_"+a(this),f),this._layerControlInputs.push(b),b.layerId=a(l.layer),at(b,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+l.name;var V=document.createElement("span");h.appendChild(V),V.appendChild(b),V.appendChild(E);var le=l.overlay?this._overlaysList:this._baseLayersList;return le.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,h,f,b=[],E=[];this._handlingClick=!0;for(var V=l.length-1;V>=0;V--)h=l[V],f=this._getLayer(h.layerId).layer,h.checked?b.push(f):h.checked||E.push(f);for(V=0;V<E.length;V++)this._map.hasLayer(E[V])&&this._map.removeLayer(E[V]);for(V=0;V<b.length;V++)this._map.hasLayer(b[V])||this._map.addLayer(b[V]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,h,f,b=this._map.getZoom(),E=l.length-1;E>=0;E--)h=l[E],f=this._getLayer(h.layerId).layer,h.disabled=f.options.minZoom!==void 0&&b<f.options.minZoom||f.options.maxZoom!==void 0&&b>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,at(l,"click",sn),this.expand();var h=this;setTimeout(function(){At(l,"click",sn),h._preventClick=!1})}}),Z2=function(l,h,f){return new $m(l,h,f)},vc=di.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var h="leaflet-control-zoom",f=yt("div",h+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,h+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,h+"-out",f,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,h,f,b,E){var V=yt("a",f,b);return V.innerHTML=l,V.href="#",V.title=h,V.setAttribute("role","button"),V.setAttribute("aria-label",h),ms(V),at(V,"click",jo),at(V,"click",E,this),at(V,"click",this._refocusOnMap,this),V},_updateDisabled:function(){var l=this._map,h="leaflet-disabled";jt(this._zoomInButton,h),jt(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(ct(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(ct(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});gt.mergeOptions({zoomControl:!0}),gt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new vc,this.addControl(this.zoomControl))});var Q2=function(l){return new vc(l)},zm=di.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var h="leaflet-control-scale",f=yt("div",h),b=this.options;return this._addScales(b,h+"-line",f),l.on(b.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),f},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,h,f){l.metric&&(this._mScale=yt("div",h,f)),l.imperial&&(this._iScale=yt("div",h,f))},_update:function(){var l=this._map,h=l.getSize().y/2,f=l.distance(l.containerPointToLatLng([0,h]),l.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(f)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var h=this._getRoundNum(l),f=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,f,h/l)},_updateImperial:function(l){var h=l*3.2808399,f,b,E;h>5280?(f=h/5280,b=this._getRoundNum(f),this._updateScale(this._iScale,b+" mi",b/f)):(E=this._getRoundNum(h),this._updateScale(this._iScale,E+" ft",E/h))},_updateScale:function(l,h,f){l.style.width=Math.round(this.options.maxWidth*f)+"px",l.innerHTML=h},_getRoundNum:function(l){var h=Math.pow(10,(Math.floor(l)+"").length-1),f=l/h;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,h*f}}),Y2=function(l){return new zm(l)},J2='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',yc=di.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ke.inlineSvg?J2+" ":"")+"Leaflet</a>"},initialize:function(l){g(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=yt("div","leaflet-control-attribution"),ms(this._container);for(var h in l._layers)l._layers[h].getAttribution&&this.addAttribution(l._layers[h].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var h in this._attributions)this._attributions[h]&&l.push(h);var f=[];this.options.prefix&&f.push(this.options.prefix),l.length&&f.push(l.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});gt.mergeOptions({attributionControl:!0}),gt.addInitHook(function(){this.options.attributionControl&&new yc().addTo(this)});var K2=function(l){return new yc(l)};di.Layers=$m,di.Zoom=vc,di.Scale=zm,di.Attribution=yc,ps.layers=Z2,ps.zoom=Q2,ps.scale=Y2,ps.attribution=K2;var bi=B.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});bi.addTo=function(l,h){return l.addHandler(h,this),this};var X2={Events:ge},Bm=Ke.touch?"touchstart mousedown":"mousedown",po=ae.extend({options:{clickTolerance:3},initialize:function(l,h,f,b){g(this,b),this._element=l,this._dragStartTarget=h||l,this._preventOutline=f},enable:function(){this._enabled||(at(this._dragStartTarget,Bm,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(po._dragging===this&&this.finishDrag(!0),At(this._dragStartTarget,Bm,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!oc(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){po._dragging===this&&this.finishDrag();return}if(!(po._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(po._dragging=this,this._preventOutline&&cc(this._element),ac(),cs(),!this._moving)){this.fire("down");var h=l.touches?l.touches[0]:l,f=Pm(this._element);this._startPoint=new U(h.clientX,h.clientY),this._startPos=zo(this._element),this._parentScale=hc(f);var b=l.type==="mousedown";at(document,b?"mousemove":"touchmove",this._onMove,this),at(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var h=l.touches&&l.touches.length===1?l.touches[0]:l,f=new U(h.clientX,h.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,sn(l),this._moved||(this.fire("dragstart"),this._moved=!0,ct(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ct(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),qt(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){jt(document.body,"leaflet-dragging"),this._lastTarget&&(jt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),At(document,"mousemove touchmove",this._onMove,this),At(document,"mouseup touchend touchcancel",this._onUp,this),lc(),hs();var h=this._moved&&this._moving;this._moving=!1,po._dragging=!1,h&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function jm(l,h,f){var b,E=[1,4,2,8],V,le,Ce,Ie,Be,Ze,it,pt;for(V=0,Ze=l.length;V<Ze;V++)l[V]._code=qo(l[V],h);for(Ce=0;Ce<4;Ce++){for(it=E[Ce],b=[],V=0,Ze=l.length,le=Ze-1;V<Ze;le=V++)Ie=l[V],Be=l[le],Ie._code&it?Be._code&it||(pt=$a(Be,Ie,it,h,f),pt._code=qo(pt,h),b.push(pt)):(Be._code&it&&(pt=$a(Be,Ie,it,h,f),pt._code=qo(pt,h),b.push(pt)),b.push(Ie));l=b}return l}function qm(l,h){var f,b,E,V,le,Ce,Ie,Be,Ze;if(!l||l.length===0)throw new Error("latlngs not passed");ei(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var it=ce([0,0]),pt=ue(l),wn=pt.getNorthWest().distanceTo(pt.getSouthWest())*pt.getNorthEast().distanceTo(pt.getNorthWest());wn<1700&&(it=wc(l));var tn=l.length,ti=[];for(f=0;f<tn;f++){var Ln=ce(l[f]);ti.push(h.project(ce([Ln.lat-it.lat,Ln.lng-it.lng])))}for(Ce=Ie=Be=0,f=0,b=tn-1;f<tn;b=f++)E=ti[f],V=ti[b],le=E.y*V.x-V.y*E.x,Ie+=(E.x+V.x)*le,Be+=(E.y+V.y)*le,Ce+=le*3;Ce===0?Ze=ti[0]:Ze=[Ie/Ce,Be/Ce];var yr=h.unproject(O(Ze));return ce([yr.lat+it.lat,yr.lng+it.lng])}function wc(l){for(var h=0,f=0,b=0,E=0;E<l.length;E++){var V=ce(l[E]);h+=V.lat,f+=V.lng,b++}return ce([h/b,f/b])}var ev={__proto__:null,clipPolygon:jm,polygonCenter:qm,centroid:wc};function Vm(l,h){if(!h||!l.length)return l.slice();var f=h*h;return l=iv(l,f),l=nv(l,f),l}function Hm(l,h,f){return Math.sqrt(fs(l,h,f,!0))}function tv(l,h,f){return fs(l,h,f)}function nv(l,h){var f=l.length,b=typeof Uint8Array<"u"?Uint8Array:Array,E=new b(f);E[0]=E[f-1]=1,_c(l,E,h,0,f-1);var V,le=[];for(V=0;V<f;V++)E[V]&&le.push(l[V]);return le}function _c(l,h,f,b,E){var V=0,le,Ce,Ie;for(Ce=b+1;Ce<=E-1;Ce++)Ie=fs(l[Ce],l[b],l[E],!0),Ie>V&&(le=Ce,V=Ie);V>f&&(h[le]=1,_c(l,h,f,b,le),_c(l,h,f,le,E))}function iv(l,h){for(var f=[l[0]],b=1,E=0,V=l.length;b<V;b++)ov(l[b],l[E])>h&&(f.push(l[b]),E=b);return E<V-1&&f.push(l[V-1]),f}var Um;function Gm(l,h,f,b,E){var V=b?Um:qo(l,f),le=qo(h,f),Ce,Ie,Be;for(Um=le;;){if(!(V|le))return[l,h];if(V&le)return!1;Ce=V||le,Ie=$a(l,h,Ce,f,E),Be=qo(Ie,f),Ce===V?(l=Ie,V=Be):(h=Ie,le=Be)}}function $a(l,h,f,b,E){var V=h.x-l.x,le=h.y-l.y,Ce=b.min,Ie=b.max,Be,Ze;return f&8?(Be=l.x+V*(Ie.y-l.y)/le,Ze=Ie.y):f&4?(Be=l.x+V*(Ce.y-l.y)/le,Ze=Ce.y):f&2?(Be=Ie.x,Ze=l.y+le*(Ie.x-l.x)/V):f&1&&(Be=Ce.x,Ze=l.y+le*(Ce.x-l.x)/V),new U(Be,Ze,E)}function qo(l,h){var f=0;return l.x<h.min.x?f|=1:l.x>h.max.x&&(f|=2),l.y<h.min.y?f|=4:l.y>h.max.y&&(f|=8),f}function ov(l,h){var f=h.x-l.x,b=h.y-l.y;return f*f+b*b}function fs(l,h,f,b){var E=h.x,V=h.y,le=f.x-E,Ce=f.y-V,Ie=le*le+Ce*Ce,Be;return Ie>0&&(Be=((l.x-E)*le+(l.y-V)*Ce)/Ie,Be>1?(E=f.x,V=f.y):Be>0&&(E+=le*Be,V+=Ce*Be)),le=l.x-E,Ce=l.y-V,b?le*le+Ce*Ce:new U(E,V)}function ei(l){return!w(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function Wm(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ei(l)}function Zm(l,h){var f,b,E,V,le,Ce,Ie,Be;if(!l||l.length===0)throw new Error("latlngs not passed");ei(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Ze=ce([0,0]),it=ue(l),pt=it.getNorthWest().distanceTo(it.getSouthWest())*it.getNorthEast().distanceTo(it.getNorthWest());pt<1700&&(Ze=wc(l));var wn=l.length,tn=[];for(f=0;f<wn;f++){var ti=ce(l[f]);tn.push(h.project(ce([ti.lat-Ze.lat,ti.lng-Ze.lng])))}for(f=0,b=0;f<wn-1;f++)b+=tn[f].distanceTo(tn[f+1])/2;if(b===0)Be=tn[0];else for(f=0,V=0;f<wn-1;f++)if(le=tn[f],Ce=tn[f+1],E=le.distanceTo(Ce),V+=E,V>b){Ie=(V-b)/E,Be=[Ce.x-Ie*(Ce.x-le.x),Ce.y-Ie*(Ce.y-le.y)];break}var Ln=h.unproject(O(Be));return ce([Ln.lat+Ze.lat,Ln.lng+Ze.lng])}var rv={__proto__:null,simplify:Vm,pointToSegmentDistance:Hm,closestPointOnSegment:tv,clipSegment:Gm,_getEdgeIntersection:$a,_getBitCode:qo,_sqClosestPointOnSegment:fs,isFlat:ei,_flat:Wm,polylineCenter:Zm},xc={project:function(l){return new U(l.lng,l.lat)},unproject:function(l){return new X(l.y,l.x)},bounds:new ne([-180,-90],[180,90])},Nc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ne([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var h=Math.PI/180,f=this.R,b=l.lat*h,E=this.R_MINOR/f,V=Math.sqrt(1-E*E),le=V*Math.sin(b),Ce=Math.tan(Math.PI/4-b/2)/Math.pow((1-le)/(1+le),V/2);return b=-f*Math.log(Math.max(Ce,1e-10)),new U(l.lng*h*f,b)},unproject:function(l){for(var h=180/Math.PI,f=this.R,b=this.R_MINOR/f,E=Math.sqrt(1-b*b),V=Math.exp(-l.y/f),le=Math.PI/2-2*Math.atan(V),Ce=0,Ie=.1,Be;Ce<15&&Math.abs(Ie)>1e-7;Ce++)Be=E*Math.sin(le),Be=Math.pow((1-Be)/(1+Be),E/2),Ie=Math.PI/2-2*Math.atan(V*Be)-le,le+=Ie;return new X(le*h,l.x*h/f)}},sv={__proto__:null,LonLat:xc,Mercator:Nc,SphericalMercator:me},av=r({},Te,{code:"EPSG:3395",projection:Nc,transformation:function(){var l=.5/(Math.PI*Nc.R);return ye(l,.5,-l,.5)}()}),Qm=r({},Te,{code:"EPSG:4326",projection:xc,transformation:ye(1/180,1,-1/180,.5)}),lv=r({},fe,{projection:xc,transformation:ye(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,h){var f=h.lng-l.lng,b=h.lat-l.lat;return Math.sqrt(f*f+b*b)},infinite:!0});fe.Earth=Te,fe.EPSG3395=av,fe.EPSG3857=de,fe.EPSG900913=_e,fe.EPSG4326=Qm,fe.Simple=lv;var ci=ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[a(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[a(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var h=l.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var f=this.getEvents();h.on(f,this),this.once("remove",function(){h.off(f,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});gt.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var h=a(l);return this._layers[h]?this:(this._layers[h]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var h=a(l);return this._layers[h]?(this._loaded&&l.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return a(l)in this._layers},eachLayer:function(l,h){for(var f in this._layers)l.call(h,this._layers[f]);return this},_addLayers:function(l){l=l?w(l)?l:[l]:[];for(var h=0,f=l.length;h<f;h++)this.addLayer(l[h])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[a(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var h=a(l);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,h=-1/0,f=this._getZoomSpan();for(var b in this._zoomBoundLayers){var E=this._zoomBoundLayers[b].options;l=E.minZoom===void 0?l:Math.min(l,E.minZoom),h=E.maxZoom===void 0?h:Math.max(h,E.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=l===1/0?void 0:l,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var mr=ci.extend({initialize:function(l,h){g(this,h),this._layers={};var f,b;if(l)for(f=0,b=l.length;f<b;f++)this.addLayer(l[f])},addLayer:function(l){var h=this.getLayerId(l);return this._layers[h]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var h=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(l){var h=typeof l=="number"?l:this.getLayerId(l);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var h=Array.prototype.slice.call(arguments,1),f,b;for(f in this._layers)b=this._layers[f],b[l]&&b[l].apply(b,h);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,h){for(var f in this._layers)l.call(h,this._layers[f]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return a(l)}}),dv=function(l,h){return new mr(l,h)},Zi=mr.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),mr.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),mr.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new Q;for(var h in this._layers){var f=this._layers[h];l.extend(f.getBounds?f.getBounds():f.getLatLng())}return l}}),cv=function(l,h){return new Zi(l,h)},pr=B.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){g(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,h){var f=this._getIconUrl(l);if(!f){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(f,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(b,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(l,h){var f=this.options,b=f[h+"Size"];typeof b=="number"&&(b=[b,b]);var E=O(b),V=O(h==="shadow"&&f.shadowAnchor||f.iconAnchor||E&&E.divideBy(2,!0));l.className="leaflet-marker-"+h+" "+(f.className||""),V&&(l.style.marginLeft=-V.x+"px",l.style.marginTop=-V.y+"px"),E&&(l.style.width=E.x+"px",l.style.height=E.y+"px")},_createImg:function(l,h){return h=h||document.createElement("img"),h.src=l,h},_getIconUrl:function(l){return Ke.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function hv(l){return new pr(l)}var gs=pr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof gs.imagePath!="string"&&(gs.imagePath=this._detectIconPath()),(this.options.imagePath||gs.imagePath)+pr.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var h=function(f,b,E){var V=b.exec(f);return V&&V[E]};return l=h(l,/^url\((['"])?(.+)\1\)$/,2),l&&h(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=yt("div","leaflet-default-icon-path",document.body),h=ds(l,"background-image")||ds(l,"backgroundImage");if(document.body.removeChild(l),h=this._stripUrl(h),h)return h;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Ym=bi.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new po(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ct(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&jt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var h=this._marker,f=h._map,b=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,V=zo(h._icon),le=f.getPixelBounds(),Ce=f.getPixelOrigin(),Ie=he(le.min._subtract(Ce).add(E),le.max._subtract(Ce).subtract(E));if(!Ie.contains(V)){var Be=O((Math.max(Ie.max.x,V.x)-Ie.max.x)/(le.max.x-Ie.max.x)-(Math.min(Ie.min.x,V.x)-Ie.min.x)/(le.min.x-Ie.min.x),(Math.max(Ie.max.y,V.y)-Ie.max.y)/(le.max.y-Ie.max.y)-(Math.min(Ie.min.y,V.y)-Ie.min.y)/(le.min.y-Ie.min.y)).multiplyBy(b);f.panBy(Be,{animate:!1}),this._draggable._newPos._add(Be),this._draggable._startPos._add(Be),qt(h._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=z(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(I(this._panRequest),this._panRequest=z(this._adjustPan.bind(this,l)))},_onDrag:function(l){var h=this._marker,f=h._shadow,b=zo(h._icon),E=h._map.layerPointToLatLng(b);f&&qt(f,b),h._latlng=E,l.latlng=E,l.oldLatLng=this._oldLatLng,h.fire("move",l).fire("drag",l)},_onDragEnd:function(l){I(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),za=ci.extend({options:{icon:new gs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,h){g(this,h),this._latlng=ce(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var h=this._latlng;return this._latlng=ce(l),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=l.icon.createIcon(this._icon),b=!1;f!==this._icon&&(this._icon&&this._removeIcon(),b=!0,l.title&&(f.title=l.title),f.tagName==="IMG"&&(f.alt=l.alt||"")),ct(f,h),l.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&at(f,"focus",this._panOnFocus,this);var E=l.icon.createShadow(this._shadow),V=!1;E!==this._shadow&&(this._removeShadow(),V=!0),E&&(ct(E,h),E.alt=""),this._shadow=E,l.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&V&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&At(this._icon,"focus",this._panOnFocus,this),$t(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&$t(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&qt(this._icon,l),this._shadow&&qt(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(ct(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ym)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ym(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&Xn(this._icon,l),this._shadow&&Xn(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var h=this.options.icon.options,f=h.iconSize?O(h.iconSize):O(0,0),b=h.iconAnchor?O(h.iconAnchor):O(0,0);l.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:f.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function uv(l,h){return new za(l,h)}var fo=ci.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return g(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ba=fo.extend({options:{fill:!0,radius:10},initialize:function(l,h){g(this,h),this._latlng=ce(l),this._radius=this.options.radius},setLatLng:function(l){var h=this._latlng;return this._latlng=ce(l),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var h=l&&l.radius||this._radius;return fo.prototype.setStyle.call(this,l),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,h=this._radiusY||l,f=this._clickTolerance(),b=[l+f,h+f];this._pxBounds=new ne(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function mv(l,h){return new Ba(l,h)}var bc=Ba.extend({initialize:function(l,h,f){if(typeof h=="number"&&(h=r({},f,{radius:h})),g(this,h),this._latlng=ce(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new Q(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:fo.prototype.setStyle,_project:function(){var l=this._latlng.lng,h=this._latlng.lat,f=this._map,b=f.options.crs;if(b.distance===Te.distance){var E=Math.PI/180,V=this._mRadius/Te.R/E,le=f.project([h+V,l]),Ce=f.project([h-V,l]),Ie=le.add(Ce).divideBy(2),Be=f.unproject(Ie).lat,Ze=Math.acos((Math.cos(V*E)-Math.sin(h*E)*Math.sin(Be*E))/(Math.cos(h*E)*Math.cos(Be*E)))/E;(isNaN(Ze)||Ze===0)&&(Ze=V/Math.cos(Math.PI/180*h)),this._point=Ie.subtract(f.getPixelOrigin()),this._radius=isNaN(Ze)?0:Ie.x-f.project([Be,l-Ze]).x,this._radiusY=Ie.y-le.y}else{var it=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(it).x}this._updateBounds()}});function pv(l,h,f){return new bc(l,h,f)}var Qi=fo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,h){g(this,h),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var h=1/0,f=null,b=fs,E,V,le=0,Ce=this._parts.length;le<Ce;le++)for(var Ie=this._parts[le],Be=1,Ze=Ie.length;Be<Ze;Be++){E=Ie[Be-1],V=Ie[Be];var it=b(l,E,V,!0);it<h&&(h=it,f=b(l,E,V))}return f&&(f.distance=Math.sqrt(h)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Zm(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,h){return h=h||this._defaultShape(),l=ce(l),h.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new Q,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return ei(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var h=[],f=ei(l),b=0,E=l.length;b<E;b++)f?(h[b]=ce(l[b]),this._bounds.extend(h[b])):h[b]=this._convertLatLngs(l[b]);return h},_project:function(){var l=new ne;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),h=new U(l,l);this._rawPxBounds&&(this._pxBounds=new ne([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(l,h,f){var b=l[0]instanceof X,E=l.length,V,le;if(b){for(le=[],V=0;V<E;V++)le[V]=this._map.latLngToLayerPoint(l[V]),f.extend(le[V]);h.push(le)}else for(V=0;V<E;V++)this._projectLatlngs(l[V],h,f)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,f,b,E,V,le,Ce,Ie;for(f=0,E=0,V=this._rings.length;f<V;f++)for(Ie=this._rings[f],b=0,le=Ie.length;b<le-1;b++)Ce=Gm(Ie[b],Ie[b+1],l,b,!0),Ce&&(h[E]=h[E]||[],h[E].push(Ce[0]),(Ce[1]!==Ie[b+1]||b===le-2)&&(h[E].push(Ce[1]),E++))}},_simplifyPoints:function(){for(var l=this._parts,h=this.options.smoothFactor,f=0,b=l.length;f<b;f++)l[f]=Vm(l[f],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,h){var f,b,E,V,le,Ce,Ie=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(f=0,V=this._parts.length;f<V;f++)for(Ce=this._parts[f],b=0,le=Ce.length,E=le-1;b<le;E=b++)if(!(!h&&b===0)&&Hm(l,Ce[E],Ce[b])<=Ie)return!0;return!1}});function fv(l,h){return new Qi(l,h)}Qi._flat=Wm;var fr=Qi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return qm(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var h=Qi.prototype._convertLatLngs.call(this,l),f=h.length;return f>=2&&h[0]instanceof X&&h[0].equals(h[f-1])&&h.pop(),h},_setLatLngs:function(l){Qi.prototype._setLatLngs.call(this,l),ei(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ei(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,h=this.options.weight,f=new U(h,h);if(l=new ne(l.min.subtract(f),l.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,E=this._rings.length,V;b<E;b++)V=jm(this._rings[b],l,!0),V.length&&this._parts.push(V)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var h=!1,f,b,E,V,le,Ce,Ie,Be;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(V=0,Ie=this._parts.length;V<Ie;V++)for(f=this._parts[V],le=0,Be=f.length,Ce=Be-1;le<Be;Ce=le++)b=f[le],E=f[Ce],b.y>l.y!=E.y>l.y&&l.x<(E.x-b.x)*(l.y-b.y)/(E.y-b.y)+b.x&&(h=!h);return h||Qi.prototype._containsPoint.call(this,l,!0)}});function gv(l,h){return new fr(l,h)}var Yi=Zi.extend({initialize:function(l,h){g(this,h),this._layers={},l&&this.addData(l)},addData:function(l){var h=w(l)?l:l.features,f,b,E;if(h){for(f=0,b=h.length;f<b;f++)E=h[f],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var V=this.options;if(V.filter&&!V.filter(l))return this;var le=ja(l,V);return le?(le.feature=Ha(l),le.defaultOptions=le.options,this.resetStyle(le),V.onEachFeature&&V.onEachFeature(l,le),this.addLayer(le)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=r({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(h){this._setLayerStyle(h,l)},this)},_setLayerStyle:function(l,h){l.setStyle&&(typeof h=="function"&&(h=h(l.feature)),l.setStyle(h))}});function ja(l,h){var f=l.type==="Feature"?l.geometry:l,b=f?f.coordinates:null,E=[],V=h&&h.pointToLayer,le=h&&h.coordsToLatLng||Cc,Ce,Ie,Be,Ze;if(!b&&!f)return null;switch(f.type){case"Point":return Ce=le(b),Jm(V,l,Ce,h);case"MultiPoint":for(Be=0,Ze=b.length;Be<Ze;Be++)Ce=le(b[Be]),E.push(Jm(V,l,Ce,h));return new Zi(E);case"LineString":case"MultiLineString":return Ie=qa(b,f.type==="LineString"?0:1,le),new Qi(Ie,h);case"Polygon":case"MultiPolygon":return Ie=qa(b,f.type==="Polygon"?1:2,le),new fr(Ie,h);case"GeometryCollection":for(Be=0,Ze=f.geometries.length;Be<Ze;Be++){var it=ja({geometry:f.geometries[Be],type:"Feature",properties:l.properties},h);it&&E.push(it)}return new Zi(E);case"FeatureCollection":for(Be=0,Ze=f.features.length;Be<Ze;Be++){var pt=ja(f.features[Be],h);pt&&E.push(pt)}return new Zi(E);default:throw new Error("Invalid GeoJSON object.")}}function Jm(l,h,f,b){return l?l(h,f):new za(f,b&&b.markersInheritOptions&&b)}function Cc(l){return new X(l[1],l[0],l[2])}function qa(l,h,f){for(var b=[],E=0,V=l.length,le;E<V;E++)le=h?qa(l[E],h-1,f):(f||Cc)(l[E]),b.push(le);return b}function Sc(l,h){return l=ce(l),l.alt!==void 0?[u(l.lng,h),u(l.lat,h),u(l.alt,h)]:[u(l.lng,h),u(l.lat,h)]}function Va(l,h,f,b){for(var E=[],V=0,le=l.length;V<le;V++)E.push(h?Va(l[V],ei(l[V])?0:h-1,f,b):Sc(l[V],b));return!h&&f&&E.length>0&&E.push(E[0].slice()),E}function gr(l,h){return l.feature?r({},l.feature,{geometry:h}):Ha(h)}function Ha(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var Tc={toGeoJSON:function(l){return gr(this,{type:"Point",coordinates:Sc(this.getLatLng(),l)})}};za.include(Tc),bc.include(Tc),Ba.include(Tc),Qi.include({toGeoJSON:function(l){var h=!ei(this._latlngs),f=Va(this._latlngs,h?1:0,!1,l);return gr(this,{type:(h?"Multi":"")+"LineString",coordinates:f})}}),fr.include({toGeoJSON:function(l){var h=!ei(this._latlngs),f=h&&!ei(this._latlngs[0]),b=Va(this._latlngs,f?2:h?1:0,!0,l);return h||(b=[b]),gr(this,{type:(f?"Multi":"")+"Polygon",coordinates:b})}}),mr.include({toMultiPoint:function(l){var h=[];return this.eachLayer(function(f){h.push(f.toGeoJSON(l).geometry.coordinates)}),gr(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(l){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(l);var f=h==="GeometryCollection",b=[];return this.eachLayer(function(E){if(E.toGeoJSON){var V=E.toGeoJSON(l);if(f)b.push(V.geometry);else{var le=Ha(V);le.type==="FeatureCollection"?b.push.apply(b,le.features):b.push(le)}}}),f?gr(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function Km(l,h){return new Yi(l,h)}var vv=Km,Ua=ci.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,h,f){this._url=l,this._bounds=ue(h),g(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ct(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){$t(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&hr(this._image),this},bringToBack:function(){return this._map&&ur(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=ue(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",h=this._image=l?this._url:yt("img");if(ct(h,"leaflet-image-layer"),this._zoomAnimated&&ct(h,"leaflet-zoom-animated"),this.options.className&&ct(h,this.options.className),h.onselectstart=c,h.onmousemove=c,h.onload=e(this.fire,this,"load"),h.onerror=e(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(l){var h=this._map.getZoomScale(l.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;$o(this._image,f,h)},_reset:function(){var l=this._image,h=new ne(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=h.getSize();qt(l,h.min),l.style.width=f.x+"px",l.style.height=f.y+"px"},_updateOpacity:function(){Xn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),yv=function(l,h,f){return new Ua(l,h,f)},Xm=Ua.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",h=this._image=l?this._url:yt("video");if(ct(h,"leaflet-image-layer"),this._zoomAnimated&&ct(h,"leaflet-zoom-animated"),this.options.className&&ct(h,this.options.className),h.onselectstart=c,h.onmousemove=c,h.onloadeddata=e(this.fire,this,"load"),l){for(var f=h.getElementsByTagName("source"),b=[],E=0;E<f.length;E++)b.push(f[E].src);this._url=f.length>0?b:[h.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var V=0;V<this._url.length;V++){var le=yt("source");le.src=this._url[V],h.appendChild(le)}}});function wv(l,h,f){return new Xm(l,h,f)}var ep=Ua.extend({_initImage:function(){var l=this._image=this._url;ct(l,"leaflet-image-layer"),this._zoomAnimated&&ct(l,"leaflet-zoom-animated"),this.options.className&&ct(l,this.options.className),l.onselectstart=c,l.onmousemove=c}});function _v(l,h,f){return new ep(l,h,f)}var Ci=ci.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,h){l&&(l instanceof X||w(l))?(this._latlng=ce(l),g(this,h)):(g(this,l),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&Xn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&Xn(this._container,1),this.bringToFront(),this.options.interactive&&(ct(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(Xn(this._container,0),this._removeTimeout=setTimeout(e($t,void 0,this._container),200)):$t(this._container),this.options.interactive&&(jt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=ce(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&hr(this._container),this},bringToBack:function(){return this._map&&ur(this._container),this},_prepareOpen:function(l){var h=this._source;if(!h._map)return!1;if(h instanceof Zi){h=null;var f=this._source._layers;for(var b in f)if(f[b]._map){h=f[b];break}if(!h)return!1;this._source=h}if(!l)if(h.getCenter)l=h.getCenter();else if(h.getLatLng)l=h.getLatLng();else if(h.getBounds)l=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")l.innerHTML=h;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),h=O(this.options.offset),f=this._getAnchor();this._zoomAnimated?qt(this._container,l.add(f)):h=h.add(l).add(f);var b=this._containerBottom=-h.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=b+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});gt.include({_initOverlay:function(l,h,f,b){var E=h;return E instanceof l||(E=new l(b).setContent(h)),f&&E.setLatLng(f),E}}),ci.include({_initOverlay:function(l,h,f,b){var E=f;return E instanceof l?(g(E,b),E._source=this):(E=h&&!b?h:new l(b,this),E.setContent(f)),E}});var Ga=Ci.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,Ci.prototype.openOn.call(this,l)},onAdd:function(l){Ci.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof fo||this._source.on("preclick",Bo))},onRemove:function(l){Ci.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof fo||this._source.off("preclick",Bo))},getEvents:function(){var l=Ci.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",h=this._container=yt("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=yt("div",l+"-content-wrapper",h);if(this._contentNode=yt("div",l+"-content",f),ms(h),fc(this._contentNode),at(h,"contextmenu",Bo),this._tipContainer=yt("div",l+"-tip-container",h),this._tip=yt("div",l+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=yt("a",l+"-close-button",h);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',at(b,"click",function(E){sn(E),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,h=l.style;h.width="",h.whiteSpace="nowrap";var f=l.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),h.width=f+1+"px",h.whiteSpace="",h.height="";var b=l.offsetHeight,E=this.options.maxHeight,V="leaflet-popup-scrolled";E&&b>E?(h.height=E+"px",ct(l,V)):jt(l,V),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),f=this._getAnchor();qt(this._container,h.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,h=parseInt(ds(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+h,b=this._containerWidth,E=new U(this._containerLeft,-f-this._containerBottom);E._add(zo(this._container));var V=l.layerPointToContainerPoint(E),le=O(this.options.autoPanPadding),Ce=O(this.options.autoPanPaddingTopLeft||le),Ie=O(this.options.autoPanPaddingBottomRight||le),Be=l.getSize(),Ze=0,it=0;V.x+b+Ie.x>Be.x&&(Ze=V.x+b-Be.x+Ie.x),V.x-Ze-Ce.x<0&&(Ze=V.x-Ce.x),V.y+f+Ie.y>Be.y&&(it=V.y+f-Be.y+Ie.y),V.y-it-Ce.y<0&&(it=V.y-Ce.y),(Ze||it)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([Ze,it]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xv=function(l,h){return new Ga(l,h)};gt.mergeOptions({closePopupOnClick:!0}),gt.include({openPopup:function(l,h,f){return this._initOverlay(Ga,l,h,f).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),ci.include({bindPopup:function(l,h){return this._popup=this._initOverlay(Ga,this._popup,l,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof Zi||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){jo(l);var h=l.layer||l.target;if(this._popup._source===h&&!(h instanceof fo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=h,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var Wa=Ci.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){Ci.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){Ci.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=Ci.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",h=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=yt("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var h,f,b=this._map,E=this._container,V=b.latLngToContainerPoint(b.getCenter()),le=b.layerPointToContainerPoint(l),Ce=this.options.direction,Ie=E.offsetWidth,Be=E.offsetHeight,Ze=O(this.options.offset),it=this._getAnchor();Ce==="top"?(h=Ie/2,f=Be):Ce==="bottom"?(h=Ie/2,f=0):Ce==="center"?(h=Ie/2,f=Be/2):Ce==="right"?(h=0,f=Be/2):Ce==="left"?(h=Ie,f=Be/2):le.x<V.x?(Ce="right",h=0,f=Be/2):(Ce="left",h=Ie+(Ze.x+it.x)*2,f=Be/2),l=l.subtract(O(h,f,!0)).add(Ze).add(it),jt(E,"leaflet-tooltip-right"),jt(E,"leaflet-tooltip-left"),jt(E,"leaflet-tooltip-top"),jt(E,"leaflet-tooltip-bottom"),ct(E,"leaflet-tooltip-"+Ce),qt(E,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&Xn(this._container,l)},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(h)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Nv=function(l,h){return new Wa(l,h)};gt.include({openTooltip:function(l,h,f){return this._initOverlay(Wa,l,h,f).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),ci.include({bindTooltip:function(l,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Wa,this._tooltip,l,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var h=l?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[h](f),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof Zi||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var h=typeof l.getElement=="function"&&l.getElement();h&&(at(h,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),at(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var h=typeof l.getElement=="function"&&l.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var h=l.latlng,f,b;this._tooltip.options.sticky&&l.originalEvent&&(f=this._map.mouseEventToContainerPoint(l.originalEvent),b=this._map.containerPointToLayerPoint(f),h=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(h)}});var tp=pr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var h=l&&l.tagName==="DIV"?l:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Ma(h),h.appendChild(f.html)):h.innerHTML=f.html!==!1?f.html:"",f.bgPos){var b=O(f.bgPos);h.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function bv(l){return new tp(l)}pr.Default=gs;var vs=ci.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){g(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),$t(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(hr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ur(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof U?l:new U(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var h=this.getPane().children,f=-l(-1/0,1/0),b=0,E=h.length,V;b<E;b++)V=h[b].style.zIndex,h[b]!==this._container&&V&&(f=l(f,+V));isFinite(f)&&(this.options.zIndex=f+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ke.ielt9){Xn(this._container,this.options.opacity);var l=+new Date,h=!1,f=!1;for(var b in this._tiles){var E=this._tiles[b];if(!(!E.current||!E.loaded)){var V=Math.min(1,(l-E.loaded)/200);Xn(E.el,V),V<1?h=!0:(E.active?f=!0:this._onOpaqueTile(E),E.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),h&&(I(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,h=this.options.maxZoom;if(l!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===l?(this._levels[f].el.style.zIndex=h-Math.abs(l-f),this._onUpdateLevel(f)):($t(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var b=this._levels[l],E=this._map;return b||(b=this._levels[l]={},b.el=yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=h,b.origin=E.project(E.unproject(E.getPixelOrigin()),l).round(),b.zoom=l,this._setZoomTransform(b,E.getCenter(),E.getZoom()),c(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var l,h,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)h=this._tiles[l],h.retain=h.current;for(l in this._tiles)if(h=this._tiles[l],h.current&&!h.active){var b=h.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var h in this._tiles)this._tiles[h].coords.z===l&&this._removeTile(h)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)$t(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,h,f,b){var E=Math.floor(l/2),V=Math.floor(h/2),le=f-1,Ce=new U(+E,+V);Ce.z=+le;var Ie=this._tileCoordsToKey(Ce),Be=this._tiles[Ie];return Be&&Be.active?(Be.retain=!0,!0):(Be&&Be.loaded&&(Be.retain=!0),le>b?this._retainParent(E,V,le,b):!1)},_retainChildren:function(l,h,f,b){for(var E=2*l;E<2*l+2;E++)for(var V=2*h;V<2*h+2;V++){var le=new U(E,V);le.z=f+1;var Ce=this._tileCoordsToKey(le),Ie=this._tiles[Ce];if(Ie&&Ie.active){Ie.retain=!0;continue}else Ie&&Ie.loaded&&(Ie.retain=!0);f+1<b&&this._retainChildren(E,V,f+1,b)}},_resetView:function(l){var h=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var h=this.options;return h.minNativeZoom!==void 0&&l<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<l?h.maxNativeZoom:l},_setView:function(l,h,f,b){var E=Math.round(h);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var V=this.options.updateWhenZooming&&E!==this._tileZoom;(!b||V)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(l),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(l,h)},_setZoomTransforms:function(l,h){for(var f in this._levels)this._setZoomTransform(this._levels[f],l,h)},_setZoomTransform:function(l,h,f){var b=this._map.getZoomScale(f,l.zoom),E=l.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(h,f)).round();Ke.any3d?$o(l.el,E,b):qt(l.el,E)},_resetGrid:function(){var l=this._map,h=l.options.crs,f=this._tileSize=this.getTileSize(),b=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,h.wrapLng[0]],b).x/f.x),Math.ceil(l.project([0,h.wrapLng[1]],b).x/f.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([h.wrapLat[0],0],b).y/f.x),Math.ceil(l.project([h.wrapLat[1],0],b).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var h=this._map,f=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),b=h.getZoomScale(f,this._tileZoom),E=h.project(l,this._tileZoom).floor(),V=h.getSize().divideBy(b*2);return new ne(E.subtract(V),E.add(V))},_update:function(l){var h=this._map;if(h){var f=this._clampZoom(h.getZoom());if(l===void 0&&(l=h.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(l),E=this._pxBoundsToTileRange(b),V=E.getCenter(),le=[],Ce=this.options.keepBuffer,Ie=new ne(E.getBottomLeft().subtract([Ce,-Ce]),E.getTopRight().add([Ce,-Ce]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Be in this._tiles){var Ze=this._tiles[Be].coords;(Ze.z!==this._tileZoom||!Ie.contains(new U(Ze.x,Ze.y)))&&(this._tiles[Be].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(l,f);return}for(var it=E.min.y;it<=E.max.y;it++)for(var pt=E.min.x;pt<=E.max.x;pt++){var wn=new U(pt,it);if(wn.z=this._tileZoom,!!this._isValidTile(wn)){var tn=this._tiles[this._tileCoordsToKey(wn)];tn?tn.current=!0:le.push(wn)}}if(le.sort(function(Ln,yr){return Ln.distanceTo(V)-yr.distanceTo(V)}),le.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ti=document.createDocumentFragment();for(pt=0;pt<le.length;pt++)this._addTile(le[pt],ti);this._level.el.appendChild(ti)}}}},_isValidTile:function(l){var h=this._map.options.crs;if(!h.infinite){var f=this._globalTileRange;if(!h.wrapLng&&(l.x<f.min.x||l.x>f.max.x)||!h.wrapLat&&(l.y<f.min.y||l.y>f.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(l);return ue(this.options.bounds).overlaps(b)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var h=this._map,f=this.getTileSize(),b=l.scaleBy(f),E=b.add(f),V=h.unproject(b,l.z),le=h.unproject(E,l.z);return[V,le]},_tileCoordsToBounds:function(l){var h=this._tileCoordsToNwSe(l),f=new Q(h[0],h[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var h=l.split(":"),f=new U(+h[0],+h[1]);return f.z=+h[2],f},_removeTile:function(l){var h=this._tiles[l];h&&($t(h.el),delete this._tiles[l],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){ct(l,"leaflet-tile");var h=this.getTileSize();l.style.width=h.x+"px",l.style.height=h.y+"px",l.onselectstart=c,l.onmousemove=c,Ke.ielt9&&this.options.opacity<1&&Xn(l,this.options.opacity)},_addTile:function(l,h){var f=this._getTilePos(l),b=this._tileCoordsToKey(l),E=this.createTile(this._wrapCoords(l),e(this._tileReady,this,l));this._initTile(E),this.createTile.length<2&&z(e(this._tileReady,this,l,null,E)),qt(E,f),this._tiles[b]={el:E,coords:l,current:!0},h.appendChild(E),this.fire("tileloadstart",{tile:E,coords:l})},_tileReady:function(l,h,f){h&&this.fire("tileerror",{error:h,tile:f,coords:l});var b=this._tileCoordsToKey(l);f=this._tiles[b],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Xn(f.el,0),I(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),h||(ct(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ke.ielt9||!this._map._fadeAnimated?z(this._pruneTiles,this):setTimeout(e(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var h=new U(this._wrapX?s(l.x,this._wrapX):l.x,this._wrapY?s(l.y,this._wrapY):l.y);return h.z=l.z,h},_pxBoundsToTileRange:function(l){var h=this.getTileSize();return new ne(l.min.unscaleBy(h).floor(),l.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function Cv(l){return new vs(l)}var vr=vs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,h){this._url=l,h=g(this,h),h.detectRetina&&Ke.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,h){return this._url===l&&h===void 0&&(h=!0),this._url=l,h||this.redraw(),this},createTile:function(l,h){var f=document.createElement("img");return at(f,"load",e(this._tileOnLoad,this,h,f)),at(f,"error",e(this._tileOnError,this,h,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(l),f},getTileUrl:function(l){var h={r:Ke.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-l.y;this.options.tms&&(h.y=f),h["-y"]=f}return y(this._url,r(h,this.options))},_tileOnLoad:function(l,h){Ke.ielt9?setTimeout(e(l,this,null,h),0):l(null,h)},_tileOnError:function(l,h,f){var b=this.options.errorTileUrl;b&&h.getAttribute("src")!==b&&(h.src=b),l(f,h)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,h=this.options.maxZoom,f=this.options.zoomReverse,b=this.options.zoomOffset;return f&&(l=h-l),l+b},_getSubdomain:function(l){var h=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var l,h;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(h=this._tiles[l].el,h.onload=c,h.onerror=c,!h.complete)){h.src=P;var f=this._tiles[l].coords;$t(h),delete this._tiles[l],this.fire("tileabort",{tile:h,coords:f})}},_removeTile:function(l){var h=this._tiles[l];if(h)return h.el.setAttribute("src",P),vs.prototype._removeTile.call(this,l)},_tileReady:function(l,h,f){if(!(!this._map||f&&f.getAttribute("src")===P))return vs.prototype._tileReady.call(this,l,h,f)}});function np(l,h){return new vr(l,h)}var ip=vr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,h){this._url=l;var f=r({},this.defaultWmsParams);for(var b in h)b in this.options||(f[b]=h[b]);h=g(this,h);var E=h.detectRetina&&Ke.retina?2:1,V=this.getTileSize();f.width=V.x*E,f.height=V.y*E,this.wmsParams=f},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,vr.prototype.onAdd.call(this,l)},getTileUrl:function(l){var h=this._tileCoordsToNwSe(l),f=this._crs,b=he(f.project(h[0]),f.project(h[1])),E=b.min,V=b.max,le=(this._wmsVersion>=1.3&&this._crs===Qm?[E.y,E.x,V.y,V.x]:[E.x,E.y,V.x,V.y]).join(","),Ce=vr.prototype.getTileUrl.call(this,l);return Ce+v(this.wmsParams,Ce,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+le},setParams:function(l,h){return r(this.wmsParams,l),h||this.redraw(),this}});function Sv(l,h){return new ip(l,h)}vr.WMS=ip,np.wms=Sv;var Ji=ci.extend({options:{padding:.1},initialize:function(l){g(this,l),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ct(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,h){var f=this._map.getZoomScale(h,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,h),V=b.multiplyBy(-f).add(E).subtract(this._map._getNewPixelOrigin(l,h));Ke.any3d?$o(this._container,V,f):qt(this._container,V)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,h=this._map.getSize(),f=this._map.containerPointToLayerPoint(h.multiplyBy(-l)).round();this._bounds=new ne(f,f.add(h.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),op=Ji.extend({options:{tolerance:0},getEvents:function(){var l=Ji.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ji.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");at(l,"mousemove",this._onMouseMove,this),at(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),at(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){I(this._redrawRequest),delete this._ctx,$t(this._container),At(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var h in this._layers)l=this._layers[h],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ji.prototype._update.call(this);var l=this._bounds,h=this._container,f=l.getSize(),b=Ke.retina?2:1;qt(h,l.min),h.width=b*f.x,h.height=b*f.y,h.style.width=f.x+"px",h.style.height=f.y+"px",Ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){Ji.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[a(l)]=l;var h=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var h=l._order,f=h.next,b=h.prev;f?f.prev=b:this._drawLast=b,b?b.next=f:this._drawFirst=f,delete l._order,delete this._layers[a(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var h=l.options.dashArray.split(/[, ]+/),f=[],b,E;for(E=0;E<h.length;E++){if(b=Number(h[E]),isNaN(b))return;f.push(b)}l.options._dashArray=f}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||z(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var h=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ne,this._redrawBounds.extend(l._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(l._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var h=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,h=this._redrawBounds;if(this._ctx.save(),h){var f=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)l=b.layer,(!h||l._pxBounds&&l._pxBounds.intersects(h))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,h){if(this._drawing){var f,b,E,V,le=l._parts,Ce=le.length,Ie=this._ctx;if(Ce){for(Ie.beginPath(),f=0;f<Ce;f++){for(b=0,E=le[f].length;b<E;b++)V=le[f][b],Ie[b?"lineTo":"moveTo"](V.x,V.y);h&&Ie.closePath()}this._fillStroke(Ie,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var h=l._point,f=this._ctx,b=Math.max(Math.round(l._radius),1),E=(Math.max(Math.round(l._radiusY),1)||b)/b;E!==1&&(f.save(),f.scale(1,E)),f.beginPath(),f.arc(h.x,h.y/E,b,0,Math.PI*2,!1),E!==1&&f.restore(),this._fillStroke(f,l)}},_fillStroke:function(l,h){var f=h.options;f.fill&&(l.globalAlpha=f.fillOpacity,l.fillStyle=f.fillColor||f.color,l.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(l.setLineDash&&l.setLineDash(h.options&&h.options._dashArray||[]),l.globalAlpha=f.opacity,l.lineWidth=f.weight,l.strokeStyle=f.color,l.lineCap=f.lineCap,l.lineJoin=f.lineJoin,l.stroke())},_onClick:function(l){for(var h=this._map.mouseEventToLayerPoint(l),f,b,E=this._drawFirst;E;E=E.next)f=E.layer,f.options.interactive&&f._containsPoint(h)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(f))&&(b=f);this._fireEvent(b?[b]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,h)}},_handleMouseOut:function(l){var h=this._hoveredLayer;h&&(jt(this._container,"leaflet-interactive"),this._fireEvent([h],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,h){if(!this._mouseHoverThrottled){for(var f,b,E=this._drawFirst;E;E=E.next)f=E.layer,f.options.interactive&&f._containsPoint(h)&&(b=f);b!==this._hoveredLayer&&(this._handleMouseOut(l),b&&(ct(this._container,"leaflet-interactive"),this._fireEvent([b],l,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(e(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,h,f){this._map._fireDOMEvent(h,f||h.type,l)},_bringToFront:function(l){var h=l._order;if(h){var f=h.next,b=h.prev;if(f)f.prev=b;else return;b?b.next=f:f&&(this._drawFirst=f),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(l)}},_bringToBack:function(l){var h=l._order;if(h){var f=h.next,b=h.prev;if(b)b.next=f;else return;f?f.prev=b:b&&(this._drawLast=b),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(l)}}});function rp(l){return Ke.canvas?new op(l):null}var ys=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Tv={_initContainer:function(){this._container=yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ji.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var h=l._container=ys("shape");ct(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",l._path=ys("path"),h.appendChild(l._path),this._updateStyle(l),this._layers[a(l)]=l},_addPath:function(l){var h=l._container;this._container.appendChild(h),l.options.interactive&&l.addInteractiveTarget(h)},_removePath:function(l){var h=l._container;$t(h),l.removeInteractiveTarget(h),delete this._layers[a(l)]},_updateStyle:function(l){var h=l._stroke,f=l._fill,b=l.options,E=l._container;E.stroked=!!b.stroke,E.filled=!!b.fill,b.stroke?(h||(h=l._stroke=ys("stroke")),E.appendChild(h),h.weight=b.weight+"px",h.color=b.color,h.opacity=b.opacity,b.dashArray?h.dashStyle=w(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=b.lineCap.replace("butt","flat"),h.joinstyle=b.lineJoin):h&&(E.removeChild(h),l._stroke=null),b.fill?(f||(f=l._fill=ys("fill")),E.appendChild(f),f.color=b.fillColor||b.color,f.opacity=b.fillOpacity):f&&(E.removeChild(f),l._fill=null)},_updateCircle:function(l){var h=l._point.round(),f=Math.round(l._radius),b=Math.round(l._radiusY||f);this._setPath(l,l._empty()?"M0 0":"AL "+h.x+","+h.y+" "+f+","+b+" 0,"+65535*360)},_setPath:function(l,h){l._path.v=h},_bringToFront:function(l){hr(l._container)},_bringToBack:function(l){ur(l._container)}},Za=Ke.vml?ys:W,ws=Ji.extend({_initContainer:function(){this._container=Za("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Za("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){$t(this._container),At(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ji.prototype._update.call(this);var l=this._bounds,h=l.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,f.setAttribute("width",h.x),f.setAttribute("height",h.y)),qt(f,l.min),f.setAttribute("viewBox",[l.min.x,l.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(l){var h=l._path=Za("path");l.options.className&&ct(h,l.options.className),l.options.interactive&&ct(h,"leaflet-interactive"),this._updateStyle(l),this._layers[a(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){$t(l._path),l.removeInteractiveTarget(l._path),delete this._layers[a(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var h=l._path,f=l.options;h&&(f.stroke?(h.setAttribute("stroke",f.color),h.setAttribute("stroke-opacity",f.opacity),h.setAttribute("stroke-width",f.weight),h.setAttribute("stroke-linecap",f.lineCap),h.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?h.setAttribute("stroke-dasharray",f.dashArray):h.removeAttribute("stroke-dasharray"),f.dashOffset?h.setAttribute("stroke-dashoffset",f.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),f.fill?(h.setAttribute("fill",f.fillColor||f.color),h.setAttribute("fill-opacity",f.fillOpacity),h.setAttribute("fill-rule",f.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(l,h){this._setPath(l,pe(l._parts,h))},_updateCircle:function(l){var h=l._point,f=Math.max(Math.round(l._radius),1),b=Math.max(Math.round(l._radiusY),1)||f,E="a"+f+","+b+" 0 1,0 ",V=l._empty()?"M0 0":"M"+(h.x-f)+","+h.y+E+f*2+",0 "+E+-f*2+",0 ";this._setPath(l,V)},_setPath:function(l,h){l._path.setAttribute("d",h)},_bringToFront:function(l){hr(l._path)},_bringToBack:function(l){ur(l._path)}});Ke.vml&&ws.include(Tv);function sp(l){return Ke.svg||Ke.vml?new ws(l):null}gt.include({getRenderer:function(l){var h=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var h=this._paneRenderers[l];return h===void 0&&(h=this._createRenderer({pane:l}),this._paneRenderers[l]=h),h},_createRenderer:function(l){return this.options.preferCanvas&&rp(l)||sp(l)}});var ap=fr.extend({initialize:function(l,h){fr.prototype.initialize.call(this,this._boundsToLatLngs(l),h)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=ue(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function Iv(l,h){return new ap(l,h)}ws.create=Za,ws.pointsToPath=pe,Yi.geometryToLayer=ja,Yi.coordsToLatLng=Cc,Yi.coordsToLatLngs=qa,Yi.latLngToCoords=Sc,Yi.latLngsToCoords=Va,Yi.getFeature=gr,Yi.asFeature=Ha,gt.mergeOptions({boxZoom:!0});var lp=bi.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){at(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){At(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){$t(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),cs(),ac(),this._startPoint=this._map.mouseEventToContainerPoint(l),at(document,{contextmenu:jo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=yt("div","leaflet-zoom-box",this._container),ct(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var h=new ne(this._point,this._startPoint),f=h.getSize();qt(this._box,h.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&($t(this._box),jt(this._container,"leaflet-crosshair")),hs(),lc(),At(document,{contextmenu:jo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(e(this._resetState,this),0);var h=new Q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});gt.addInitHook("addHandler","boxZoom",lp),gt.mergeOptions({doubleClickZoom:!0});var dp=bi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var h=this._map,f=h.getZoom(),b=h.options.zoomDelta,E=l.originalEvent.shiftKey?f-b:f+b;h.options.doubleClickZoom==="center"?h.setZoom(E):h.setZoomAround(l.containerPoint,E)}});gt.addInitHook("addHandler","doubleClickZoom",dp),gt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var cp=bi.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new po(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}ct(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){jt(this._map._container,"leaflet-grab"),jt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=ue(this._map.options.maxBounds);this._offsetLimit=he(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var h=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(h),this._prunePositions(h)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,h){return l-(l-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;l.x<h.min.x&&(l.x=this._viscousLimit(l.x,h.min.x)),l.y<h.min.y&&(l.y=this._viscousLimit(l.y,h.min.y)),l.x>h.max.x&&(l.x=this._viscousLimit(l.x,h.max.x)),l.y>h.max.y&&(l.y=this._viscousLimit(l.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,h=Math.round(l/2),f=this._initialWorldOffset,b=this._draggable._newPos.x,E=(b-h+f)%l+h-f,V=(b+h+f)%l-h-f,le=Math.abs(E+f)<Math.abs(V+f)?E:V;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=le},_onDragEnd:function(l){var h=this._map,f=h.options,b=!f.inertia||l.noInertia||this._times.length<2;if(h.fire("dragend",l),b)h.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),V=(this._lastTime-this._times[0])/1e3,le=f.easeLinearity,Ce=E.multiplyBy(le/V),Ie=Ce.distanceTo([0,0]),Be=Math.min(f.inertiaMaxSpeed,Ie),Ze=Ce.multiplyBy(Be/Ie),it=Be/(f.inertiaDeceleration*le),pt=Ze.multiplyBy(-it/2).round();!pt.x&&!pt.y?h.fire("moveend"):(pt=h._limitOffset(pt,h.options.maxBounds),z(function(){h.panBy(pt,{duration:it,easeLinearity:le,noMoveStart:!0,animate:!0})}))}}});gt.addInitHook("addHandler","dragging",cp),gt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hp=bi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),at(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),At(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,h=document.documentElement,f=l.scrollTop||h.scrollTop,b=l.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(b,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var h=this._panKeys={},f=this.keyCodes,b,E;for(b=0,E=f.left.length;b<E;b++)h[f.left[b]]=[-1*l,0];for(b=0,E=f.right.length;b<E;b++)h[f.right[b]]=[l,0];for(b=0,E=f.down.length;b<E;b++)h[f.down[b]]=[0,l];for(b=0,E=f.up.length;b<E;b++)h[f.up[b]]=[0,-1*l]},_setZoomDelta:function(l){var h=this._zoomKeys={},f=this.keyCodes,b,E;for(b=0,E=f.zoomIn.length;b<E;b++)h[f.zoomIn[b]]=l;for(b=0,E=f.zoomOut.length;b<E;b++)h[f.zoomOut[b]]=-l},_addHooks:function(){at(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){At(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var h=l.keyCode,f=this._map,b;if(h in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(b=this._panKeys[h],l.shiftKey&&(b=O(b).multiplyBy(3)),f.options.maxBounds&&(b=f._limitOffset(O(b),f.options.maxBounds)),f.options.worldCopyJump){var E=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(b)));f.panTo(E)}else f.panBy(b)}else if(h in this._zoomKeys)f.setZoom(f.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;jo(l)}}});gt.addInitHook("addHandler","keyboard",hp),gt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var up=bi.extend({addHooks:function(){at(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){At(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var h=Dm(l),f=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var b=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(e(this._performZoom,this),b),jo(l)},_performZoom:function(){var l=this._map,h=l.getZoom(),f=this._map.options.zoomSnap||0;l._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,V=f?Math.ceil(E/f)*f:E,le=l._limitZoom(h+(this._delta>0?V:-V))-h;this._delta=0,this._startTime=null,le&&(l.options.scrollWheelZoom==="center"?l.setZoom(h+le):l.setZoomAround(this._lastMousePos,h+le))}});gt.addInitHook("addHandler","scrollWheelZoom",up);var Ev=600;gt.mergeOptions({tapHold:Ke.touchNative&&Ke.safari&&Ke.mobile,tapTolerance:15});var mp=bi.extend({addHooks:function(){at(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){At(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var h=l.touches[0];this._startPos=this._newPos=new U(h.clientX,h.clientY),this._holdTimeout=setTimeout(e(function(){this._cancel(),this._isTapValid()&&(at(document,"touchend",sn),at(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Ev),at(document,"touchend touchcancel contextmenu",this._cancel,this),at(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){At(document,"touchend",sn),At(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),At(document,"touchend touchcancel contextmenu",this._cancel,this),At(document,"touchmove",this._onMove,this)},_onMove:function(l){var h=l.touches[0];this._newPos=new U(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,h){var f=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});f._simulated=!0,h.target.dispatchEvent(f)}});gt.addInitHook("addHandler","tapHold",mp),gt.mergeOptions({touchZoom:Ke.touch,bounceAtZoomLimits:!0});var pp=bi.extend({addHooks:function(){ct(this._map._container,"leaflet-touch-zoom"),at(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){jt(this._map._container,"leaflet-touch-zoom"),At(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var h=this._map;if(!(!l.touches||l.touches.length!==2||h._animatingZoom||this._zooming)){var f=h.mouseEventToContainerPoint(l.touches[0]),b=h.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(f.add(b)._divideBy(2))),this._startDist=f.distanceTo(b),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),at(document,"touchmove",this._onTouchMove,this),at(document,"touchend touchcancel",this._onTouchEnd,this),sn(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var h=this._map,f=h.mouseEventToContainerPoint(l.touches[0]),b=h.mouseEventToContainerPoint(l.touches[1]),E=f.distanceTo(b)/this._startDist;if(this._zoom=h.getScaleZoom(E,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&E<1||this._zoom>h.getMaxZoom()&&E>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var V=f._add(b)._divideBy(2)._subtract(this._centerPoint);if(E===1&&V.x===0&&V.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(V),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),I(this._animRequest);var le=e(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=z(le,this,!0),sn(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,I(this._animRequest),At(document,"touchmove",this._onTouchMove,this),At(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});gt.addInitHook("addHandler","touchZoom",pp),gt.BoxZoom=lp,gt.DoubleClickZoom=dp,gt.Drag=cp,gt.Keyboard=hp,gt.ScrollWheelZoom=up,gt.TapHold=mp,gt.TouchZoom=pp,i.Bounds=ne,i.Browser=Ke,i.CRS=fe,i.Canvas=op,i.Circle=bc,i.CircleMarker=Ba,i.Class=B,i.Control=di,i.DivIcon=tp,i.DivOverlay=Ci,i.DomEvent=G2,i.DomUtil=H2,i.Draggable=po,i.Evented=ae,i.FeatureGroup=Zi,i.GeoJSON=Yi,i.GridLayer=vs,i.Handler=bi,i.Icon=pr,i.ImageOverlay=Ua,i.LatLng=X,i.LatLngBounds=Q,i.Layer=ci,i.LayerGroup=mr,i.LineUtil=rv,i.Map=gt,i.Marker=za,i.Mixin=X2,i.Path=fo,i.Point=U,i.PolyUtil=ev,i.Polygon=fr,i.Polyline=Qi,i.Popup=Ga,i.PosAnimation=Fm,i.Projection=sv,i.Rectangle=ap,i.Renderer=Ji,i.SVG=ws,i.SVGOverlay=ep,i.TileLayer=vr,i.Tooltip=Wa,i.Transformation=G,i.Util=Z,i.VideoOverlay=Xm,i.bind=e,i.bounds=he,i.canvas=rp,i.circle=pv,i.circleMarker=mv,i.control=ps,i.divIcon=bv,i.extend=r,i.featureGroup=cv,i.geoJSON=Km,i.geoJson=vv,i.gridLayer=Cv,i.icon=hv,i.imageOverlay=yv,i.latLng=ce,i.latLngBounds=ue,i.layerGroup=dv,i.map=W2,i.marker=uv,i.point=O,i.polygon=gv,i.polyline=fv,i.popup=xv,i.rectangle=Iv,i.setOptions=g,i.stamp=a,i.svg=sp,i.svgOverlay=_v,i.tileLayer=np,i.tooltip=Nv,i.transformation=ye,i.version=n,i.videoOverlay=wv;var kv=window.L;i.noConflict=function(){return window.L=kv,this},window.L=i})});var _u=Si((X0,xd)=>{"use strict";(function(i,n){typeof define=="function"&&define.amd?define(n):typeof xd=="object"&&xd.exports?xd.exports=n():i.EvEmitter=n()})(typeof window<"u"?window:X0,function(){"use strict";function i(){}var n=i.prototype;return n.on=function(r,o){if(!(!r||!o)){var e=this._events=this._events||{},t=e[r]=e[r]||[];return t.indexOf(o)==-1&&t.push(o),this}},n.once=function(r,o){if(!(!r||!o)){this.on(r,o);var e=this._onceEvents=this._onceEvents||{},t=e[r]=e[r]||{};return t[o]=!0,this}},n.off=function(r,o){var e=this._events&&this._events[r];if(!(!e||!e.length)){var t=e.indexOf(o);return t!=-1&&e.splice(t,1),this}},n.emitEvent=function(r,o){var e=this._events&&this._events[r];if(!(!e||!e.length)){e=e.slice(0),o=o||[];for(var t=this._onceEvents&&this._onceEvents[r],a=0;a<e.length;a++){var d=e[a],s=t&&t[d];s&&(this.off(r,d),delete t[d]),d.apply(this,o)}return this}},n.allOff=function(){delete this._events,delete this._onceEvents},i})});var bd=Si((EE,Nd)=>{"use strict";(function(i,n){typeof define=="function"&&define.amd?define(n):typeof Nd=="object"&&Nd.exports?Nd.exports=n():i.getSize=n()})(window,function(){"use strict";function n(m){var g=parseFloat(m),v=m.indexOf("%")==-1&&!isNaN(g);return v&&g}function r(){}var o=typeof console>"u"?r:function(m){console.error(m)},e=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],t=e.length;function a(){for(var m={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},g=0;g<t;g++){var v=e[g];m[v]=0}return m}function d(m){var g=getComputedStyle(m);return g||o("Style returned "+g+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),g}var s=!1,c;function u(){if(!s){s=!0;var m=document.createElement("div");m.style.width="200px",m.style.padding="1px 2px 3px 4px",m.style.borderStyle="solid",m.style.borderWidth="1px 2px 3px 4px",m.style.boxSizing="border-box";var g=document.body||document.documentElement;g.appendChild(m);var v=d(m);c=Math.round(n(v.width))==200,p.isBoxSizeOuter=c,g.removeChild(m)}}function p(m){if(u(),typeof m=="string"&&(m=document.querySelector(m)),!(!m||typeof m!="object"||!m.nodeType)){var g=d(m);if(g.display=="none")return a();var v={};v.width=m.offsetWidth,v.height=m.offsetHeight;for(var x=v.isBorderBox=g.boxSizing=="border-box",y=0;y<t;y++){var w=e[y],S=g[w],P=parseFloat(S);v[w]=isNaN(P)?0:P}var j=v.paddingLeft+v.paddingRight,R=v.paddingTop+v.paddingBottom,T=v.marginLeft+v.marginRight,q=v.marginTop+v.marginBottom,$=v.borderLeftWidth+v.borderRightWidth,z=v.borderTopWidth+v.borderBottomWidth,I=x&&c,Z=n(g.width);Z!==!1&&(v.width=Z+(I?0:j+$));var B=n(g.height);return B!==!1&&(v.height=B+(I?0:R+z)),v.innerWidth=v.width-(j+$),v.innerHeight=v.height-(R+z),v.outerWidth=v.width+T,v.outerHeight=v.height+q,v}}return p})});var e1=Si((kE,Cd)=>{"use strict";(function(i,n){"use strict";typeof define=="function"&&define.amd?define(n):typeof Cd=="object"&&Cd.exports?Cd.exports=n():i.matchesSelector=n()})(window,function(){"use strict";var n=function(){var r=window.Element.prototype;if(r.matches)return"matches";if(r.matchesSelector)return"matchesSelector";for(var o=["webkit","moz","ms","o"],e=0;e<o.length;e++){var t=o[e],a=t+"MatchesSelector";if(r[a])return a}}();return function(o,e){return o[n](e)}})});var t1=Si((LE,Sd)=>{"use strict";(function(i,n){typeof define=="function"&&define.amd?define(["desandro-matches-selector/matches-selector"],function(r){return n(i,r)}):typeof Sd=="object"&&Sd.exports?Sd.exports=n(i,e1()):i.fizzyUIUtils=n(i,i.matchesSelector)})(window,function(n,r){"use strict";var o={};o.extend=function(a,d){for(var s in d)a[s]=d[s];return a},o.modulo=function(a,d){return(a%d+d)%d};var e=Array.prototype.slice;o.makeArray=function(a){if(Array.isArray(a))return a;if(a==null)return[];var d=typeof a=="object"&&typeof a.length=="number";return d?e.call(a):[a]},o.removeFrom=function(a,d){var s=a.indexOf(d);s!=-1&&a.splice(s,1)},o.getParent=function(a,d){for(;a.parentNode&&a!=document.body;)if(a=a.parentNode,r(a,d))return a},o.getQueryElement=function(a){return typeof a=="string"?document.querySelector(a):a},o.handleEvent=function(a){var d="on"+a.type;this[d]&&this[d](a)},o.filterFindElements=function(a,d){a=o.makeArray(a);var s=[];return a.forEach(function(c){if(c instanceof HTMLElement){if(!d){s.push(c);return}r(c,d)&&s.push(c);for(var u=c.querySelectorAll(d),p=0;p<u.length;p++)s.push(u[p])}}),s},o.debounceMethod=function(a,d,s){s=s||100;var c=a.prototype[d],u=d+"Timeout";a.prototype[d]=function(){var p=this[u];clearTimeout(p);var m=arguments,g=this;this[u]=setTimeout(function(){c.apply(g,m),delete g[u]},s)}},o.docReady=function(a){var d=document.readyState;d=="complete"||d=="interactive"?setTimeout(a):document.addEventListener("DOMContentLoaded",a)},o.toDashed=function(a){return a.replace(/(.)([A-Z])/g,function(d,s,c){return s+"-"+c}).toLowerCase()};var t=n.console;return o.htmlInit=function(a,d){o.docReady(function(){var s=o.toDashed(d),c="data-"+s,u=document.querySelectorAll("["+c+"]"),p=document.querySelectorAll(".js-"+s),m=o.makeArray(u).concat(o.makeArray(p)),g=c+"-options",v=n.jQuery;m.forEach(function(x){var y=x.getAttribute(c)||x.getAttribute(g),w;try{w=y&&JSON.parse(y)}catch(P){t&&t.error("Error parsing "+c+" on "+x.className+": "+P);return}var S=new a(x,w);v&&v.data(x,d,S)})})},o})});var n1=Si((RE,Td)=>{"use strict";(function(i,n){typeof define=="function"&&define.amd?define(["ev-emitter/ev-emitter","get-size/get-size"],n):typeof Td=="object"&&Td.exports?Td.exports=n(_u(),bd()):(i.Outlayer={},i.Outlayer.Item=n(i.EvEmitter,i.getSize))})(window,function(n,r){"use strict";function o(x){for(var y in x)return!1;return y=null,!0}var e=document.documentElement.style,t=typeof e.transition=="string"?"transition":"WebkitTransition",a=typeof e.transform=="string"?"transform":"WebkitTransform",d={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[t],s={transform:a,transition:t,transitionDuration:t+"Duration",transitionProperty:t+"Property",transitionDelay:t+"Delay"};function c(x,y){x&&(this.element=x,this.layout=y,this.position={x:0,y:0},this._create())}var u=c.prototype=Object.create(n.prototype);u.constructor=c,u._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},u.handleEvent=function(x){var y="on"+x.type;this[y]&&this[y](x)},u.getSize=function(){this.size=r(this.element)},u.css=function(x){var y=this.element.style;for(var w in x){var S=s[w]||w;y[S]=x[w]}},u.getPosition=function(){var x=getComputedStyle(this.element),y=this.layout._getOption("originLeft"),w=this.layout._getOption("originTop"),S=x[y?"left":"right"],P=x[w?"top":"bottom"],j=parseFloat(S),R=parseFloat(P),T=this.layout.size;S.indexOf("%")!=-1&&(j=j/100*T.width),P.indexOf("%")!=-1&&(R=R/100*T.height),j=isNaN(j)?0:j,R=isNaN(R)?0:R,j-=y?T.paddingLeft:T.paddingRight,R-=w?T.paddingTop:T.paddingBottom,this.position.x=j,this.position.y=R},u.layoutPosition=function(){var x=this.layout.size,y={},w=this.layout._getOption("originLeft"),S=this.layout._getOption("originTop"),P=w?"paddingLeft":"paddingRight",j=w?"left":"right",R=w?"right":"left",T=this.position.x+x[P];y[j]=this.getXValue(T),y[R]="";var q=S?"paddingTop":"paddingBottom",$=S?"top":"bottom",z=S?"bottom":"top",I=this.position.y+x[q];y[$]=this.getYValue(I),y[z]="",this.css(y),this.emitEvent("layout",[this])},u.getXValue=function(x){var y=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!y?x/this.layout.size.width*100+"%":x+"px"},u.getYValue=function(x){var y=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&y?x/this.layout.size.height*100+"%":x+"px"},u._transitionTo=function(x,y){this.getPosition();var w=this.position.x,S=this.position.y,P=x==this.position.x&&y==this.position.y;if(this.setPosition(x,y),P&&!this.isTransitioning){this.layoutPosition();return}var j=x-w,R=y-S,T={};T.transform=this.getTranslate(j,R),this.transition({to:T,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},u.getTranslate=function(x,y){var w=this.layout._getOption("originLeft"),S=this.layout._getOption("originTop");return x=w?x:-x,y=S?y:-y,"translate3d("+x+"px, "+y+"px, 0)"},u.goTo=function(x,y){this.setPosition(x,y),this.layoutPosition()},u.moveTo=u._transitionTo,u.setPosition=function(x,y){this.position.x=parseFloat(x),this.position.y=parseFloat(y)},u._nonTransition=function(x){this.css(x.to),x.isCleaning&&this._removeStyles(x.to);for(var y in x.onTransitionEnd)x.onTransitionEnd[y].call(this)},u.transition=function(x){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(x);return}var y=this._transn;for(var w in x.onTransitionEnd)y.onEnd[w]=x.onTransitionEnd[w];for(w in x.to)y.ingProperties[w]=!0,x.isCleaning&&(y.clean[w]=!0);if(x.from){this.css(x.from);var S=this.element.offsetHeight;S=null}this.enableTransition(x.to),this.css(x.to),this.isTransitioning=!0};function p(x){return x.replace(/([A-Z])/g,function(y){return"-"+y.toLowerCase()})}var m="opacity,"+p(a);u.enableTransition=function(){if(!this.isTransitioning){var x=this.layout.options.transitionDuration;x=typeof x=="number"?x+"ms":x,this.css({transitionProperty:m,transitionDuration:x,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(d,this,!1)}},u.onwebkitTransitionEnd=function(x){this.ontransitionend(x)},u.onotransitionend=function(x){this.ontransitionend(x)};var g={"-webkit-transform":"transform"};u.ontransitionend=function(x){if(x.target===this.element){var y=this._transn,w=g[x.propertyName]||x.propertyName;if(delete y.ingProperties[w],o(y.ingProperties)&&this.disableTransition(),w in y.clean&&(this.element.style[x.propertyName]="",delete y.clean[w]),w in y.onEnd){var S=y.onEnd[w];S.call(this),delete y.onEnd[w]}this.emitEvent("transitionEnd",[this])}},u.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(d,this,!1),this.isTransitioning=!1},u._removeStyles=function(x){var y={};for(var w in x)y[w]="";this.css(y)};var v={transitionProperty:"",transitionDuration:"",transitionDelay:""};return u.removeTransitionStyles=function(){this.css(v)},u.stagger=function(x){x=isNaN(x)?0:x,this.staggerDelay=x+"ms"},u.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},u.remove=function(){if(!t||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()}),this.hide()},u.reveal=function(){delete this.isHidden,this.css({display:""});var x=this.layout.options,y={},w=this.getHideRevealTransitionEndProperty("visibleStyle");y[w]=this.onRevealTransitionEnd,this.transition({from:x.hiddenStyle,to:x.visibleStyle,isCleaning:!0,onTransitionEnd:y})},u.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},u.getHideRevealTransitionEndProperty=function(x){var y=this.layout.options[x];if(y.opacity)return"opacity";for(var w in y)return w},u.hide=function(){this.isHidden=!0,this.css({display:""});var x=this.layout.options,y={},w=this.getHideRevealTransitionEndProperty("hiddenStyle");y[w]=this.onHideTransitionEnd,this.transition({from:x.visibleStyle,to:x.hiddenStyle,isCleaning:!0,onTransitionEnd:y})},u.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},u.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},c})});var i1=Si((PE,Id)=>{"use strict";(function(i,n){"use strict";typeof define=="function"&&define.amd?define(["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(r,o,e,t){return n(i,r,o,e,t)}):typeof Id=="object"&&Id.exports?Id.exports=n(i,_u(),bd(),t1(),n1()):i.Outlayer=n(i,i.EvEmitter,i.getSize,i.fizzyUIUtils,i.Outlayer.Item)})(window,function(n,r,o,e,t){"use strict";var a=n.console,d=n.jQuery,s=function(){},c=0,u={};function p(y,w){var S=e.getQueryElement(y);if(!S){a&&a.error("Bad element for "+this.constructor.namespace+": "+(S||y));return}this.element=S,d&&(this.$element=d(this.element)),this.options=e.extend({},this.constructor.defaults),this.option(w);var P=++c;this.element.outlayerGUID=P,u[P]=this,this._create();var j=this._getOption("initLayout");j&&this.layout()}p.namespace="outlayer",p.Item=t,p.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var m=p.prototype;e.extend(m,r.prototype),m.option=function(y){e.extend(this.options,y)},m._getOption=function(y){var w=this.constructor.compatOptions[y];return w&&this.options[w]!==void 0?this.options[w]:this.options[y]},p.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},m._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e.extend(this.element.style,this.options.containerStyle);var y=this._getOption("resize");y&&this.bindResize()},m.reloadItems=function(){this.items=this._itemize(this.element.children)},m._itemize=function(y){for(var w=this._filterFindItemElements(y),S=this.constructor.Item,P=[],j=0;j<w.length;j++){var R=w[j],T=new S(R,this);P.push(T)}return P},m._filterFindItemElements=function(y){return e.filterFindElements(y,this.options.itemSelector)},m.getItemElements=function(){return this.items.map(function(y){return y.element})},m.layout=function(){this._resetLayout(),this._manageStamps();var y=this._getOption("layoutInstant"),w=y!==void 0?y:!this._isLayoutInited;this.layoutItems(this.items,w),this._isLayoutInited=!0},m._init=m.layout,m._resetLayout=function(){this.getSize()},m.getSize=function(){this.size=o(this.element)},m._getMeasurement=function(y,w){var S=this.options[y],P;S?(typeof S=="string"?P=this.element.querySelector(S):S instanceof HTMLElement&&(P=S),this[y]=P?o(P)[w]:S):this[y]=0},m.layoutItems=function(y,w){y=this._getItemsForLayout(y),this._layoutItems(y,w),this._postLayout()},m._getItemsForLayout=function(y){return y.filter(function(w){return!w.isIgnored})},m._layoutItems=function(y,w){if(this._emitCompleteOnItems("layout",y),!(!y||!y.length)){var S=[];y.forEach(function(P){var j=this._getItemLayoutPosition(P);j.item=P,j.isInstant=w||P.isLayoutInstant,S.push(j)},this),this._processLayoutQueue(S)}},m._getItemLayoutPosition=function(){return{x:0,y:0}},m._processLayoutQueue=function(y){this.updateStagger(),y.forEach(function(w,S){this._positionItem(w.item,w.x,w.y,w.isInstant,S)},this)},m.updateStagger=function(){var y=this.options.stagger;if(y==null){this.stagger=0;return}return this.stagger=x(y),this.stagger},m._positionItem=function(y,w,S,P,j){P?y.goTo(w,S):(y.stagger(j*this.stagger),y.moveTo(w,S))},m._postLayout=function(){this.resizeContainer()},m.resizeContainer=function(){var y=this._getOption("resizeContainer");if(y){var w=this._getContainerSize();w&&(this._setContainerMeasure(w.width,!0),this._setContainerMeasure(w.height,!1))}},m._getContainerSize=s,m._setContainerMeasure=function(y,w){if(y!==void 0){var S=this.size;S.isBorderBox&&(y+=w?S.paddingLeft+S.paddingRight+S.borderLeftWidth+S.borderRightWidth:S.paddingBottom+S.paddingTop+S.borderTopWidth+S.borderBottomWidth),y=Math.max(y,0),this.element.style[w?"width":"height"]=y+"px"}},m._emitCompleteOnItems=function(y,w){var S=this;function P(){S.dispatchEvent(y+"Complete",null,[w])}var j=w.length;if(!w||!j){P();return}var R=0;function T(){R++,R==j&&P()}w.forEach(function(q){q.once(y,T)})},m.dispatchEvent=function(y,w,S){var P=w?[w].concat(S):S;if(this.emitEvent(y,P),d)if(this.$element=this.$element||d(this.element),w){var j=d.Event(w);j.type=y,this.$element.trigger(j,S)}else this.$element.trigger(y,S)},m.ignore=function(y){var w=this.getItem(y);w&&(w.isIgnored=!0)},m.unignore=function(y){var w=this.getItem(y);w&&delete w.isIgnored},m.stamp=function(y){y=this._find(y),y&&(this.stamps=this.stamps.concat(y),y.forEach(this.ignore,this))},m.unstamp=function(y){y=this._find(y),y&&y.forEach(function(w){e.removeFrom(this.stamps,w),this.unignore(w)},this)},m._find=function(y){if(y)return typeof y=="string"&&(y=this.element.querySelectorAll(y)),y=e.makeArray(y),y},m._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},m._getBoundingRect=function(){var y=this.element.getBoundingClientRect(),w=this.size;this._boundingRect={left:y.left+w.paddingLeft+w.borderLeftWidth,top:y.top+w.paddingTop+w.borderTopWidth,right:y.right-(w.paddingRight+w.borderRightWidth),bottom:y.bottom-(w.paddingBottom+w.borderBottomWidth)}},m._manageStamp=s,m._getElementOffset=function(y){var w=y.getBoundingClientRect(),S=this._boundingRect,P=o(y),j={left:w.left-S.left-P.marginLeft,top:w.top-S.top-P.marginTop,right:S.right-w.right-P.marginRight,bottom:S.bottom-w.bottom-P.marginBottom};return j},m.handleEvent=e.handleEvent,m.bindResize=function(){n.addEventListener("resize",this),this.isResizeBound=!0},m.unbindResize=function(){n.removeEventListener("resize",this),this.isResizeBound=!1},m.onresize=function(){this.resize()},e.debounceMethod(p,"onresize",100),m.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout()},m.needsResizeLayout=function(){var y=o(this.element),w=this.size&&y;return w&&y.innerWidth!==this.size.innerWidth},m.addItems=function(y){var w=this._itemize(y);return w.length&&(this.items=this.items.concat(w)),w},m.appended=function(y){var w=this.addItems(y);w.length&&(this.layoutItems(w,!0),this.reveal(w))},m.prepended=function(y){var w=this._itemize(y);if(w.length){var S=this.items.slice(0);this.items=w.concat(S),this._resetLayout(),this._manageStamps(),this.layoutItems(w,!0),this.reveal(w),this.layoutItems(S)}},m.reveal=function(y){if(this._emitCompleteOnItems("reveal",y),!(!y||!y.length)){var w=this.updateStagger();y.forEach(function(S,P){S.stagger(P*w),S.reveal()})}},m.hide=function(y){if(this._emitCompleteOnItems("hide",y),!(!y||!y.length)){var w=this.updateStagger();y.forEach(function(S,P){S.stagger(P*w),S.hide()})}},m.revealItemElements=function(y){var w=this.getItems(y);this.reveal(w)},m.hideItemElements=function(y){var w=this.getItems(y);this.hide(w)},m.getItem=function(y){for(var w=0;w<this.items.length;w++){var S=this.items[w];if(S.element==y)return S}},m.getItems=function(y){y=e.makeArray(y);var w=[];return y.forEach(function(S){var P=this.getItem(S);P&&w.push(P)},this),w},m.remove=function(y){var w=this.getItems(y);this._emitCompleteOnItems("remove",w),!(!w||!w.length)&&w.forEach(function(S){S.remove(),e.removeFrom(this.items,S)},this)},m.destroy=function(){var y=this.element.style;y.height="",y.position="",y.width="",this.items.forEach(function(S){S.destroy()}),this.unbindResize();var w=this.element.outlayerGUID;delete u[w],delete this.element.outlayerGUID,d&&d.removeData(this.element,this.constructor.namespace)},p.data=function(y){y=e.getQueryElement(y);var w=y&&y.outlayerGUID;return w&&u[w]},p.create=function(y,w){var S=g(p);return S.defaults=e.extend({},p.defaults),e.extend(S.defaults,w),S.compatOptions=e.extend({},p.compatOptions),S.namespace=y,S.data=p.data,S.Item=g(t),e.htmlInit(S,y),d&&d.bridget&&d.bridget(y,S),S};function g(y){function w(){y.apply(this,arguments)}return w.prototype=Object.create(y.prototype),w.prototype.constructor=w,w}var v={ms:1,s:1e3};function x(y){if(typeof y=="number")return y;var w=y.match(/(^\d*\.?\d*)(\w*)/),S=w&&w[1],P=w&&w[2];if(!S.length)return 0;S=parseFloat(S);var j=v[P]||1;return S*j}return p.Item=t,p})});var o1=Si((ME,Ed)=>{"use strict";(function(i,n){typeof define=="function"&&define.amd?define(["outlayer/outlayer","get-size/get-size"],n):typeof Ed=="object"&&Ed.exports?Ed.exports=n(i1(),bd()):i.Masonry=n(i.Outlayer,i.getSize)})(window,function(n,r){"use strict";var o=n.create("masonry");o.compatOptions.fitWidth="isFitWidth";var e=o.prototype;return e._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},e.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],a=t&&t.element;this.columnWidth=a&&r(a).outerWidth||this.containerWidth}var d=this.columnWidth+=this.gutter,s=this.containerWidth+this.gutter,c=s/d,u=d-s%d,p=u&&u<1?"round":"floor";c=Math[p](c),this.cols=Math.max(c,1)},e.getContainerWidth=function(){var t=this._getOption("fitWidth"),a=t?this.element.parentNode:this.element,d=r(a);this.containerWidth=d&&d.innerWidth},e._getItemLayoutPosition=function(t){t.getSize();var a=t.size.outerWidth%this.columnWidth,d=a&&a<1?"round":"ceil",s=Math[d](t.size.outerWidth/this.columnWidth);s=Math.min(s,this.cols);for(var c=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",u=this[c](s,t),p={x:this.columnWidth*u.col,y:u.y},m=u.y+t.size.outerHeight,g=s+u.col,v=u.col;v<g;v++)this.colYs[v]=m;return p},e._getTopColPosition=function(t){var a=this._getTopColGroup(t),d=Math.min.apply(Math,a);return{col:a.indexOf(d),y:d}},e._getTopColGroup=function(t){if(t<2)return this.colYs;for(var a=[],d=this.cols+1-t,s=0;s<d;s++)a[s]=this._getColGroupY(s,t);return a},e._getColGroupY=function(t,a){if(a<2)return this.colYs[t];var d=this.colYs.slice(t,t+a);return Math.max.apply(Math,d)},e._getHorizontalColPosition=function(t,a){var d=this.horizontalColIndex%this.cols,s=t>1&&d+t>this.cols;d=s?0:d;var c=a.size.outerWidth&&a.size.outerHeight;return this.horizontalColIndex=c?d+t:this.horizontalColIndex,{col:d,y:this._getColGroupY(d,t)}},e._manageStamp=function(t){var a=r(t),d=this._getElementOffset(t),s=this._getOption("originLeft"),c=s?d.left:d.right,u=c+a.outerWidth,p=Math.floor(c/this.columnWidth);p=Math.max(0,p);var m=Math.floor(u/this.columnWidth);m-=u%this.columnWidth?0:1,m=Math.min(this.cols-1,m);for(var g=this._getOption("originTop"),v=(g?d.top:d.bottom)+a.outerHeight,x=p;x<=m;x++)this.colYs[x]=Math.max(v,this.colYs[x])},e._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},e._getContainerFitWidth=function(){for(var t=0,a=this.cols;--a&&this.colYs[a]===0;)t++;return(this.cols-t)*this.columnWidth-this.gutter},e.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},o})});var Is=class{},ul=class{},Uo=class i{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(r=>{let o=r.indexOf(":");if(o>0){let e=r.slice(0,o),t=e.toLowerCase(),a=r.slice(o+1).trim();this.maybeSetNormalizedName(e,t),this.headers.has(t)?this.headers.get(t).push(a):this.headers.set(t,[a])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((r,o)=>{this.setHeaderEntries(o,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([r,o])=>{this.setHeaderEntries(r,o)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let r=this.headers.get(n.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,r){return this.clone({name:n,value:r,op:"a"})}set(n,r){return this.clone({name:n,value:r,op:"s"})}delete(n,r){return this.clone({name:n,value:r,op:"d"})}maybeSetNormalizedName(n,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,n)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(r=>{this.headers.set(r,n.headers.get(r)),this.normalizedNames.set(r,n.normalizedNames.get(r))})}clone(n){let r=new i;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([n]),r}applyUpdate(n){let r=n.name.toLowerCase();switch(n.op){case"a":case"s":let o=n.value;if(typeof o=="string"&&(o=[o]),o.length===0)return;this.maybeSetNormalizedName(n.name,r);let e=(n.op==="a"?this.headers.get(r):void 0)||[];e.push(...o),this.headers.set(r,e);break;case"d":let t=n.value;if(!t)this.headers.delete(r),this.normalizedNames.delete(r);else{let a=this.headers.get(r);if(!a)return;a=a.filter(d=>t.indexOf(d)===-1),a.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,a)}break}}setHeaderEntries(n,r){let o=(Array.isArray(r)?r:[r]).map(t=>t.toString()),e=n.toLowerCase();this.headers.set(e,o),this.maybeSetNormalizedName(n,e)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>n(this.normalizedNames.get(r),this.headers.get(r)))}};var Zc=class{encodeKey(n){return Qp(n)}encodeValue(n){return Qp(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function jv(i,n){let r=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(e=>{let t=e.indexOf("="),[a,d]=t==-1?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,t)),n.decodeValue(e.slice(t+1))],s=r.get(a)||[];s.push(d),r.set(a,s)}),r}var qv=/%(\d[a-f0-9])/gi,Vv={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Qp(i){return encodeURIComponent(i).replace(qv,(n,r)=>Vv[r]??n)}function hl(i){return`${i}`}var No=class i{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Zc,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=jv(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(r=>{let o=n.fromObject[r],e=Array.isArray(o)?o.map(hl):[hl(o)];this.map.set(r,e)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let r=this.map.get(n);return r?r[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,r){return this.clone({param:n,value:r,op:"a"})}appendAll(n){let r=[];return Object.keys(n).forEach(o=>{let e=n[o];Array.isArray(e)?e.forEach(t=>{r.push({param:o,value:t,op:"a"})}):r.push({param:o,value:e,op:"a"})}),this.clone(r)}set(n,r){return this.clone({param:n,value:r,op:"s"})}delete(n,r){return this.clone({param:n,value:r,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let r=this.encoder.encodeKey(n);return this.map.get(n).map(o=>r+"="+this.encoder.encodeValue(o)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let r=new i({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(n),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let r=(n.op==="a"?this.map.get(n.param):void 0)||[];r.push(hl(n.value)),this.map.set(n.param,r);break;case"d":if(n.value!==void 0){let o=this.map.get(n.param)||[],e=o.indexOf(hl(n.value));e!==-1&&o.splice(e,1),o.length>0?this.map.set(n.param,o):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Qc=class{constructor(){this.map=new Map}set(n,r){return this.map.set(n,r),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function Hv(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Yp(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function Jp(i){return typeof Blob<"u"&&i instanceof Blob}function Kp(i){return typeof FormData<"u"&&i instanceof FormData}function Uv(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Ts=class i{constructor(n,r,o,e){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let t;if(Hv(this.method)||e?(this.body=o!==void 0?o:null,t=e):t=o,t&&(this.reportProgress=!!t.reportProgress,this.withCredentials=!!t.withCredentials,t.responseType&&(this.responseType=t.responseType),t.headers&&(this.headers=t.headers),t.context&&(this.context=t.context),t.params&&(this.params=t.params),this.transferCache=t.transferCache),this.headers??=new Uo,this.context??=new Qc,!this.params)this.params=new No,this.urlWithParams=r;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=r;else{let d=r.indexOf("?"),s=d===-1?"?":d<r.length-1?"&":"";this.urlWithParams=r+s+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Yp(this.body)||Jp(this.body)||Kp(this.body)||Uv(this.body)?this.body:this.body instanceof No?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Kp(this.body)?null:Jp(this.body)?this.body.type||null:Yp(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof No?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let r=n.method||this.method,o=n.url||this.url,e=n.responseType||this.responseType,t=n.transferCache??this.transferCache,a=n.body!==void 0?n.body:this.body,d=n.withCredentials??this.withCredentials,s=n.reportProgress??this.reportProgress,c=n.headers||this.headers,u=n.params||this.params,p=n.context??this.context;return n.setHeaders!==void 0&&(c=Object.keys(n.setHeaders).reduce((m,g)=>m.set(g,n.setHeaders[g]),c)),n.setParams&&(u=Object.keys(n.setParams).reduce((m,g)=>m.set(g,n.setParams[g]),u)),new i(r,o,a,{params:u,headers:c,context:p,reportProgress:s,responseType:e,withCredentials:d,transferCache:t})}},Tr=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(Tr||{}),Es=class{constructor(n,r=fl.Ok,o="OK"){this.headers=n.headers||new Uo,this.status=n.status!==void 0?n.status:r,this.statusText=n.statusText||o,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Yc=class i extends Es{constructor(n={}){super(n),this.type=Tr.ResponseHeader}clone(n={}){return new i({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},ml=class i extends Es{constructor(n={}){super(n),this.type=Tr.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new i({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},pl=class extends Es{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},fl=function(i){return i[i.Continue=100]="Continue",i[i.SwitchingProtocols=101]="SwitchingProtocols",i[i.Processing=102]="Processing",i[i.EarlyHints=103]="EarlyHints",i[i.Ok=200]="Ok",i[i.Created=201]="Created",i[i.Accepted=202]="Accepted",i[i.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",i[i.NoContent=204]="NoContent",i[i.ResetContent=205]="ResetContent",i[i.PartialContent=206]="PartialContent",i[i.MultiStatus=207]="MultiStatus",i[i.AlreadyReported=208]="AlreadyReported",i[i.ImUsed=226]="ImUsed",i[i.MultipleChoices=300]="MultipleChoices",i[i.MovedPermanently=301]="MovedPermanently",i[i.Found=302]="Found",i[i.SeeOther=303]="SeeOther",i[i.NotModified=304]="NotModified",i[i.UseProxy=305]="UseProxy",i[i.Unused=306]="Unused",i[i.TemporaryRedirect=307]="TemporaryRedirect",i[i.PermanentRedirect=308]="PermanentRedirect",i[i.BadRequest=400]="BadRequest",i[i.Unauthorized=401]="Unauthorized",i[i.PaymentRequired=402]="PaymentRequired",i[i.Forbidden=403]="Forbidden",i[i.NotFound=404]="NotFound",i[i.MethodNotAllowed=405]="MethodNotAllowed",i[i.NotAcceptable=406]="NotAcceptable",i[i.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",i[i.RequestTimeout=408]="RequestTimeout",i[i.Conflict=409]="Conflict",i[i.Gone=410]="Gone",i[i.LengthRequired=411]="LengthRequired",i[i.PreconditionFailed=412]="PreconditionFailed",i[i.PayloadTooLarge=413]="PayloadTooLarge",i[i.UriTooLong=414]="UriTooLong",i[i.UnsupportedMediaType=415]="UnsupportedMediaType",i[i.RangeNotSatisfiable=416]="RangeNotSatisfiable",i[i.ExpectationFailed=417]="ExpectationFailed",i[i.ImATeapot=418]="ImATeapot",i[i.MisdirectedRequest=421]="MisdirectedRequest",i[i.UnprocessableEntity=422]="UnprocessableEntity",i[i.Locked=423]="Locked",i[i.FailedDependency=424]="FailedDependency",i[i.TooEarly=425]="TooEarly",i[i.UpgradeRequired=426]="UpgradeRequired",i[i.PreconditionRequired=428]="PreconditionRequired",i[i.TooManyRequests=429]="TooManyRequests",i[i.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",i[i.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",i[i.InternalServerError=500]="InternalServerError",i[i.NotImplemented=501]="NotImplemented",i[i.BadGateway=502]="BadGateway",i[i.ServiceUnavailable=503]="ServiceUnavailable",i[i.GatewayTimeout=504]="GatewayTimeout",i[i.HttpVersionNotSupported=505]="HttpVersionNotSupported",i[i.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",i[i.InsufficientStorage=507]="InsufficientStorage",i[i.LoopDetected=508]="LoopDetected",i[i.NotExtended=510]="NotExtended",i[i.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",i}(fl||{});function Wc(i,n){return{body:n,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var ks=(()=>{let n=class n{constructor(o){this.handler=o}request(o,e,t={}){let a;if(o instanceof Ts)a=o;else{let c;t.headers instanceof Uo?c=t.headers:c=new Uo(t.headers);let u;t.params&&(t.params instanceof No?u=t.params:u=new No({fromObject:t.params})),a=new Ts(o,e,t.body!==void 0?t.body:null,{headers:c,context:t.context,params:u,reportProgress:t.reportProgress,responseType:t.responseType||"json",withCredentials:t.withCredentials,transferCache:t.transferCache})}let d=ot(a).pipe(eo(c=>this.handler.handle(c)));if(o instanceof Ts||t.observe==="events")return d;let s=d.pipe(Ii(c=>c instanceof ml));switch(t.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return s.pipe(ft(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return s.pipe(ft(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return s.pipe(ft(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return s.pipe(ft(c=>c.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${t.observe}}`)}}delete(o,e={}){return this.request("DELETE",o,e)}get(o,e={}){return this.request("GET",o,e)}head(o,e={}){return this.request("HEAD",o,e)}jsonp(o,e){return this.request("JSONP",o,{params:new No().append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(o,e={}){return this.request("OPTIONS",o,e)}patch(o,e,t={}){return this.request("PATCH",o,Wc(t,e))}post(o,e,t={}){return this.request("POST",o,Wc(t,e))}put(o,e,t={}){return this.request("PUT",o,Wc(t,e))}};n.\u0275fac=function(e){return new(e||n)(je(Is))},n.\u0275prov=He({token:n,factory:n.\u0275fac});let i=n;return i})();function Gv(i,n){return n(i)}function Wv(i,n,r){return(o,e)=>Vn(r,()=>n(o,t=>i(t,e)))}var tf=new tt(""),Zv=new tt(""),Qv=new tt("");var Xp=(()=>{let n=class n extends Is{constructor(o,e){super(),this.backend=o,this.injector=e,this.chain=null,this.pendingTasks=We(ol);let t=We(Qv,{optional:!0});this.backend=t??o}handle(o){if(this.chain===null){let t=Array.from(new Set([...this.injector.get(tf),...this.injector.get(Zv,[])]));this.chain=t.reduceRight((a,d)=>Wv(a,d,this.injector),Gv)}let e=this.pendingTasks.add();return this.chain(o,t=>this.backend.handle(t)).pipe(xr(()=>this.pendingTasks.remove(e)))}};n.\u0275fac=function(e){return new(e||n)(je(ul),je(Nr))},n.\u0275prov=He({token:n,factory:n.\u0275fac});let i=n;return i})();var Yv=/^\)\]\}',?\n/;function Jv(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var ef=(()=>{let n=class n{constructor(o){this.xhrFactory=o}handle(o){if(o.method==="JSONP")throw new zt(-2800,!1);let e=this.xhrFactory;return(e.\u0275loadImpl?_n(e.\u0275loadImpl()):ot(null)).pipe(Nn(()=>new wp(a=>{let d=e.build();if(d.open(o.method,o.urlWithParams),o.withCredentials&&(d.withCredentials=!0),o.headers.forEach((y,w)=>d.setRequestHeader(y,w.join(","))),o.headers.has("Accept")||d.setRequestHeader("Accept","application/json, text/plain, */*"),!o.headers.has("Content-Type")){let y=o.detectContentTypeHeader();y!==null&&d.setRequestHeader("Content-Type",y)}if(o.responseType){let y=o.responseType.toLowerCase();d.responseType=y!=="json"?y:"text"}let s=o.serializeBody(),c=null,u=()=>{if(c!==null)return c;let y=d.statusText||"OK",w=new Uo(d.getAllResponseHeaders()),S=Jv(d)||o.url;return c=new Yc({headers:w,status:d.status,statusText:y,url:S}),c},p=()=>{let{headers:y,status:w,statusText:S,url:P}=u(),j=null;w!==fl.NoContent&&(j=typeof d.response>"u"?d.responseText:d.response),w===0&&(w=j?fl.Ok:0);let R=w>=200&&w<300;if(o.responseType==="json"&&typeof j=="string"){let T=j;j=j.replace(Yv,"");try{j=j!==""?JSON.parse(j):null}catch(q){j=T,R&&(R=!1,j={error:q,text:j})}}R?(a.next(new ml({body:j,headers:y,status:w,statusText:S,url:P||void 0})),a.complete()):a.error(new pl({error:j,headers:y,status:w,statusText:S,url:P||void 0}))},m=y=>{let{url:w}=u(),S=new pl({error:y,status:d.status||0,statusText:d.statusText||"Unknown Error",url:w||void 0});a.error(S)},g=!1,v=y=>{g||(a.next(u()),g=!0);let w={type:Tr.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),o.responseType==="text"&&d.responseText&&(w.partialText=d.responseText),a.next(w)},x=y=>{let w={type:Tr.UploadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),a.next(w)};return d.addEventListener("load",p),d.addEventListener("error",m),d.addEventListener("timeout",m),d.addEventListener("abort",m),o.reportProgress&&(d.addEventListener("progress",v),s!==null&&d.upload&&d.upload.addEventListener("progress",x)),d.send(s),a.next({type:Tr.Sent}),()=>{d.removeEventListener("error",m),d.removeEventListener("abort",m),d.removeEventListener("load",p),d.removeEventListener("timeout",m),o.reportProgress&&(d.removeEventListener("progress",v),s!==null&&d.upload&&d.upload.removeEventListener("progress",x)),d.readyState!==d.DONE&&d.abort()}})))}};n.\u0275fac=function(e){return new(e||n)(je(cl))},n.\u0275prov=He({token:n,factory:n.\u0275fac});let i=n;return i})(),nf=new tt(""),Kv="XSRF-TOKEN",Xv=new tt("",{providedIn:"root",factory:()=>Kv}),ey="X-XSRF-TOKEN",ty=new tt("",{providedIn:"root",factory:()=>ey}),gl=class{},ny=(()=>{let n=class n{constructor(o,e,t){this.doc=o,this.platform=e,this.cookieName=t,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let o=this.doc.cookie||"";return o!==this.lastCookieString&&(this.parseCount++,this.lastToken=dl(o,this.cookieName),this.lastCookieString=o),this.lastToken}};n.\u0275fac=function(e){return new(e||n)(je(mn),je(ki),je(Xv))},n.\u0275prov=He({token:n,factory:n.\u0275fac});let i=n;return i})();function iy(i,n){let r=i.url.toLowerCase();if(!We(nf)||i.method==="GET"||i.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return n(i);let o=We(gl).getToken(),e=We(ty);return o!=null&&!i.headers.has(e)&&(i=i.clone({headers:i.headers.set(e,o)})),n(i)}function of(...i){let n=[ks,ef,Xp,{provide:Is,useExisting:Xp},{provide:ul,useExisting:ef},{provide:tf,useValue:iy,multi:!0},{provide:nf,useValue:!0},{provide:gl,useClass:ny}];for(let r of i)n.push(...r.\u0275providers);return hi(n)}var eh=class extends Gp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},th=class i extends eh{static makeCurrent(){Up(new i)}onAndCancel(n,r,o){return n.addEventListener(r,o),()=>{n.removeEventListener(r,o)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return r=r||this.getDefaultDocument(),r.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return r==="window"?window:r==="document"?n:r==="body"?n.body:null}getBaseHref(n){let r=sy();return r==null?null:ay(r)}resetBaseElement(){Ls=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return dl(document.cookie,n)}},Ls=null;function sy(){return Ls=Ls||document.querySelector("base"),Ls?Ls.getAttribute("href"):null}function ay(i){return new URL(i,document.baseURI).pathname}var ly=(()=>{let n=class n{build(){return new XMLHttpRequest}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac});let i=n;return i})(),nh=new tt(""),df=(()=>{let n=class n{constructor(o,e){this._zone=e,this._eventNameToPlugin=new Map,o.forEach(t=>{t.manager=this}),this._plugins=o.slice().reverse()}addEventListener(o,e,t){return this._findPluginFor(e).addEventListener(o,e,t)}getZone(){return this._zone}_findPluginFor(o){let e=this._eventNameToPlugin.get(o);if(e)return e;if(e=this._plugins.find(a=>a.supports(o)),!e)throw new zt(5101,!1);return this._eventNameToPlugin.set(o,e),e}};n.\u0275fac=function(e){return new(e||n)(je(nh),je(un))},n.\u0275prov=He({token:n,factory:n.\u0275fac});let i=n;return i})(),vl=class{constructor(n){this._doc=n}},Kc="ng-app-id",cf=(()=>{let n=class n{constructor(o,e,t,a={}){this.doc=o,this.appId=e,this.nonce=t,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Gc(a),this.resetHostNodes()}addStyles(o){for(let e of o)this.changeUsageCount(e,1)===1&&this.onStyleAdded(e)}removeStyles(o){for(let e of o)this.changeUsageCount(e,-1)<=0&&this.onStyleRemoved(e)}ngOnDestroy(){let o=this.styleNodesInDOM;o&&(o.forEach(e=>e.remove()),o.clear());for(let e of this.getAllStyles())this.onStyleRemoved(e);this.resetHostNodes()}addHost(o){this.hostNodes.add(o);for(let e of this.getAllStyles())this.addStyleToHost(o,e)}removeHost(o){this.hostNodes.delete(o)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(o){for(let e of this.hostNodes)this.addStyleToHost(e,o)}onStyleRemoved(o){let e=this.styleRef;e.get(o)?.elements?.forEach(t=>t.remove()),e.delete(o)}collectServerRenderedStyles(){let o=this.doc.head?.querySelectorAll(`style[${Kc}="${this.appId}"]`);if(o?.length){let e=new Map;return o.forEach(t=>{t.textContent!=null&&e.set(t.textContent,t)}),e}return null}changeUsageCount(o,e){let t=this.styleRef;if(t.has(o)){let a=t.get(o);return a.usage+=e,a.usage}return t.set(o,{usage:e,elements:[]}),e}getStyleElement(o,e){let t=this.styleNodesInDOM,a=t?.get(e);if(a?.parentNode===o)return t.delete(e),a.removeAttribute(Kc),a;{let d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=e,this.platformIsServer&&d.setAttribute(Kc,this.appId),o.appendChild(d),d}}addStyleToHost(o,e){let t=this.getStyleElement(o,e),a=this.styleRef,d=a.get(e)?.elements;d?d.push(t):a.set(e,{elements:[t],usage:1})}resetHostNodes(){let o=this.hostNodes;o.clear(),o.add(this.doc.head)}};n.\u0275fac=function(e){return new(e||n)(je(mn),je(Fc),je($c,8),je(ki))},n.\u0275prov=He({token:n,factory:n.\u0275fac});let i=n;return i})(),Xc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},oh=/%COMP%/g,hf="%COMP%",dy=`_nghost-${hf}`,cy=`_ngcontent-${hf}`,hy=!0,uy=new tt("",{providedIn:"root",factory:()=>hy});function my(i){return cy.replace(oh,i)}function py(i){return dy.replace(oh,i)}function uf(i,n){return n.map(r=>r.replace(oh,i))}var yl=(()=>{let n=class n{constructor(o,e,t,a,d,s,c,u=null){this.eventManager=o,this.sharedStylesHost=e,this.appId=t,this.removeStylesOnCompDestroy=a,this.doc=d,this.platformId=s,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Gc(s),this.defaultRenderer=new Rs(o,d,c,this.platformIsServer)}createRenderer(o,e){if(!o||!e)return this.defaultRenderer;this.platformIsServer&&e.encapsulation===xs.ShadowDom&&(e=st(Pe({},e),{encapsulation:xs.Emulated}));let t=this.getOrCreateRenderer(o,e);return t instanceof wl?t.applyToHost(o):t instanceof Ps&&t.applyStyles(),t}getOrCreateRenderer(o,e){let t=this.rendererByCompId,a=t.get(e.id);if(!a){let d=this.doc,s=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(e.encapsulation){case xs.Emulated:a=new wl(c,u,e,this.appId,p,d,s,m);break;case xs.ShadowDom:return new ih(c,u,o,e,d,s,this.nonce,m);default:a=new Ps(c,u,e,p,d,s,m);break}t.set(e.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};n.\u0275fac=function(e){return new(e||n)(je(df),je(cf),je(Fc),je(uy),je(mn),je(ki),je(un),je($c))},n.\u0275prov=He({token:n,factory:n.\u0275fac});let i=n;return i})(),Rs=class{constructor(n,r,o,e){this.eventManager=n,this.doc=r,this.ngZone=o,this.platformIsServer=e,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,r){return r?this.doc.createElementNS(Xc[r]||r,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,r){(rf(n)?n.content:n).appendChild(r)}insertBefore(n,r,o){n&&(rf(n)?n.content:n).insertBefore(r,o)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let o=typeof n=="string"?this.doc.querySelector(n):n;if(!o)throw new zt(-5104,!1);return r||(o.textContent=""),o}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,o,e){if(e){r=e+":"+r;let t=Xc[e];t?n.setAttributeNS(t,r,o):n.setAttribute(r,o)}else n.setAttribute(r,o)}removeAttribute(n,r,o){if(o){let e=Xc[o];e?n.removeAttributeNS(e,r):n.removeAttribute(`${o}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,o,e){e&(bs.DashCase|bs.Important)?n.style.setProperty(r,o,e&bs.Important?"important":""):n.style[r]=o}removeStyle(n,r,o){o&bs.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,o){n!=null&&(n[r]=o)}setValue(n,r){n.nodeValue=r}listen(n,r,o){if(typeof n=="string"&&(n=Cr().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${r}`);return this.eventManager.addEventListener(n,r,this.decoratePreventDefault(o))}decoratePreventDefault(n){return r=>{if(r==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(r)):n(r))===!1&&r.preventDefault()}}};function rf(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var ih=class extends Rs{constructor(n,r,o,e,t,a,d,s){super(n,t,a,s),this.sharedStylesHost=r,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=uf(e.id,e.styles);for(let u of c){let p=document.createElement("style");d&&p.setAttribute("nonce",d),p.textContent=u,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,o){return super.insertBefore(this.nodeOrShadowRoot(n),r,o)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ps=class extends Rs{constructor(n,r,o,e,t,a,d,s){super(n,t,a,d),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=e,this.styles=s?uf(s,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},wl=class extends Ps{constructor(n,r,o,e,t,a,d,s){let c=e+"-"+o.id;super(n,r,o,t,a,d,s,c),this.contentAttr=my(c),this.hostAttr=py(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,r){let o=super.createElement(n,r);return super.setAttribute(o,this.contentAttr,""),o}},fy=(()=>{let n=class n extends vl{constructor(o){super(o)}supports(o){return!0}addEventListener(o,e,t){return o.addEventListener(e,t,!1),()=>this.removeEventListener(o,e,t)}removeEventListener(o,e,t){return o.removeEventListener(e,t)}};n.\u0275fac=function(e){return new(e||n)(je(mn))},n.\u0275prov=He({token:n,factory:n.\u0275fac});let i=n;return i})(),sf=["alt","control","meta","shift"],gy={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vy={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},yy=(()=>{let n=class n extends vl{constructor(o){super(o)}supports(o){return n.parseEventName(o)!=null}addEventListener(o,e,t){let a=n.parseEventName(e),d=n.eventCallback(a.fullKey,t,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cr().onAndCancel(o,a.domEventName,d))}static parseEventName(o){let e=o.toLowerCase().split("."),t=e.shift();if(e.length===0||!(t==="keydown"||t==="keyup"))return null;let a=n._normalizeKey(e.pop()),d="",s=e.indexOf("code");if(s>-1&&(e.splice(s,1),d="code."),sf.forEach(u=>{let p=e.indexOf(u);p>-1&&(e.splice(p,1),d+=u+".")}),d+=a,e.length!=0||a.length===0)return null;let c={};return c.domEventName=t,c.fullKey=d,c}static matchEventFullKeyCode(o,e){let t=gy[o.key]||o.key,a="";return e.indexOf("code.")>-1&&(t=o.code,a="code."),t==null||!t?!1:(t=t.toLowerCase(),t===" "?t="space":t==="."&&(t="dot"),sf.forEach(d=>{if(d!==t){let s=vy[d];s(o)&&(a+=d+".")}}),a+=t,a===e)}static eventCallback(o,e,t){return a=>{n.matchEventFullKeyCode(a,o)&&t.runGuarded(()=>e(a))}}static _normalizeKey(o){return o==="esc"?"escape":o}};n.\u0275fac=function(e){return new(e||n)(je(mn))},n.\u0275prov=He({token:n,factory:n.\u0275fac});let i=n;return i})();function mf(i,n){return Hp(Pe({rootComponent:i},wy(n)))}function wy(i){return{appProviders:[...Cy,...i?.providers??[]],platformProviders:by}}function _y(){th.makeCurrent()}function xy(){return new Dc}function Ny(){return Op(document),document}var by=[{provide:ki,useValue:Zp},{provide:Dp,useValue:_y,multi:!0},{provide:mn,useFactory:Ny,deps:[]}];var Cy=[{provide:Pp,useValue:"root"},{provide:Dc,useFactory:xy,deps:[]},{provide:nh,useClass:fy,multi:!0,deps:[mn,un,ki]},{provide:nh,useClass:yy,multi:!0,deps:[mn]},yl,cf,df,{provide:nl,useExisting:yl},{provide:cl,useClass:ly,deps:[]},[]];var pf=(()=>{let n=class n{constructor(o){this._doc=o}getTitle(){return this._doc.title}setTitle(o){this._doc.title=o||""}};n.\u0275fac=function(e){return new(e||n)(je(mn))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var lt="primary",Ws=Symbol("RouteTitle"),dh=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){let r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function Rr(i){return new dh(i)}function Iy(i,n,r){let o=r.path.split("/");if(o.length>i.length||r.pathMatch==="full"&&(n.hasChildren()||o.length<i.length))return null;let e={};for(let t=0;t<o.length;t++){let a=o[t],d=i[t];if(a.startsWith(":"))e[a.substring(1)]=d;else if(a!==d.path)return null}return{consumed:i.slice(0,o.length),posParams:e}}function Ey(i,n){if(i.length!==n.length)return!1;for(let r=0;r<i.length;++r)if(!Di(i[r],n[r]))return!1;return!0}function Di(i,n){let r=i?ch(i):void 0,o=n?ch(n):void 0;if(!r||!o||r.length!=o.length)return!1;let e;for(let t=0;t<r.length;t++)if(e=r[t],!_f(i[e],n[e]))return!1;return!0}function ch(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function _f(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;let r=[...i].sort(),o=[...n].sort();return r.every((e,t)=>o[t]===e)}else return i===n}function xf(i){return i.length>0?i[i.length-1]:null}function So(i){return Ti(i)?i:al(i)?_n(Promise.resolve(i)):ot(i)}var ky={exact:bf,subset:Cf},Nf={exact:Ly,subset:Ry,ignored:()=>!0};function ff(i,n,r){return ky[r.paths](i.root,n.root,r.matrixParams)&&Nf[r.queryParams](i.queryParams,n.queryParams)&&!(r.fragment==="exact"&&i.fragment!==n.fragment)}function Ly(i,n){return Di(i,n)}function bf(i,n,r){if(!Wo(i.segments,n.segments)||!Nl(i.segments,n.segments,r)||i.numberOfChildren!==n.numberOfChildren)return!1;for(let o in n.children)if(!i.children[o]||!bf(i.children[o],n.children[o],r))return!1;return!0}function Ry(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(r=>_f(i[r],n[r]))}function Cf(i,n,r){return Sf(i,n,n.segments,r)}function Sf(i,n,r,o){if(i.segments.length>r.length){let e=i.segments.slice(0,r.length);return!(!Wo(e,r)||n.hasChildren()||!Nl(e,r,o))}else if(i.segments.length===r.length){if(!Wo(i.segments,r)||!Nl(i.segments,r,o))return!1;for(let e in n.children)if(!i.children[e]||!Cf(i.children[e],n.children[e],o))return!1;return!0}else{let e=r.slice(0,i.segments.length),t=r.slice(i.segments.length);return!Wo(i.segments,e)||!Nl(i.segments,e,o)||!i.children[lt]?!1:Sf(i.children[lt],n,t,o)}}function Nl(i,n,r){return n.every((o,e)=>Nf[r](i[e].parameters,o.parameters))}var bo=class{constructor(n=new Tt([],{}),r={},o=null){this.root=n,this.queryParams=r,this.fragment=o}get queryParamMap(){return this._queryParamMap??=Rr(this.queryParams),this._queryParamMap}toString(){return Ay.serialize(this)}},Tt=class{constructor(n,r){this.segments=n,this.children=r,this.parent=null,Object.values(r).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bl(this)}},Go=class{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap??=Rr(this.parameters),this._parameterMap}toString(){return If(this)}};function Py(i,n){return Wo(i,n)&&i.every((r,o)=>Di(r.parameters,n[o].parameters))}function Wo(i,n){return i.length!==n.length?!1:i.every((r,o)=>r.path===n[o].path)}function My(i,n){let r=[];return Object.entries(i.children).forEach(([o,e])=>{o===lt&&(r=r.concat(n(e,o)))}),Object.entries(i.children).forEach(([o,e])=>{o!==lt&&(r=r.concat(n(e,o)))}),r}var Dh=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:()=>new Sl,providedIn:"root"});let i=n;return i})(),Sl=class{parse(n){let r=new uh(n);return new bo(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){let r=`/${Ms(n.root,!0)}`,o=Fy(n.queryParams),e=typeof n.fragment=="string"?`#${Oy(n.fragment)}`:"";return`${r}${o}${e}`}},Ay=new Sl;function bl(i){return i.segments.map(n=>If(n)).join("/")}function Ms(i,n){if(!i.hasChildren())return bl(i);if(n){let r=i.children[lt]?Ms(i.children[lt],!1):"",o=[];return Object.entries(i.children).forEach(([e,t])=>{e!==lt&&o.push(`${e}:${Ms(t,!1)}`)}),o.length>0?`${r}(${o.join("//")})`:r}else{let r=My(i,(o,e)=>e===lt?[Ms(i.children[lt],!1)]:[`${e}:${Ms(o,!1)}`]);return Object.keys(i.children).length===1&&i.children[lt]!=null?`${bl(i)}/${r[0]}`:`${bl(i)}/(${r.join("//")})`}}function Tf(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _l(i){return Tf(i).replace(/%3B/gi,";")}function Oy(i){return encodeURI(i)}function hh(i){return Tf(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cl(i){return decodeURIComponent(i)}function gf(i){return Cl(i.replace(/\+/g,"%20"))}function If(i){return`${hh(i.path)}${Dy(i.parameters)}`}function Dy(i){return Object.entries(i).map(([n,r])=>`;${hh(n)}=${hh(r)}`).join("")}function Fy(i){let n=Object.entries(i).map(([r,o])=>Array.isArray(o)?o.map(e=>`${_l(r)}=${_l(e)}`).join("&"):`${_l(r)}=${_l(o)}`).filter(r=>r);return n.length?`?${n.join("&")}`:""}var $y=/^[^\/()?;#]+/;function rh(i){let n=i.match($y);return n?n[0]:""}var zy=/^[^\/()?;=#]+/;function By(i){let n=i.match(zy);return n?n[0]:""}var jy=/^[^=?&#]+/;function qy(i){let n=i.match(jy);return n?n[0]:""}var Vy=/^[^&#]+/;function Hy(i){let n=i.match(Vy);return n?n[0]:""}var uh=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tt([],{}):new Tt([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(o[lt]=new Tt(n,r)),o}parseSegment(){let n=rh(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new zt(4009,!1);return this.capture(n),new Go(Cl(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let r=By(this.remaining);if(!r)return;this.capture(r);let o="";if(this.consumeOptional("=")){let e=rh(this.remaining);e&&(o=e,this.capture(o))}n[Cl(r)]=Cl(o)}parseQueryParam(n){let r=qy(this.remaining);if(!r)return;this.capture(r);let o="";if(this.consumeOptional("=")){let a=Hy(this.remaining);a&&(o=a,this.capture(o))}let e=gf(r),t=gf(o);if(n.hasOwnProperty(e)){let a=n[e];Array.isArray(a)||(a=[a],n[e]=a),a.push(t)}else n[e]=t}parseParens(n){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let o=rh(this.remaining),e=this.remaining[o.length];if(e!=="/"&&e!==")"&&e!==";")throw new zt(4010,!1);let t;o.indexOf(":")>-1?(t=o.slice(0,o.indexOf(":")),this.capture(t),this.capture(":")):n&&(t=lt);let a=this.parseChildren();r[t]=Object.keys(a).length===1?a[lt]:new Tt([],a),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new zt(4011,!1)}};function Ef(i){return i.segments.length>0?new Tt([],{[lt]:i}):i}function kf(i){let n={};for(let[o,e]of Object.entries(i.children)){let t=kf(e);if(o===lt&&t.segments.length===0&&t.hasChildren())for(let[a,d]of Object.entries(t.children))n[a]=d;else(t.segments.length>0||t.hasChildren())&&(n[o]=t)}let r=new Tt(i.segments,n);return Uy(r)}function Uy(i){if(i.numberOfChildren===1&&i.children[lt]){let n=i.children[lt];return new Tt(i.segments.concat(n.segments),n.children)}return i}function Pr(i){return i instanceof bo}function Gy(i,n,r=null,o=null){let e=Lf(i);return Rf(e,n,r,o)}function Lf(i){let n;function r(t){let a={};for(let s of t.children){let c=r(s);a[s.outlet]=c}let d=new Tt(t.url,a);return t===i&&(n=d),d}let o=r(i.root),e=Ef(o);return n??e}function Rf(i,n,r,o){let e=i;for(;e.parent;)e=e.parent;if(n.length===0)return sh(e,e,e,r,o);let t=Wy(n);if(t.toRoot())return sh(e,e,new Tt([],{}),r,o);let a=Zy(t,e,i),d=a.processChildren?Ds(a.segmentGroup,a.index,t.commands):Mf(a.segmentGroup,a.index,t.commands);return sh(e,a.segmentGroup,d,r,o)}function Tl(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function zs(i){return typeof i=="object"&&i!=null&&i.outlets}function sh(i,n,r,o,e){let t={};o&&Object.entries(o).forEach(([s,c])=>{t[s]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let a;i===n?a=r:a=Pf(i,n,r);let d=Ef(kf(a));return new bo(d,t,e)}function Pf(i,n,r){let o={};return Object.entries(i.children).forEach(([e,t])=>{t===n?o[e]=r:o[e]=Pf(t,n,r)}),new Tt(i.segments,o)}var Il=class{constructor(n,r,o){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=o,n&&o.length>0&&Tl(o[0]))throw new zt(4003,!1);let e=o.find(zs);if(e&&e!==xf(o))throw new zt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Wy(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new Il(!0,0,i);let n=0,r=!1,o=i.reduce((e,t,a)=>{if(typeof t=="object"&&t!=null){if(t.outlets){let d={};return Object.entries(t.outlets).forEach(([s,c])=>{d[s]=typeof c=="string"?c.split("/"):c}),[...e,{outlets:d}]}if(t.segmentPath)return[...e,t.segmentPath]}return typeof t!="string"?[...e,t]:a===0?(t.split("/").forEach((d,s)=>{s==0&&d==="."||(s==0&&d===""?r=!0:d===".."?n++:d!=""&&e.push(d))}),e):[...e,t]},[]);return new Il(r,n,o)}var kr=class{constructor(n,r,o){this.segmentGroup=n,this.processChildren=r,this.index=o}};function Zy(i,n,r){if(i.isAbsolute)return new kr(n,!0,0);if(!r)return new kr(n,!1,NaN);if(r.parent===null)return new kr(r,!0,0);let o=Tl(i.commands[0])?0:1,e=r.segments.length-1+o;return Qy(r,e,i.numberOfDoubleDots)}function Qy(i,n,r){let o=i,e=n,t=r;for(;t>e;){if(t-=e,o=o.parent,!o)throw new zt(4005,!1);e=o.segments.length}return new kr(o,!1,e-t)}function Yy(i){return zs(i[0])?i[0].outlets:{[lt]:i}}function Mf(i,n,r){if(i??=new Tt([],{}),i.segments.length===0&&i.hasChildren())return Ds(i,n,r);let o=Jy(i,n,r),e=r.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){let t=new Tt(i.segments.slice(0,o.pathIndex),{});return t.children[lt]=new Tt(i.segments.slice(o.pathIndex),i.children),Ds(t,0,e)}else return o.match&&e.length===0?new Tt(i.segments,{}):o.match&&!i.hasChildren()?mh(i,n,r):o.match?Ds(i,0,e):mh(i,n,r)}function Ds(i,n,r){if(r.length===0)return new Tt(i.segments,{});{let o=Yy(r),e={};if(Object.keys(o).some(t=>t!==lt)&&i.children[lt]&&i.numberOfChildren===1&&i.children[lt].segments.length===0){let t=Ds(i.children[lt],n,r);return new Tt(i.segments,t.children)}return Object.entries(o).forEach(([t,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(e[t]=Mf(i.children[t],n,a))}),Object.entries(i.children).forEach(([t,a])=>{o[t]===void 0&&(e[t]=a)}),new Tt(i.segments,e)}}function Jy(i,n,r){let o=0,e=n,t={match:!1,pathIndex:0,commandIndex:0};for(;e<i.segments.length;){if(o>=r.length)return t;let a=i.segments[e],d=r[o];if(zs(d))break;let s=`${d}`,c=o<r.length-1?r[o+1]:null;if(e>0&&s===void 0)break;if(s&&c&&typeof c=="object"&&c.outlets===void 0){if(!yf(s,c,a))return t;o+=2}else{if(!yf(s,{},a))return t;o++}e++}return{match:!0,pathIndex:e,commandIndex:o}}function mh(i,n,r){let o=i.segments.slice(0,n),e=0;for(;e<r.length;){let t=r[e];if(zs(t)){let s=Ky(t.outlets);return new Tt(o,s)}if(e===0&&Tl(r[0])){let s=i.segments[n];o.push(new Go(s.path,vf(r[0]))),e++;continue}let a=zs(t)?t.outlets[lt]:`${t}`,d=e<r.length-1?r[e+1]:null;a&&d&&Tl(d)?(o.push(new Go(a,vf(d))),e+=2):(o.push(new Go(a,{})),e++)}return new Tt(o,{})}function Ky(i){let n={};return Object.entries(i).forEach(([r,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(n[r]=mh(new Tt([],{}),0,o))}),n}function vf(i){let n={};return Object.entries(i).forEach(([r,o])=>n[r]=`${o}`),n}function yf(i,n,r){return i==r.path&&Di(n,r.parameters)}var Fs="imperative",ln=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(ln||{}),oi=class{constructor(n,r){this.id=n,this.url=r}},Bs=class extends oi{constructor(n,r,o="imperative",e=null){super(n,r),this.type=ln.NavigationStart,this.navigationTrigger=o,this.restoredState=e}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ri=class extends oi{constructor(n,r,o){super(n,r),this.urlAfterRedirects=o,this.type=ln.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Gn=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Gn||{}),ph=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(ph||{}),Co=class extends oi{constructor(n,r,o,e){super(n,r),this.reason=o,this.code=e,this.type=ln.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zo=class extends oi{constructor(n,r,o,e){super(n,r),this.reason=o,this.code=e,this.type=ln.NavigationSkipped}},js=class extends oi{constructor(n,r,o,e){super(n,r),this.error=o,this.target=e,this.type=ln.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},El=class extends oi{constructor(n,r,o,e){super(n,r),this.urlAfterRedirects=o,this.state=e,this.type=ln.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fh=class extends oi{constructor(n,r,o,e){super(n,r),this.urlAfterRedirects=o,this.state=e,this.type=ln.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gh=class extends oi{constructor(n,r,o,e,t){super(n,r),this.urlAfterRedirects=o,this.state=e,this.shouldActivate=t,this.type=ln.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vh=class extends oi{constructor(n,r,o,e){super(n,r),this.urlAfterRedirects=o,this.state=e,this.type=ln.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yh=class extends oi{constructor(n,r,o,e){super(n,r),this.urlAfterRedirects=o,this.state=e,this.type=ln.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wh=class{constructor(n){this.route=n,this.type=ln.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_h=class{constructor(n){this.route=n,this.type=ln.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xh=class{constructor(n){this.snapshot=n,this.type=ln.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nh=class{constructor(n){this.snapshot=n,this.type=ln.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bh=class{constructor(n){this.snapshot=n,this.type=ln.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ch=class{constructor(n){this.snapshot=n,this.type=ln.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var qs=class{},Vs=class{constructor(n){this.url=n}};var Sh=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Al,this.attachRef=null}},Al=(()=>{let n=class n{constructor(){this.contexts=new Map}onChildOutletCreated(o,e){let t=this.getOrCreateContext(o);t.outlet=e,this.contexts.set(o,t)}onChildOutletDestroyed(o){let e=this.getContext(o);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){let o=this.contexts;return this.contexts=new Map,o}onOutletReAttached(o){this.contexts=o}getOrCreateContext(o){let e=this.getContext(o);return e||(e=new Sh,this.contexts.set(o,e)),e}getContext(o){return this.contexts.get(o)||null}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})(),kl=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){let r=Th(n,this._root);return r?r.children.map(o=>o.value):[]}firstChild(n){let r=Th(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){let r=Ih(n,this._root);return r.length<2?[]:r[r.length-2].children.map(e=>e.value).filter(e=>e!==n)}pathFromRoot(n){return Ih(n,this._root).map(r=>r.value)}};function Th(i,n){if(i===n.value)return n;for(let r of n.children){let o=Th(i,r);if(o)return o}return null}function Ih(i,n){if(i===n.value)return[n];for(let r of n.children){let o=Ih(i,r);if(o.length)return o.unshift(n),o}return[]}var Un=class{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}};function Er(i){let n={};return i&&i.children.forEach(r=>n[r.value.outlet]=r),n}var Ll=class extends kl{constructor(n,r){super(n),this.snapshot=r,$h(this,n)}toString(){return this.snapshot.toString()}};function Af(i){let n=Xy(i),r=new _t([new Go("",{})]),o=new _t({}),e=new _t({}),t=new _t({}),a=new _t(""),d=new Wn(r,o,t,a,e,lt,i,n.root);return d.snapshot=n.root,new Ll(new Un(d,[]),n)}function Xy(i){let n={},r={},o={},e="",t=new Hs([],n,o,e,r,lt,i,null,{});return new Rl("",new Un(t,[]))}var Wn=class{constructor(n,r,o,e,t,a,d,s){this.urlSubject=n,this.paramsSubject=r,this.queryParamsSubject=o,this.fragmentSubject=e,this.dataSubject=t,this.outlet=a,this.component=d,this._futureSnapshot=s,this.title=this.dataSubject?.pipe(ft(c=>c[Ws]))??ot(void 0),this.url=n,this.params=r,this.queryParams=o,this.fragment=e,this.data=t}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ft(n=>Rr(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ft(n=>Rr(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Fh(i,n,r="emptyOnly"){let o,{routeConfig:e}=i;return n!==null&&(r==="always"||e?.path===""||!n.component&&!n.routeConfig?.loadComponent)?o={params:Pe(Pe({},n.params),i.params),data:Pe(Pe({},n.data),i.data),resolve:Pe(Pe(Pe(Pe({},i.data),n.data),e?.data),i._resolvedData)}:o={params:Pe({},i.params),data:Pe({},i.data),resolve:Pe(Pe({},i.data),i._resolvedData??{})},e&&Df(e)&&(o.resolve[Ws]=e.title),o}var Hs=class{get title(){return this.data?.[Ws]}constructor(n,r,o,e,t,a,d,s,c){this.url=n,this.params=r,this.queryParams=o,this.fragment=e,this.data=t,this.outlet=a,this.component=d,this.routeConfig=s,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rr(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(o=>o.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${r}')`}},Rl=class extends kl{constructor(n,r){super(r),this.url=n,$h(this,r)}toString(){return Of(this._root)}};function $h(i,n){n.value._routerState=i,n.children.forEach(r=>$h(i,r))}function Of(i){let n=i.children.length>0?` { ${i.children.map(Of).join(", ")} } `:"";return`${i.value}${n}`}function ah(i){if(i.snapshot){let n=i.snapshot,r=i._futureSnapshot;i.snapshot=r,Di(n.queryParams,r.queryParams)||i.queryParamsSubject.next(r.queryParams),n.fragment!==r.fragment&&i.fragmentSubject.next(r.fragment),Di(n.params,r.params)||i.paramsSubject.next(r.params),Ey(n.url,r.url)||i.urlSubject.next(r.url),Di(n.data,r.data)||i.dataSubject.next(r.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function Eh(i,n){let r=Di(i.params,n.params)&&Py(i.url,n.url),o=!i.parent!=!n.parent;return r&&!o&&(!i.parent||Eh(i.parent,n.parent))}function Df(i){return typeof i.title=="string"||i.title===null}var zh=(()=>{let n=class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=lt,this.activateEvents=new Et,this.deactivateEvents=new Et,this.attachEvents=new Et,this.detachEvents=new Et,this.parentContexts=We(Al),this.location=We(Cs),this.changeDetector=We(Oi),this.environmentInjector=We(Nr),this.inputBinder=We(Bh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(o){if(o.name){let{firstChange:e,previousValue:t}=o.name;if(e)return;this.isTrackedInParentContexts(t)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(t)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(o){return this.parentContexts.getContext(o)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let o=this.parentContexts.getContext(this.name);o?.route&&(o.attachRef?this.attach(o.attachRef,o.route):this.activateWith(o.route,o.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new zt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new zt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new zt(4012,!1);this.location.detach();let o=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(o.instance),o}attach(o,e){this.activated=o,this._activatedRoute=e,this.location.insert(o.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(o.instance)}deactivate(){if(this.activated){let o=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(o)}}activateWith(o,e){if(this.isActivated)throw new zt(4013,!1);this._activatedRoute=o;let t=this.location,d=o.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new kh(o,s,t.injector);this.activated=t.createComponent(d,{index:t.length,injector:c,environmentInjector:e??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Tn({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[In]});let i=n;return i})(),kh=class{constructor(n,r,o){this.route=n,this.childContexts=r,this.parent=o,this.__ngOutletInjector=!0}get(n,r){return n===Wn?this.route:n===Al?this.childContexts:this.parent.get(n,r)}},Bh=new tt("");function ew(i,n,r){let o=Us(i,n._root,r?r._root:void 0);return new Ll(o,n)}function Us(i,n,r){if(r&&i.shouldReuseRoute(n.value,r.value.snapshot)){let o=r.value;o._futureSnapshot=n.value;let e=tw(i,n,r);return new Un(o,e)}else{if(i.shouldAttach(n.value)){let t=i.retrieve(n.value);if(t!==null){let a=t.route;return a.value._futureSnapshot=n.value,a.children=n.children.map(d=>Us(i,d)),a}}let o=nw(n.value),e=n.children.map(t=>Us(i,t));return new Un(o,e)}}function tw(i,n,r){return n.children.map(o=>{for(let e of r.children)if(i.shouldReuseRoute(o.value,e.value.snapshot))return Us(i,o,e);return Us(i,o)})}function nw(i){return new Wn(new _t(i.url),new _t(i.params),new _t(i.queryParams),new _t(i.fragment),new _t(i.data),i.outlet,i.component,i)}var Ff="ngNavigationCancelingError";function $f(i,n){let{redirectTo:r,navigationBehaviorOptions:o}=Pr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,e=zf(!1,Gn.Redirect);return e.url=r,e.navigationBehaviorOptions=o,e}function zf(i,n){let r=new Error(`NavigationCancelingError: ${i||""}`);return r[Ff]=!0,r.cancellationCode=n,r}function iw(i){return Bf(i)&&Pr(i.url)}function Bf(i){return!!i&&i[Ff]}var ow=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Fe({type:n,selectors:[["ng-component"]],standalone:!0,features:[$e],decls:1,vars:0,template:function(e,t){e&1&&ke(0,"router-outlet")},dependencies:[zh],encapsulation:2});let i=n;return i})();function rw(i,n){return i.providers&&!i._injector&&(i._injector=jp(i.providers,n,`Route: ${i.path}`)),i._injector??n}function jh(i){let n=i.children&&i.children.map(jh),r=n?st(Pe({},i),{children:n}):Pe({},i);return!r.component&&!r.loadComponent&&(n||r.loadChildren)&&r.outlet&&r.outlet!==lt&&(r.component=ow),r}function Fi(i){return i.outlet||lt}function sw(i,n){let r=i.filter(o=>Fi(o)===n);return r.push(...i.filter(o=>Fi(o)!==n)),r}function Zs(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let n=i.parent;n;n=n.parent){let r=n.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var aw=(i,n,r,o)=>ft(e=>(new Lh(n,e.targetRouterState,e.currentRouterState,r,o).activate(i),e)),Lh=class{constructor(n,r,o,e,t){this.routeReuseStrategy=n,this.futureState=r,this.currState=o,this.forwardEvent=e,this.inputBindingEnabled=t}activate(n){let r=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,o,n),ah(this.futureState.root),this.activateChildRoutes(r,o,n)}deactivateChildRoutes(n,r,o){let e=Er(r);n.children.forEach(t=>{let a=t.value.outlet;this.deactivateRoutes(t,e[a],o),delete e[a]}),Object.values(e).forEach(t=>{this.deactivateRouteAndItsChildren(t,o)})}deactivateRoutes(n,r,o){let e=n.value,t=r?r.value:null;if(e===t)if(e.component){let a=o.getContext(e.outlet);a&&this.deactivateChildRoutes(n,r,a.children)}else this.deactivateChildRoutes(n,r,o);else t&&this.deactivateRouteAndItsChildren(r,o)}deactivateRouteAndItsChildren(n,r){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){let o=r.getContext(n.value.outlet),e=o&&n.value.component?o.children:r,t=Er(n);for(let a of Object.values(t))this.deactivateRouteAndItsChildren(a,e);if(o&&o.outlet){let a=o.outlet.detach(),d=o.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:d})}}deactivateRouteAndOutlet(n,r){let o=r.getContext(n.value.outlet),e=o&&n.value.component?o.children:r,t=Er(n);for(let a of Object.values(t))this.deactivateRouteAndItsChildren(a,e);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(n,r,o){let e=Er(r);n.children.forEach(t=>{this.activateRoutes(t,e[t.value.outlet],o),this.forwardEvent(new Ch(t.value.snapshot))}),n.children.length&&this.forwardEvent(new Nh(n.value.snapshot))}activateRoutes(n,r,o){let e=n.value,t=r?r.value:null;if(ah(e),e===t)if(e.component){let a=o.getOrCreateContext(e.outlet);this.activateChildRoutes(n,r,a.children)}else this.activateChildRoutes(n,r,o);else if(e.component){let a=o.getOrCreateContext(e.outlet);if(this.routeReuseStrategy.shouldAttach(e.snapshot)){let d=this.routeReuseStrategy.retrieve(e.snapshot);this.routeReuseStrategy.store(e.snapshot,null),a.children.onOutletReAttached(d.contexts),a.attachRef=d.componentRef,a.route=d.route.value,a.outlet&&a.outlet.attach(d.componentRef,d.route.value),ah(d.route.value),this.activateChildRoutes(n,null,a.children)}else{let d=Zs(e.snapshot);a.attachRef=null,a.route=e,a.injector=d,a.outlet&&a.outlet.activateWith(e,a.injector),this.activateChildRoutes(n,null,a.children)}}else this.activateChildRoutes(n,null,o)}},Pl=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Lr=class{constructor(n,r){this.component=n,this.route=r}};function lw(i,n,r){let o=i._root,e=n?n._root:null;return As(o,e,r,[o.value])}function dw(i){let n=i.routeConfig?i.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:i,guards:n}}function Ar(i,n){let r=Symbol(),o=n.get(i,r);return o===r?typeof i=="function"&&!Ep(i)?i:n.get(i):o}function As(i,n,r,o,e={canDeactivateChecks:[],canActivateChecks:[]}){let t=Er(n);return i.children.forEach(a=>{cw(a,t[a.value.outlet],r,o.concat([a.value]),e),delete t[a.value.outlet]}),Object.entries(t).forEach(([a,d])=>$s(d,r.getContext(a),e)),e}function cw(i,n,r,o,e={canDeactivateChecks:[],canActivateChecks:[]}){let t=i.value,a=n?n.value:null,d=r?r.getContext(i.value.outlet):null;if(a&&t.routeConfig===a.routeConfig){let s=hw(a,t,t.routeConfig.runGuardsAndResolvers);s?e.canActivateChecks.push(new Pl(o)):(t.data=a.data,t._resolvedData=a._resolvedData),t.component?As(i,n,d?d.children:null,o,e):As(i,n,r,o,e),s&&d&&d.outlet&&d.outlet.isActivated&&e.canDeactivateChecks.push(new Lr(d.outlet.component,a))}else a&&$s(n,d,e),e.canActivateChecks.push(new Pl(o)),t.component?As(i,null,d?d.children:null,o,e):As(i,null,r,o,e);return e}function hw(i,n,r){if(typeof r=="function")return r(i,n);switch(r){case"pathParamsChange":return!Wo(i.url,n.url);case"pathParamsOrQueryParamsChange":return!Wo(i.url,n.url)||!Di(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Eh(i,n)||!Di(i.queryParams,n.queryParams);case"paramsChange":default:return!Eh(i,n)}}function $s(i,n,r){let o=Er(i),e=i.value;Object.entries(o).forEach(([t,a])=>{e.component?n?$s(a,n.children.getContext(t),r):$s(a,null,r):$s(a,n,r)}),e.component?n&&n.outlet&&n.outlet.isActivated?r.canDeactivateChecks.push(new Lr(n.outlet.component,e)):r.canDeactivateChecks.push(new Lr(null,e)):r.canDeactivateChecks.push(new Lr(null,e))}function Qs(i){return typeof i=="function"}function uw(i){return typeof i=="boolean"}function mw(i){return i&&Qs(i.canLoad)}function pw(i){return i&&Qs(i.canActivate)}function fw(i){return i&&Qs(i.canActivateChild)}function gw(i){return i&&Qs(i.canDeactivate)}function vw(i){return i&&Qs(i.canMatch)}function jf(i){return i instanceof _p||i?.name==="EmptyError"}var xl=Symbol("INITIAL_VALUE");function Mr(){return Nn(i=>Lc(i.map(n=>n.pipe(xn(1),Ip(xl)))).pipe(ft(n=>{for(let r of n)if(r!==!0){if(r===xl)return xl;if(r===!1||r instanceof bo)return r}return!0}),Ii(n=>n!==xl),xn(1)))}function yw(i,n){return ii(r=>{let{targetSnapshot:o,currentSnapshot:e,guards:{canActivateChecks:t,canDeactivateChecks:a}}=r;return a.length===0&&t.length===0?ot(st(Pe({},r),{guardsResult:!0})):ww(a,o,e,i).pipe(ii(d=>d&&uw(d)?_w(o,t,i,n):ot(d)),ft(d=>st(Pe({},r),{guardsResult:d})))})}function ww(i,n,r,o){return _n(i).pipe(ii(e=>Sw(e.component,e.route,r,n,o)),yo(e=>e!==!0,!0))}function _w(i,n,r,o){return _n(n).pipe(eo(e=>_s(Nw(e.route.parent,o),xw(e.route,o),Cw(i,e.path,r),bw(i,e.route,r))),yo(e=>e!==!0,!0))}function xw(i,n){return i!==null&&n&&n(new bh(i)),ot(!0)}function Nw(i,n){return i!==null&&n&&n(new xh(i)),ot(!0)}function bw(i,n,r){let o=n.routeConfig?n.routeConfig.canActivate:null;if(!o||o.length===0)return ot(!0);let e=o.map(t=>wr(()=>{let a=Zs(n)??r,d=Ar(t,a),s=pw(d)?d.canActivate(n,i):Vn(a,()=>d(n,i));return So(s).pipe(yo())}));return ot(e).pipe(Mr())}function Cw(i,n,r){let o=n[n.length-1],t=n.slice(0,n.length-1).reverse().map(a=>dw(a)).filter(a=>a!==null).map(a=>wr(()=>{let d=a.guards.map(s=>{let c=Zs(a.node)??r,u=Ar(s,c),p=fw(u)?u.canActivateChild(o,i):Vn(c,()=>u(o,i));return So(p).pipe(yo())});return ot(d).pipe(Mr())}));return ot(t).pipe(Mr())}function Sw(i,n,r,o,e){let t=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!t||t.length===0)return ot(!0);let a=t.map(d=>{let s=Zs(n)??e,c=Ar(d,s),u=gw(c)?c.canDeactivate(i,n,r,o):Vn(s,()=>c(i,n,r,o));return So(u).pipe(yo())});return ot(a).pipe(Mr())}function Tw(i,n,r,o){let e=n.canLoad;if(e===void 0||e.length===0)return ot(!0);let t=e.map(a=>{let d=Ar(a,i),s=mw(d)?d.canLoad(n,r):Vn(i,()=>d(n,r));return So(s)});return ot(t).pipe(Mr(),qf(o))}function qf(i){return yp(an(n=>{if(Pr(n))throw $f(i,n)}),ft(n=>n===!0))}function Iw(i,n,r,o){let e=n.canMatch;if(!e||e.length===0)return ot(!0);let t=e.map(a=>{let d=Ar(a,i),s=vw(d)?d.canMatch(n,r):Vn(i,()=>d(n,r));return So(s)});return ot(t).pipe(Mr(),qf(o))}var Gs=class{constructor(n){this.segmentGroup=n||null}},Ml=class extends Error{constructor(n){super(),this.urlTree=n}};function Ir(i){return Vo(new Gs(i))}function Ew(i){return Vo(new zt(4e3,!1))}function kw(i){return Vo(zf(!1,Gn.GuardRejected))}var Rh=class{constructor(n,r){this.urlSerializer=n,this.urlTree=r}lineralizeSegments(n,r){let o=[],e=r.root;for(;;){if(o=o.concat(e.segments),e.numberOfChildren===0)return ot(o);if(e.numberOfChildren>1||!e.children[lt])return Ew(n.redirectTo);e=e.children[lt]}}applyRedirectCommands(n,r,o){let e=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),n,o);if(r.startsWith("/"))throw new Ml(e);return e}applyRedirectCreateUrlTree(n,r,o,e){let t=this.createSegmentGroup(n,r.root,o,e);return new bo(t,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){let o={};return Object.entries(n).forEach(([e,t])=>{if(typeof t=="string"&&t.startsWith(":")){let d=t.substring(1);o[e]=r[d]}else o[e]=t}),o}createSegmentGroup(n,r,o,e){let t=this.createSegments(n,r.segments,o,e),a={};return Object.entries(r.children).forEach(([d,s])=>{a[d]=this.createSegmentGroup(n,s,o,e)}),new Tt(t,a)}createSegments(n,r,o,e){return r.map(t=>t.path.startsWith(":")?this.findPosParam(n,t,e):this.findOrReturn(t,o))}findPosParam(n,r,o){let e=o[r.path.substring(1)];if(!e)throw new zt(4001,!1);return e}findOrReturn(n,r){let o=0;for(let e of r){if(e.path===n.path)return r.splice(o),e;o++}return n}},Ph={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lw(i,n,r,o,e){let t=qh(i,n,r);return t.matched?(o=rw(n,o),Iw(o,n,r,e).pipe(ft(a=>a===!0?t:Pe({},Ph)))):ot(t)}function qh(i,n,r){if(n.path==="**")return Rw(r);if(n.path==="")return n.pathMatch==="full"&&(i.hasChildren()||r.length>0)?Pe({},Ph):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let e=(n.matcher||Iy)(r,i,n);if(!e)return Pe({},Ph);let t={};Object.entries(e.posParams??{}).forEach(([d,s])=>{t[d]=s.path});let a=e.consumed.length>0?Pe(Pe({},t),e.consumed[e.consumed.length-1].parameters):t;return{matched:!0,consumedSegments:e.consumed,remainingSegments:r.slice(e.consumed.length),parameters:a,positionalParamSegments:e.posParams??{}}}function Rw(i){return{matched:!0,parameters:i.length>0?xf(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function wf(i,n,r,o){return r.length>0&&Aw(i,r,o)?{segmentGroup:new Tt(n,Mw(o,new Tt(r,i.children))),slicedSegments:[]}:r.length===0&&Ow(i,r,o)?{segmentGroup:new Tt(i.segments,Pw(i,r,o,i.children)),slicedSegments:r}:{segmentGroup:new Tt(i.segments,i.children),slicedSegments:r}}function Pw(i,n,r,o){let e={};for(let t of r)if(Ol(i,n,t)&&!o[Fi(t)]){let a=new Tt([],{});e[Fi(t)]=a}return Pe(Pe({},o),e)}function Mw(i,n){let r={};r[lt]=n;for(let o of i)if(o.path===""&&Fi(o)!==lt){let e=new Tt([],{});r[Fi(o)]=e}return r}function Aw(i,n,r){return r.some(o=>Ol(i,n,o)&&Fi(o)!==lt)}function Ow(i,n,r){return r.some(o=>Ol(i,n,o))}function Ol(i,n,r){return(i.hasChildren()||n.length>0)&&r.pathMatch==="full"?!1:r.path===""}function Dw(i,n,r,o){return Fi(i)!==o&&(o===lt||!Ol(n,r,i))?!1:qh(n,i,r).matched}function Fw(i,n,r){return n.length===0&&!i.children[r]}var Mh=class{};function $w(i,n,r,o,e,t,a="emptyOnly"){return new Ah(i,n,r,o,e,a,t).recognize()}var zw=31,Ah=class{constructor(n,r,o,e,t,a,d){this.injector=n,this.configLoader=r,this.rootComponentType=o,this.config=e,this.urlTree=t,this.paramsInheritanceStrategy=a,this.urlSerializer=d,this.applyRedirects=new Rh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new zt(4002,`'${n.segmentGroup}'`)}recognize(){let n=wf(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(ft(r=>{let o=new Hs([],Object.freeze({}),Object.freeze(Pe({},this.urlTree.queryParams)),this.urlTree.fragment,{},lt,this.rootComponentType,null,{}),e=new Un(o,r),t=new Rl("",e),a=Gy(o,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,t.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(t._root,null),{state:t,tree:a}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,lt).pipe(vo(o=>{if(o instanceof Ml)return this.urlTree=o.urlTree,this.match(o.urlTree.root);throw o instanceof Gs?this.noMatchError(o):o}))}inheritParamsAndData(n,r){let o=n.value,e=Fh(o,r,this.paramsInheritanceStrategy);o.params=Object.freeze(e.params),o.data=Object.freeze(e.data),n.children.forEach(t=>this.inheritParamsAndData(t,o))}processSegmentGroup(n,r,o,e){return o.segments.length===0&&o.hasChildren()?this.processChildren(n,r,o):this.processSegment(n,r,o,o.segments,e,!0).pipe(ft(t=>t instanceof Un?[t]:[]))}processChildren(n,r,o){let e=[];for(let t of Object.keys(o.children))t==="primary"?e.unshift(t):e.push(t);return _n(e).pipe(eo(t=>{let a=o.children[t],d=sw(r,t);return this.processSegmentGroup(n,d,a,t)}),Tp((t,a)=>(t.push(...a),t)),Pc(null),Sp(),ii(t=>{if(t===null)return Ir(o);let a=Vf(t);return Bw(a),ot(a)}))}processSegment(n,r,o,e,t,a){return _n(r).pipe(eo(d=>this.processSegmentAgainstRoute(d._injector??n,r,d,o,e,t,a).pipe(vo(s=>{if(s instanceof Gs)return ot(null);throw s}))),yo(d=>!!d),vo(d=>{if(jf(d))return Fw(o,e,t)?ot(new Mh):Ir(o);throw d}))}processSegmentAgainstRoute(n,r,o,e,t,a,d){return Dw(o,e,t,a)?o.redirectTo===void 0?this.matchSegmentAgainstRoute(n,e,o,t,a):this.allowRedirects&&d?this.expandSegmentAgainstRouteUsingRedirect(n,e,r,o,t,a):Ir(e):Ir(e)}expandSegmentAgainstRouteUsingRedirect(n,r,o,e,t,a){let{matched:d,consumedSegments:s,positionalParamSegments:c,remainingSegments:u}=qh(r,e,t);if(!d)return Ir(r);e.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>zw&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(s,e.redirectTo,c);return this.applyRedirects.lineralizeSegments(e,p).pipe(ii(m=>this.processSegment(n,o,r,m.concat(u),a,!1)))}matchSegmentAgainstRoute(n,r,o,e,t){let a=Lw(r,o,e,n,this.urlSerializer);return o.path==="**"&&(r.children={}),a.pipe(Nn(d=>d.matched?(n=o._injector??n,this.getChildConfig(n,o,e).pipe(Nn(({routes:s})=>{let c=o._loadedInjector??n,{consumedSegments:u,remainingSegments:p,parameters:m}=d,g=new Hs(u,m,Object.freeze(Pe({},this.urlTree.queryParams)),this.urlTree.fragment,qw(o),Fi(o),o.component??o._loadedComponent??null,o,Vw(o)),{segmentGroup:v,slicedSegments:x}=wf(r,u,p,s);if(x.length===0&&v.hasChildren())return this.processChildren(c,s,v).pipe(ft(w=>w===null?null:new Un(g,w)));if(s.length===0&&x.length===0)return ot(new Un(g,[]));let y=Fi(o)===t;return this.processSegment(c,s,v,x,y?lt:t,!0).pipe(ft(w=>new Un(g,w instanceof Un?[w]:[])))}))):Ir(r)))}getChildConfig(n,r,o){return r.children?ot({routes:r.children,injector:n}):r.loadChildren?r._loadedRoutes!==void 0?ot({routes:r._loadedRoutes,injector:r._loadedInjector}):Tw(n,r,o,this.urlSerializer).pipe(ii(e=>e?this.configLoader.loadChildren(n,r).pipe(an(t=>{r._loadedRoutes=t.routes,r._loadedInjector=t.injector})):kw(r))):ot({routes:[],injector:n})}};function Bw(i){i.sort((n,r)=>n.value.outlet===lt?-1:r.value.outlet===lt?1:n.value.outlet.localeCompare(r.value.outlet))}function jw(i){let n=i.value.routeConfig;return n&&n.path===""}function Vf(i){let n=[],r=new Set;for(let o of i){if(!jw(o)){n.push(o);continue}let e=n.find(t=>o.value.routeConfig===t.value.routeConfig);e!==void 0?(e.children.push(...o.children),r.add(e)):n.push(o)}for(let o of r){let e=Vf(o.children);n.push(new Un(o.value,e))}return n.filter(o=>!r.has(o))}function qw(i){return i.data||{}}function Vw(i){return i.resolve||{}}function Hw(i,n,r,o,e,t){return ii(a=>$w(i,n,r,o,a.extractedUrl,e,t).pipe(ft(({state:d,tree:s})=>st(Pe({},a),{targetSnapshot:d,urlAfterRedirects:s}))))}function Uw(i,n){return ii(r=>{let{targetSnapshot:o,guards:{canActivateChecks:e}}=r;if(!e.length)return ot(r);let t=new Set(e.map(s=>s.route)),a=new Set;for(let s of t)if(!a.has(s))for(let c of Hf(s))a.add(c);let d=0;return _n(a).pipe(eo(s=>t.has(s)?Gw(s,o,i,n):(s.data=Fh(s,s.parent,i).resolve,ot(void 0))),an(()=>d++),Mc(1),ii(s=>d===a.size?ot(r):go))})}function Hf(i){let n=i.children.map(r=>Hf(r)).flat();return[i,...n]}function Gw(i,n,r,o){let e=i.routeConfig,t=i._resolve;return e?.title!==void 0&&!Df(e)&&(t[Ws]=e.title),Ww(t,i,n,o).pipe(ft(a=>(i._resolvedData=a,i.data=Fh(i,i.parent,r).resolve,null)))}function Ww(i,n,r,o){let e=ch(i);if(e.length===0)return ot({});let t={};return _n(e).pipe(ii(a=>Zw(i[a],n,r,o).pipe(yo(),an(d=>{t[a]=d}))),Mc(1),Cp(t),vo(a=>jf(a)?go:Vo(a)))}function Zw(i,n,r,o){let e=Zs(n)??o,t=Ar(i,e),a=t.resolve?t.resolve(n,r):Vn(e,()=>t(n,r));return So(a)}function lh(i){return Nn(n=>{let r=i(n);return r?_n(r).pipe(ft(()=>n)):ot(n)})}var Uf=(()=>{let n=class n{buildTitle(o){let e,t=o.root;for(;t!==void 0;)e=this.getResolvedTitleForRoute(t)??e,t=t.children.find(a=>a.outlet===lt);return e}getResolvedTitleForRoute(o){return o.data[Ws]}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:()=>We(Qw),providedIn:"root"});let i=n;return i})(),Qw=(()=>{let n=class n extends Uf{constructor(o){super(),this.title=o}updateTitle(o){let e=this.buildTitle(o);e!==void 0&&this.title.setTitle(e)}};n.\u0275fac=function(e){return new(e||n)(je(pf))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})(),Vh=new tt("",{providedIn:"root",factory:()=>({})}),Hh=new tt(""),Yw=(()=>{let n=class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=We(Vc)}loadComponent(o){if(this.componentLoaders.get(o))return this.componentLoaders.get(o);if(o._loadedComponent)return ot(o._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(o);let e=So(o.loadComponent()).pipe(ft(Gf),an(a=>{this.onLoadEndListener&&this.onLoadEndListener(o),o._loadedComponent=a}),xr(()=>{this.componentLoaders.delete(o)})),t=new kc(e,()=>new Jt).pipe(Ec());return this.componentLoaders.set(o,t),t}loadChildren(o,e){if(this.childrenLoaders.get(e))return this.childrenLoaders.get(e);if(e._loadedRoutes)return ot({routes:e._loadedRoutes,injector:e._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(e);let a=Jw(e,this.compiler,o,this.onLoadEndListener).pipe(xr(()=>{this.childrenLoaders.delete(e)})),d=new kc(a,()=>new Jt).pipe(Ec());return this.childrenLoaders.set(e,d),d}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();function Jw(i,n,r,o){return So(i.loadChildren()).pipe(ft(Gf),ii(e=>e instanceof Bp||Array.isArray(e)?ot(e):_n(n.compileModuleAsync(e))),ft(e=>{o&&o(i);let t,a,d=!1;return Array.isArray(e)?(a=e,d=!0):(t=e.create(r).injector,a=t.get(Hh,[],{optional:!0,self:!0}).flat()),{routes:a.map(jh),injector:t}}))}function Kw(i){return i&&typeof i=="object"&&"default"in i}function Gf(i){return Kw(i)?i.default:i}var Uh=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:()=>We(Xw),providedIn:"root"});let i=n;return i})(),Xw=(()=>{let n=class n{shouldProcessUrl(o){return!0}extract(o){return o}merge(o,e){return o}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})(),e_=new tt("");var t_=(()=>{let n=class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Jt,this.transitionAbortSubject=new Jt,this.configLoader=We(Yw),this.environmentInjector=We(Nr),this.urlSerializer=We(Dh),this.rootContexts=We(Al),this.location=We(Sr),this.inputBindingEnabled=We(Bh,{optional:!0})!==null,this.titleStrategy=We(Uf),this.options=We(Vh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=We(Uh),this.createViewTransition=We(e_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ot(void 0),this.rootComponentType=null;let o=t=>this.events.next(new wh(t)),e=t=>this.events.next(new _h(t));this.configLoader.onLoadEndListener=e,this.configLoader.onLoadStartListener=o}complete(){this.transitions?.complete()}handleNavigationRequest(o){let e=++this.navigationId;this.transitions?.next(st(Pe(Pe({},this.transitions.value),o),{id:e}))}setupNavigations(o,e,t){return this.transitions=new _t({id:0,currentUrlTree:e,currentRawUrl:e,extractedUrl:this.urlHandlingStrategy.extract(e),urlAfterRedirects:this.urlHandlingStrategy.extract(e),rawUrl:e,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fs,restoredState:null,currentSnapshot:t.snapshot,targetSnapshot:null,currentRouterState:t,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ii(a=>a.id!==0),ft(a=>st(Pe({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Nn(a=>{let d=!1,s=!1;return ot(a).pipe(Nn(c=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",Gn.SupersededByNewNavigation),go;this.currentTransition=a,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?st(Pe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!o.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=c.extras.onSameUrlNavigation??o.onSameUrlNavigation;if(!u&&p!=="reload"){let m="";return this.events.next(new Zo(c.id,this.urlSerializer.serialize(c.rawUrl),m,ph.IgnoredSameUrlNavigation)),c.resolve(null),go}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ot(c).pipe(Nn(m=>{let g=this.transitions?.getValue();return this.events.next(new Bs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),g!==this.transitions?.getValue()?go:Promise.resolve(m)}),Hw(this.environmentInjector,this.configLoader,this.rootComponentType,o.config,this.urlSerializer,this.paramsInheritanceStrategy),an(m=>{a.targetSnapshot=m.targetSnapshot,a.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=st(Pe({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let g=new El(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:m,extractedUrl:g,source:v,restoredState:x,extras:y}=c,w=new Bs(m,this.urlSerializer.serialize(g),v,x);this.events.next(w);let S=Af(this.rootComponentType).snapshot;return this.currentTransition=a=st(Pe({},c),{targetSnapshot:S,urlAfterRedirects:g,extras:st(Pe({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,ot(a)}else{let m="";return this.events.next(new Zo(c.id,this.urlSerializer.serialize(c.extractedUrl),m,ph.IgnoredByUrlHandlingStrategy)),c.resolve(null),go}}),an(c=>{let u=new fh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ft(c=>(this.currentTransition=a=st(Pe({},c),{guards:lw(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),a)),yw(this.environmentInjector,c=>this.events.next(c)),an(c=>{if(a.guardsResult=c.guardsResult,Pr(c.guardsResult))throw $f(this.urlSerializer,c.guardsResult);let u=new gh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Ii(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Gn.GuardRejected),!1)),lh(c=>{if(c.guards.canActivateChecks.length)return ot(c).pipe(an(u=>{let p=new vh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}),Nn(u=>{let p=!1;return ot(u).pipe(Uw(this.paramsInheritanceStrategy,this.environmentInjector),an({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(u,"",Gn.NoDataFromResolver)}}))}),an(u=>{let p=new yh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}))}),lh(c=>{let u=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(an(g=>{p.component=g}),ft(()=>{})));for(let g of p.children)m.push(...u(g));return m};return Lc(u(c.targetSnapshot.root)).pipe(Pc(null),xn(1))}),lh(()=>this.afterPreactivation()),Nn(()=>{let{currentSnapshot:c,targetSnapshot:u}=a,p=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return p?_n(p).pipe(ft(()=>a)):ot(a)}),ft(c=>{let u=ew(o.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=a=st(Pe({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,a}),an(()=>{this.events.next(new qs)}),aw(this.rootContexts,o.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),xn(1),an({next:c=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ri(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{d=!0}}),bn(this.transitionAbortSubject.pipe(an(c=>{throw c}))),xr(()=>{!d&&!s&&this.cancelNavigationTransition(a,"",Gn.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),vo(c=>{if(s=!0,Bf(c))this.events.next(new Co(a.id,this.urlSerializer.serialize(a.extractedUrl),c.message,c.cancellationCode)),iw(c)?this.events.next(new Vs(c.url)):a.resolve(!1);else{this.events.next(new js(a.id,this.urlSerializer.serialize(a.extractedUrl),c,a.targetSnapshot??void 0));try{a.resolve(o.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(u)}}return go}))}))}cancelNavigationTransition(o,e,t){let a=new Co(o.id,this.urlSerializer.serialize(o.extractedUrl),e,t);this.events.next(a),o.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();function n_(i){return i!==Fs}var i_=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:()=>We(o_),providedIn:"root"});let i=n;return i})(),Oh=class{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}},o_=(()=>{let n=class n extends Oh{};n.\u0275fac=(()=>{let o;return function(t){return(o||(o=nn(n)))(t||n)}})(),n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})(),Wf=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:()=>We(r_),providedIn:"root"});let i=n;return i})(),r_=(()=>{let n=class n extends Wf{constructor(){super(...arguments),this.location=We(Sr),this.urlSerializer=We(Dh),this.options=We(Vh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=We(Uh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new bo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Af(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(o){return this.location.subscribe(e=>{e.type==="popstate"&&o(e.url,e.state)})}handleRouterEvent(o,e){if(o instanceof Bs)this.stateMemento=this.createStateMemento();else if(o instanceof Zo)this.rawUrlTree=e.initialUrl;else if(o instanceof El){if(this.urlUpdateStrategy==="eager"&&!e.extras.skipLocationChange){let t=this.urlHandlingStrategy.merge(e.finalUrl,e.initialUrl);this.setBrowserUrl(t,e)}}else o instanceof qs?(this.currentUrlTree=e.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(e.finalUrl,e.initialUrl),this.routerState=e.targetRouterState,this.urlUpdateStrategy==="deferred"&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e))):o instanceof Co&&(o.code===Gn.GuardRejected||o.code===Gn.NoDataFromResolver)?this.restoreHistory(e):o instanceof js?this.restoreHistory(e,!0):o instanceof ri&&(this.lastSuccessfulId=o.id,this.currentPageId=this.browserPageId)}setBrowserUrl(o,e){let t=this.urlSerializer.serialize(o);if(this.location.isCurrentPathEqualTo(t)||e.extras.replaceUrl){let a=this.browserPageId,d=Pe(Pe({},e.extras.state),this.generateNgRouterState(e.id,a));this.location.replaceState(t,"",d)}else{let a=Pe(Pe({},e.extras.state),this.generateNgRouterState(e.id,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(o,e=!1){if(this.canceledNavigationResolution==="computed"){let t=this.browserPageId,a=this.currentPageId-t;a!==0?this.location.historyGo(a):this.currentUrlTree===o.finalUrl&&a===0&&(this.resetState(o),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(e&&this.resetState(o),this.resetUrlToCurrentUrlTree())}resetState(o){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(o,e){return this.canceledNavigationResolution==="computed"?{navigationId:o,\u0275routerPageId:e}:{navigationId:o}}};n.\u0275fac=(()=>{let o;return function(t){return(o||(o=nn(n)))(t||n)}})(),n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})(),Os=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(Os||{});function s_(i,n){i.events.pipe(Ii(r=>r instanceof ri||r instanceof Co||r instanceof js||r instanceof Zo),ft(r=>r instanceof ri||r instanceof Zo?Os.COMPLETE:(r instanceof Co?r.code===Gn.Redirect||r.code===Gn.SupersededByNewNavigation:!1)?Os.REDIRECTING:Os.FAILED),Ii(r=>r!==Os.REDIRECTING),xn(1)).subscribe(()=>{n()})}function a_(i){throw i}var l_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},d_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ot=(()=>{let n=class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=We(sl),this.stateManager=We(Wf),this.options=We(Vh,{optional:!0})||{},this.pendingTasks=We(ol),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=We(t_),this.urlSerializer=We(Dh),this.location=We(Sr),this.urlHandlingStrategy=We(Uh),this._events=new Jt,this.errorHandler=this.options.errorHandler||a_,this.navigated=!1,this.routeReuseStrategy=We(i_),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=We(Hh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!We(Bh,{optional:!0}),this.eventsSubscription=new Ja,this.isNgZoneEnabled=We(un)instanceof un&&un.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let o=this.navigationTransitions.events.subscribe(e=>{try{let t=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(t!==null&&a!==null){if(this.stateManager.handleRouterEvent(e,a),e instanceof Co&&e.code!==Gn.Redirect&&e.code!==Gn.SupersededByNewNavigation)this.navigated=!0;else if(e instanceof ri)this.navigated=!0;else if(e instanceof Vs){let d=this.urlHandlingStrategy.merge(e.url,t.currentRawUrl),s={info:t.extras.info,skipLocationChange:t.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||n_(t.source)};this.scheduleNavigation(d,Fs,null,s,{resolve:t.resolve,reject:t.reject,promise:t.promise})}}h_(e)&&this._events.next(e)}catch(t){this.navigationTransitions.transitionAbortSubject.next(t)}});this.eventsSubscription.add(o)}resetRootComponentType(o){this.routerState.root.component=o,this.navigationTransitions.rootComponentType=o}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((o,e)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(o,"popstate",e)},0)})}navigateToSyncWithBrowser(o,e,t){let a={replaceUrl:!0},d=t?.navigationId?t:null;if(t){let c=Pe({},t);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(a.state=c)}let s=this.parseUrl(o);this.scheduleNavigation(s,e,d,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(o){this.config=o.map(jh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(o,e={}){let{relativeTo:t,queryParams:a,fragment:d,queryParamsHandling:s,preserveFragment:c}=e,u=c?this.currentUrlTree.fragment:d,p=null;switch(s){case"merge":p=Pe(Pe({},this.currentUrlTree.queryParams),a);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=a||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let g=t?t.snapshot:this.routerState.snapshot.root;m=Lf(g)}catch{(typeof o[0]!="string"||!o[0].startsWith("/"))&&(o=[]),m=this.currentUrlTree.root}return Rf(m,o,p,u??null)}navigateByUrl(o,e={skipLocationChange:!1}){let t=Pr(o)?o:this.parseUrl(o),a=this.urlHandlingStrategy.merge(t,this.rawUrlTree);return this.scheduleNavigation(a,Fs,null,e)}navigate(o,e={skipLocationChange:!1}){return c_(o),this.navigateByUrl(this.createUrlTree(o,e),e)}serializeUrl(o){return this.urlSerializer.serialize(o)}parseUrl(o){try{return this.urlSerializer.parse(o)}catch{return this.urlSerializer.parse("/")}}isActive(o,e){let t;if(e===!0?t=Pe({},l_):e===!1?t=Pe({},d_):t=e,Pr(o))return ff(this.currentUrlTree,o,t);let a=this.parseUrl(o);return ff(this.currentUrlTree,a,t)}removeEmptyProps(o){return Object.entries(o).reduce((e,[t,a])=>(a!=null&&(e[t]=a),e),{})}scheduleNavigation(o,e,t,a,d){if(this.disposed)return Promise.resolve(!1);let s,c,u;d?(s=d.resolve,c=d.reject,u=d.promise):u=new Promise((m,g)=>{s=m,c=g});let p=this.pendingTasks.add();return s_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:e,restoredState:t,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:o,extras:a,resolve:s,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(m=>Promise.reject(m))}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();function c_(i){for(let n=0;n<i.length;n++)if(i[n]==null)throw new zt(4008,!1)}function h_(i){return!(i instanceof qs)&&!(i instanceof Vs)}var Or=(()=>{let n=class n{constructor(o,e,t,a,d,s){this.router=o,this.route=e,this.tabIndexAttribute=t,this.renderer=a,this.el=d,this.locationStrategy=s,this.href=null,this.commands=null,this.onChanges=new Jt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=o.events.subscribe(u=>{u instanceof ri&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(o){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",o)}ngOnChanges(o){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(o){o!=null?(this.commands=Array.isArray(o)?o:[o],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(o,e,t,a,d){let s=this.urlTree;if(s===null||this.isAnchorElement&&(o!==0||e||t||a||d||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let o=this.urlTree;this.href=o!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(o)):null;let e=this.href===null?null:$p(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(o,e){let t=this.renderer,a=this.el.nativeElement;e!==null?t.setAttribute(a,o,e):t.removeAttribute(a,o)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};n.\u0275fac=function(e){return new(e||n)(be(Ot),be(Wn),Mp("tabindex"),be(br),be(Hn),be(Hc))},n.\u0275dir=Tn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,t){e&1&&nt("click",function(d){return t.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),e&2&&no("target",t.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ei.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ho],skipLocationChange:[Ei.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ho],replaceUrl:[Ei.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ho],routerLink:"routerLink"},standalone:!0,features:[il,In]});let i=n;return i})();var u_=new tt("");function Zf(i,...n){return hi([{provide:Hh,multi:!0,useValue:i},[],{provide:Wn,useFactory:m_,deps:[Ot]},{provide:qc,multi:!0,useFactory:p_},n.map(r=>r.\u0275providers)])}function m_(i){return i.routerState.root}function p_(){let i=We(Ns);return n=>{let r=i.get(ll);if(n!==r.components[0])return;let o=i.get(Ot),e=i.get(f_);i.get(g_)===1&&o.initialNavigation(),i.get(v_,null,Oc.Optional)?.setUpPreloading(),i.get(u_,null,Oc.Optional)?.init(),o.resetRootComponentType(r.componentTypes[0]),e.closed||(e.next(),e.complete(),e.unsubscribe())}}var f_=new tt("",{factory:()=>new Jt}),g_=new tt("",{providedIn:"root",factory:()=>1});var v_=new tt("");var Dt=function(i){return i[i.Incoming=0]="Incoming",i[i.Outgoing=1]="Outgoing",i}(Dt||{});var Rn=function(i){return i[i.List=0]="List",i[i.Grid=1]="Grid",i[i.Map=2]="Map",i}(Rn||{});var Xt=function(i){return i[i.ShowDetails=0]="ShowDetails",i[i.ShowParents=1]="ShowParents",i[i.ShowTitle=2]="ShowTitle",i[i.ShowTypes=3]="ShowTypes",i[i.ShowImageNextToTable=4]="ShowImageNextToTable",i}(Xt||{});var Zt=function(i){return i[i.Show=0]="Show",i[i.Details=1]="Details",i[i.Hide=2]="Hide",i}(Zt||{});var dn=function(i){return i[i.ByType=0]="ByType",i[i.ByPredicate=1]="ByPredicate",i}(dn||{});var Qo=function(i){return i[i.Ascending=0]="Ascending",i[i.Descending=1]="Descending",i}(Qo||{});var To=function(i){return i[i.Left=0]="Left",i[i.Right=1]="Right",i[i.Top=2]="Top",i}(To||{});var dt=function(i){return i[i.Field=0]="Field",i[i.Value=1]="Value",i[i.FieldAndValue=2]="FieldAndValue",i}(dt||{});var Fl=["http://xmlns.com/foaf/0.1/depiction","https://schema.org/image"],Xf=Fl.map(i=>({filterId:"image",fieldId:i,type:dt.Field})),Io=["http://www.w3.org/1999/02/22-rdf-syntax-ns#type","https://www.ica.org/standards/RiC/ontology#hasRecordSetType","https://schema.org/additionalType","http://www.wikidata.org/entity/P31"],Dl=["https://www.ica.org/standards/RiC/ontology#isOrWasIncludedIn","https://schema.org/isPartOf","https://schema.org/hadPrimarySource","http://www.nationaalarchief.nl/mdto#isOnderdeelVan"],Ys=["http://www.w3.org/2000/01/rdf-schema#label","http://www.w3.org/2004/02/skos/core#prefLabel","https://schema.org/name","https://www.ica.org/standards/RiC/ontology#title","https://www.ica.org/standards/RiC/ontology#textualValue","http://www.nationaalarchief.nl/mdto#naam","http://www.nationaalarchief.nl/mdto#begripLabel","http://www.nationaalarchief.nl/mdto#verwijzingNaam","http://www.nationaalarchief.nl/mdto#identificatieKenmerk"],Qf=["http://www.nationaalarchief.nl/mdto#ChecksumGegevens","http://www.w3.org/ns/shacl#NodeShape","http://www.w3.org/2002/07/owl#Ontology","http://www.nationaalarchief.nl/mdto#begripBegrippenlijst","http://www.nationaalarchief.nl/mdto#verwijzingIdentificatie","http://www.nationaalarchief.nl/mdto#GerelateerdInformatieobjectGegevens","http://www.nationaalarchief.nl/mdto#Object","http://www.nationaalarchief.nl/mdto#DekkingInTijdGegevens","http://www.nationaalarchief.nl/mdto#VerwijzingGegevens","http://www.nationaalarchief.nl/mdto#BegripGegevens","http://www.nationaalarchief.nl/mdto#IdentificatieGegevens","https://creativecommons.org/ns#License","https://hetutrechtsarchief.nl/def/Archiefeenheidsoort","https://hetutrechtsarchief.nl/def/Catalogusnummer","https://hetutrechtsarchief.nl/def/DossiernummerKvk","https://hetutrechtsarchief.nl/def/Inventarisnummer","https://hetutrechtsarchief.nl/def/Microfichenummer","https://hetutrechtsarchief.nl/def/NegatiefNummers","https://hetutrechtsarchief.nl/def/Opschrift","https://hetutrechtsarchief.nl/def/OudeOrde","https://hetutrechtsarchief.nl/def/OudNummer","https://hetutrechtsarchief.nl/def/Provenance","https://hetutrechtsarchief.nl/def/RegestNummer","https://hetutrechtsarchief.nl/def/SoortNegatief","https://hetutrechtsarchief.nl/def/Titel","https://hetutrechtsarchief.nl/def/ToegangsCode","https://hetutrechtsarchief.nl/id/aet/col","https://hetutrechtsarchief.nl/id/aet/mtrl","https://hetutrechtsarchief.nl/id/aet/ntni","https://hetutrechtsarchief.nl/id/aet/rfco","https://hetutrechtsarchief.nl/id/aet/rub","https://hetutrechtsarchief.nl/id/aet/scnni","https://hetutrechtsarchief.nl/id/aet/tscni","https://hetutrechtsarchief.nl/id/aet/tsct","https://schema.org/Collection","https://schema.org/Comment","https://schema.org/PropertyValue","https://schema.org/Text","https://w3id.org/pnv#PersonName","https://www.ica.org/standards/RiC/ontology#Agent","https://www.ica.org/standards/RiC/ontology#Date","https://www.ica.org/standards/RiC/ontology#Event","https://www.ica.org/standards/RiC/ontology#Extent","https://www.ica.org/standards/RiC/ontology#Identifier","https://www.ica.org/standards/RiC/ontology#Instantiation","https://www.ica.org/standards/RiC/ontology#RecordSet","https://www.ica.org/standards/RiC/ontology#Title","https://www.ica.org/standards/RiC/vocabularies/recordSetTypes#File","https://www.ica.org/standards/RiC/vocabularies/recordSetTypes#Fonds","https://www.ica.org/standards/RiC/vocabularies/recordSetTypes#Series","https://web.maisflexis.nl/rdf/RUB","https://web.maisflexis.nl/rdf/DB","https://web.maisflexis.nl/rdf/VB","https://web.maisflexis.nl/rdf/ABK","https://web.maisflexis.nl/rdf/HSK","https://web.maisflexis.nl/rdf/INV","https://web.maisflexis.nl/rdf/INL","https://web.maisflexis.nl/rdf/EB","http://dbpedia.org/ontology/Place","http://www.nationaalarchief.nl/mdto#BetrokkeneGegevens"],y_=["https://schema.org/Person","https://data.cbg.nl/pico#PersonObservation","http://xmlns.com/foaf/0.1/Agent","http://www.nationaalarchief.nl/mdto#archiefvormer"],Yf=["https://hetutrechtsarchief.nl/def/Band","https://hetutrechtsarchief.nl/id/aet/hasc","https://hetutrechtsarchief.nl/id/aet/jrg","https://hetutrechtsarchief.nl/id/aet/krtp","https://schema.org/Article","https://schema.org/Book","https://schema.org/BookSeries","https://schema.org/CollectionPage","https://schema.org/Manuscript","https://schema.org/Newspaper","https://schema.org/PublicationEvent"],Jf=["https://data.cbg.nl/pico-terms#doopinschrijving","https://data.cbg.nl/pico-terms#dtb_begraven","https://data.cbg.nl/pico-terms#geboorteakte","https://data.cbg.nl/pico-terms#huwelijksakte","https://data.cbg.nl/pico-terms#naamsverbetering","https://data.cbg.nl/pico-terms#notariele-akte","https://data.cbg.nl/pico-terms#overlijdensakte","https://data.cbg.nl/pico-terms#trouwinschrijving","https://hetutrechtsarchief.nl/def/Transcriptie","https://hetutrechtsarchief.nl/def/Vertaling","https://hetutrechtsarchief.nl/id/aet/db","https://hetutrechtsarchief.nl/id/aet/eb","https://hetutrechtsarchief.nl/id/aet/geb","https://hetutrechtsarchief.nl/id/aet/kvk","https://hetutrechtsarchief.nl/id/aet/notakt","https://hetutrechtsarchief.nl/id/aet/ove","https://hetutrechtsarchief.nl/id/aet/tsc","https://hetutrechtsarchief.nl/id/lst/35-codicil","https://hetutrechtsarchief.nl/id/lst/35-ontzegeling","https://hetutrechtsarchief.nl/id/lst/35-procuratie","https://hetutrechtsarchief.nl/id/lst/35-verzegeling","https://schema.org/ArchiveComponent","https://schema.org/SheetMusic","https://www.ica.org/standards/RiC/ontology#Record","http://www.nationaalarchief.nl/mdto#Bestand","http://www.nationaalarchief.nl/mdto#Informatieobject"],Kf=["https://schema.org/CreativeWork","https://schema.org/Drawing","https://schema.org/ImageObject","https://schema.org/Map","https://schema.org/Photograph","https://schema.org/VideoObject"],qe={endpoints:{hua:{label:"Het Utrechts Archief",endpointUrls:[{elastic:"https://api.data.netwerkdigitaalerfgoed.nl/datasets/hetutrechtsarchief/Test-Amerongen/services/Zoeken/_search",sparql:"https://api.data.netwerkdigitaalerfgoed.nl/datasets/hetutrechtsarchief/Test-Amerongen/sparql"}]},razu:{label:"Regionaal Archief Zuid-Utrecht",endpointUrls:[{elastic:"https://data.razu.nl/_api/datasets/razu/PoCAmerongen2024/services/PoCAmerongen2024/_search",sparql:"https://api.data.razu.nl/datasets/razu/PoCAmerongen2024/sparql"},{sparql:"https://api.data.razu.nl/datasets/gedeeld/actoren/sparql",elastic:"https://data.razu.nl/_api/datasets/gedeeld/actoren/services/actoren/_search"},{sparql:"https://api.data.razu.nl/datasets/gedeeld/locaties/sparql",elastic:"https://api.data.razu.nl/datasets/gedeeld/locaties/services/locaties/_search"}]},kasteelAmerongen:{label:"Kasteel Amerongen",endpointUrls:[{elastic:"https://data.razu.nl/_api/datasets/Kasteel-Amerongen/PoC2024/services/PoC2024-SKA/_search",sparql:"https://api.data.razu.nl/datasets/Kasteel-Amerongen/PoC2024/sparql"}]}},maxNumParallelRequests:4,sorting:{default:"relevance",options:{relevance:{fields:[],label:"Relevantie",order:Qo.Ascending,boost:{images:{boost:100,filter:{fieldIds:Fl,valueIds:[],type:dt.Field}},publications:{boost:5,filter:{fieldIds:Io,valueIds:Yf,type:dt.FieldAndValue}},archives:{boost:2,filter:{fieldIds:Io,valueIds:Jf,type:dt.FieldAndValue}}}},"title-a-z":{fields:Ys,label:"Titel (A-Z)",order:Qo.Ascending},"title-z-a":{fields:Ys,label:"Titel (Z-A)",order:Qo.Descending}}},filtering:{showFilterPanel:!0,showImageFilter:!0,filterPanelLocation:To.Left,minNumOfValuesForFilterOptionToAppear:1,filterOptions:{type:{label:"Soort",fieldIds:Io,values:[],hideValueIds:[...Qf]},parents:{label:"Is onderdeel van",fieldIds:[...Dl,"https://hetutrechtsarchief.nl/def/isDescendentOf"],values:[],hideValueIds:[...Qf]},license:{label:"Licentie",fieldIds:["https://schema.org/license"],values:[],showOnlyForSelectedFilters:{visualMaterial:{fieldIds:Io,valueIds:Kf,type:dt.FieldAndValue}}}}},clustering:{filterOptionValues:{images:{label:"Beeldmateriaal",valueIds:Kf},archive:{label:"Archieven",valueIds:Jf},locations:{label:"Locaties",valueIds:["https://hetutrechtsarchief.nl/id/aet/bd","https://schema.org/Place","https://schema.org/PostalAddress","https://www.ica.org/standards/RiC/ontology#Place","http://www.nationaalarchief.nl/mdto#dekkingInRuimte","http://www.opengis.net/ont/geosparql#Geometry"]},publicDomain:{label:"Publiek Domein",valueIds:["https://hetutrechtsarchief.nl/id/630EAF2CCA826B2DE0534701000AE1E2","https://hetutrechtsarchief.nl/id/609C5BCA906D4642E0534701000A17FD","https://hetutrechtsarchief.nl/id/630EAF2CCA806B2DE0534701000AE1E2"]},subject:{label:"Onderwerpen",valueIds:["http://www.w3.org/2004/02/skos/core#Concept","https://hetutrechtsarchief.nl/def/trefwoord_tst_107","https://hetutrechtsarchief.nl/id/aet/incat"]},people:{label:"Personen",valueIds:y_},publication:{label:"Publicaties",valueIds:Yf}},types:{recordSet:{label:"RecordSet",valueIds:["https://www.ica.org/standards/RiC/ontology#RecordSet","https://www.ica.org/standards/RiC/vocabularies/recordSetTypes#File"]}},archive:{}},search:{resultsPerPagePerEndpoint:10,autocomplete:{enabled:!0,maxAutocompleteOptionsPerEndpoint:50,maxAutocompleteOptionsToShow:20,filtersForSearchTermOptions:{type:{type:dt.FieldAndValue,fieldIds:Io,valueIds:["http://www.w3.org/2004/02/skos/core#Concept","https://hetutrechtsarchief.nl/def/trefwoord_tst_107","https://hetutrechtsarchief.nl/id/aet/incat"]},parents:{type:dt.FieldAndValue,fieldIds:[...Dl,"https://hetutrechtsarchief.nl/def/isDescendentOf"],valueIds:["https://hetutrechtsarchief.nl/id/trefwoord","https://termennetwerk.netwerkdigitaalerfgoed.nl"]}}}},viewer:{showReferenceStrip:!0},showLanguageToggle:!1,labelMaxChars:100,predicates:{parents:Dl,label:Ys,type:Io,images:Fl,hopImages:[["http://www.nationaalarchief.nl/mdto#heeftRepresentatie","http://www.nationaalarchief.nl/mdto#identificatie","http://www.nationaalarchief.nl/mdto#identificatieKenmerk","http://www.nationaalarchief.nl/mdto#URLBestand"]]},renderComponents:{[dn.ByType]:{"https://hetutrechtsarchief.nl/id/aet/scnni":{componentId:"gescand-inventarisnummer"},"https://hetutrechtsarchief.nl/id/aet/rub":{componentId:"hua-rubriek"}},[dn.ByPredicate]:{"http://xmlns.com/foaf/0.1/depiction":{componentId:"node-images"},"https://schema.org/thumbnail":{componentId:"node-images"},"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":{componentId:"node-type"},"https://www.ica.org/standards/RiC/ontology#hasRecordSetType":{componentId:"node-type"},"https://schema.org/additionalType":{componentId:"node-type"},"http://www.wikidata.org/entity/P31":{componentId:"node-type"},"http://www.nationaalarchief.nl/mdto#omvang":{componentId:"mdto-omvang"},"http://www.nationaalarchief.nl/mdto#betrokkene":{componentId:"hop-link",hopLinkSettings:{preds:["http://www.nationaalarchief.nl/mdto#Actor"]}},"http://www.nationaalarchief.nl/mdto#gerelateerdInformatieobject":{componentId:"hop-link",hopLinkSettings:{preds:["http://www.nationaalarchief.nl/mdto#gerelateerdInformatieobjectVerwijzing"],showHops:!1}},"http://www.nationaalarchief.nl/mdto#heeftRepresentatie":{componentId:"hop-image",hopLinkSettings:{preds:["http://www.nationaalarchief.nl/mdto#identificatie","http://www.nationaalarchief.nl/mdto#identificatieKenmerk","http://www.nationaalarchief.nl/mdto#URLBestand"]}},"http://www.w3.org/ns/prov#hadPrimarySource":{componentId:"hop-image",hopLinkSettings:{preds:["http://xmlns.com/foaf/0.1/depiction"],showOriginalLink:!0}},"http://www.nationaalarchief.nl/mdto#dekkingInTijd":{componentId:"mdto-dekking-in-tijd"},"http://www.nationaalarchief.nl/mdto#URLBestand":{componentId:"mdto-url-bestand"},"https://www.ica.org/standards/RiC/ontology#hasOrHadIdentifier":{componentId:"rico-identifier"},"https://schema.org/identifier":{componentId:"rico-identifier"}}},viewModes:{[Rn.List]:{[Xt.ShowDetails]:!0,[Xt.ShowParents]:!0,[Xt.ShowTypes]:!0,[Xt.ShowTitle]:!0,[Xt.ShowImageNextToTable]:!0},[Rn.Grid]:{[Xt.ShowTitle]:!0,[Xt.ShowDetails]:!0,[Xt.ShowTypes]:!0,[Xt.ShowImageNextToTable]:!0}},largeImageWidth:{search:"30%",details:"40%"},imageForWhenLoadingFails:"/assets/img/image-load-fail.png",predicateVisibility:{[Rn.List]:{[Zt.Show]:[],[Zt.Details]:[...Fl,"http://www.nationaalarchief.nl/mdto#naam","https://schema.org/author","http://www.nationaalarchief.nl/mdto#omschrijving","http://www.nationaalarchief.nl/mdto#dekkingInRuimte","http://www.nationaalarchief.nl/mdto#dekkingInTijd","http://www.nationaalarchief.nl/mdto#URLBestand","http://www.nationaalarchief.nl/mdto#heeftRepresentatie","https://www.ica.org/standards/RiC/ontology#expressedDateValue","https://www.ica.org/standards/RiC/ontology#hasCreator","*"],[Zt.Hide]:[...Io]},[Rn.Grid]:{[Zt.Show]:[],[Zt.Details]:["*"],[Zt.Hide]:[]}},alwaysHidePredicates:["@id","endpointId","http://www.nationaalarchief.nl/mdto#checksum","http://www.nationaalarchief.nl/mdto#waardering","https://schema.org/breadcrumb","https://hetutrechtsarchief.nl/def/isDescendentOf","https://hetutrechtsarchief.nl/def/isDescendantOf"],alwaysHideNodes:{hideSkosConcept:{fieldIds:[...Io],valueIds:["http://www.w3.org/2004/02/skos/core#concept"],type:dt.FieldAndValue},hideTerms:{fieldIds:[...Dl],valueIds:["https://hetutrechtsarchief.nl/id/trefwoorden","https://termennetwerk.netwerkdigitaalerfgoed.nl"],type:dt.FieldAndValue}},namespacePrefixes:{"https://www.ica.org/standards/RiC/ontology#":"rico:","https://hetutrechtsarchief.nl/def/":"def:","https://schema.org/":"sdo:","http://www.w3.org/2004/02/skos/core#":"skos:","https://hetutrechtsarchief.nl/id/":"id:","http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf:","http://www.w3.org/2000/01/rdf-schema#":"rdfs:","http://www.wikidata.org/entity/":"wd:","http://www.wikidata.org/prop/direct/":"wdt:","http://www.w3.org/ns/prov#":"prov:","https://data.cbg.nl/pico#":"pico:","https://w3id.org/pnv#":"pnv:","http://xmlns.com/foaf/0.1/":"foaf:","http://www.nationaalarchief.nl/mdto#":"mdto:","https://data.razu.nl/Kasteel-Amerongen/":"ska:","https://data.razu.nl/razu/":"razu:","https://www.ica.org/standards/RiC/vocabularies/recordSetTypes#":"ric-rst:","https://data.cbg.nl/pico-terms#":"picot:","http://www.nationaalarchief.nl/mdto-shacl#":"mdto-sh:","http://www.w3.org/ns/shacl#":"sh:"},matomo:{siteId:"2",trackerUrl:"//analytics.boasmedia.nl/"}};var HC=new tt("Ng Glyph Config");var UC=new tt("NgGlyphsToken");function w_(i){return i==null?"":/^\d+$/.test(i)?`${i}px`:i}var __=new tt("Ng Icon Pre Processor"),x_=new tt("Ng Icon Post Processor");function N_(){return We(__,{optional:!0})??(i=>i)}function b_(){return We(x_,{optional:!0})??(()=>{})}var C_=new tt("Ng Icon Config"),S_={size:"1em"};function T_(){return We(C_,{optional:!0})??S_}var I_=new tt("Ng Icon Loader Token");var E_=new tt("Ng Icon Cache Token");function k_(){return We(I_,{optional:!0})}function L_(){return We(E_,{optional:!0})}var R_=new tt("Icons Token");function P_(){return We(R_,{optional:!0})??[]}function M_(i){return typeof i=="string"?Promise.resolve(i):Ti(i)?Np(i):i}function A_(i){return i.replace(/([^a-zA-Z0-9])+(.)?/g,(n,r,o)=>o?o.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,n=>n.toLowerCase())}var O_=new tt("Ng Icon Logger"),Gh=class{log(n){console.log(n)}warn(n){console.warn(n)}error(n){console.error(n)}};function D_(){return We(O_,{optional:!0})??new Gh}var pn=(()=>{let n=class n{constructor(){this.config=T_(),this.icons=P_(),this.loader=k_(),this.cache=L_(),this.preProcessor=N_(),this.postProcessor=b_(),this.injector=We(Ns),this.elementRef=We(Hn),this.logger=D_(),this.size=this.config.size,this.color=this.config.color}set name(o){this.setIcon(o)}set svg(o){this.setSvg(o)}ngOnChanges(o){o.size&&this.setIconSize(),o.color&&this.setIconColor(),o.strokeWidth&&this.setIconStrokeWidth()}ngOnInit(){this.setIconStyles()}setIconColor(){this.elementRef.nativeElement.style.removeProperty("color"),this.color!==void 0&&this.elementRef.nativeElement.style.setProperty("color",this.color)}setIconSize(){this.elementRef.nativeElement.style.removeProperty("--ng-icon__size"),this.size!==void 0&&this.elementRef.nativeElement.style.setProperty("--ng-icon__size",this.size.toString())}setIconStrokeWidth(){this.elementRef.nativeElement.style.removeProperty("--ng-icon__stroke-width"),this.strokeWidth!==void 0&&this.elementRef.nativeElement.style.setProperty("--ng-icon__stroke-width",this.strokeWidth.toString())}setIconStyles(){this.setIconColor(),this.setIconSize(),this.setIconStrokeWidth()}setSvg(o){this.elementRef.nativeElement.innerHTML=this.preProcessor(o),this.postProcessor(this.elementRef.nativeElement)}setIcon(o){return Le(this,null,function*(){let e=A_(o);for(let t of[...this.icons].reverse())if(t[e]){this.setSvg(t[e]);return}if(this.loader){let t=yield this.requestIconFromLoader(o);if(t!==null){this.setSvg(t);return}}this.logger.warn(`No icon named ${o} was found. You may need to import it using the withIcons function.`)})}requestIconFromLoader(o){return new Promise(e=>{Vn(this.injector,()=>Le(this,null,function*(){if(this.cache){let d=this.cache.get(o);if(typeof d=="string"){e(d);return}if(d instanceof Promise){let s=yield d;e(s);return}}let t=M_(this.loader(o));this.cache?.set(o,t);let a=yield t;this.cache?.set(o,a),e(a)}))})}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Fe({type:n,selectors:[["ng-icon"]],inputs:{name:"name",svg:"svg",size:[Ei.HasDecoratorInputTransform,"size","size",w_],strokeWidth:"strokeWidth",color:"color"},standalone:!0,features:[il,In,$e],decls:0,vars:0,template:function(e,t){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size);height:var(--ng-icon__size);overflow:hidden}"],changeDetection:0});let i=n;return i})();var ht={minNumParentsToAllowTreeExpand:3,numObjValuesToShowDefault:5,additionalNumObjValuesToShowOnClick:5,numFilterOptionsToShowDefault:10,additionalFilterOptionsToShowOnClick:10,labelFetchIntervalMs:100,maxNumOfFilterOptionsPerField:30,maxImagesToShow:10,elasticTopHitsMax:100,detailsUrl:"details",searchParam:"search",filtersParam:"filters",endpointsParam:"endpoints",onlyWithImages:"onlyWithImages"};var Js=i=>{for(let[n,r]of Object.entries(qe.namespacePrefixes))i=i.replaceAll(n,r);return i},Pn=i=>`<${i}>`,eg=i=>`"${i}"`,tg=(i,n,r=!1)=>i.length<=n?i:i.substring(0,n)+(r?"...":""),ng=i=>{try{return new URL(i),!0}catch{return!1}},$l=i=>{let n;try{n=new URL(i)}catch{return!1}return n.protocol==="http:"||n.protocol==="https:"};var Dr=(i,n)=>i.some(r=>n.includes(r)),zl=i=>i.toLocaleString("nl-NL");function ig(i,n=!1,r=1){let o=n?1e3:1024;if(Math.abs(i)<o)return i+" B";let e=n?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],t=-1,a=10**r;do i/=o,++t;while(Math.round(Math.abs(i)*a)/a>=o&&t<e.length-1);return i.toFixed(r)+" "+e[t]}var og=(i,n)=>{let r=new Map;return n.forEach((o,e)=>r.set(o,e)),i.sort((o,e)=>{let t=r.has(o)?r.get(o):1/0,a=r.has(e)?r.get(e):1/0;return t===void 0&&a===void 0?0:t===void 0?1:a===void 0?-1:t-a})};var Fr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>';var $r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>';var rg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up-left" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><line x1="17" y1="17" x2="7" y2="7"/><polyline points="7 17 7 7 17 7"/></svg>';var Bl='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><polyline points="6 9 12 15 18 9"/></svg>';var zr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><polyline points="9 18 15 12 9 6"/></svg>',sg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-up" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><polyline points="18 15 12 9 6 15"/></svg>';var ag='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>';var lg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-filter" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>';var dg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-maximize-2" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" y1="3" x2="14" y2="10"/><line x1="3" y1="21" x2="10" y2="14"/></svg>';var Br='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>';var jl='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);stroke-width:var(--ng-icon__stroke-width, 2)"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>';var hg=["top","right","bottom","left"],cg=["start","end"],Wh=hg.reduce((i,n)=>i.concat(n,n+"-"+cg[0],n+"-"+cg[1]),[]),Eo=Math.min,oo=Math.max,ea=Math.round,ta=Math.floor,ro=i=>({x:i,y:i}),F_={left:"right",right:"left",bottom:"top",top:"bottom"},$_={start:"end",end:"start"};function ql(i,n,r){return oo(i,Eo(n,r))}function so(i,n){return typeof i=="function"?i(n):i}function fi(i){return i.split("-")[0]}function gi(i){return i.split("-")[1]}function Vl(i){return i==="x"?"y":"x"}function Hl(i){return i==="y"?"height":"width"}function jr(i){return["top","bottom"].includes(fi(i))?"y":"x"}function Ul(i){return Vl(jr(i))}function Zh(i,n,r){r===void 0&&(r=!1);let o=gi(i),e=Ul(i),t=Hl(e),a=e==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return n.reference[t]>n.floating[t]&&(a=Xs(a)),[a,Xs(a)]}function ug(i){let n=Xs(i);return[Ks(i),n,Ks(n)]}function Ks(i){return i.replace(/start|end/g,n=>$_[n])}function z_(i,n,r){let o=["left","right"],e=["right","left"],t=["top","bottom"],a=["bottom","top"];switch(i){case"top":case"bottom":return r?n?e:o:n?o:e;case"left":case"right":return n?t:a;default:return[]}}function mg(i,n,r,o){let e=gi(i),t=z_(fi(i),r==="start",o);return e&&(t=t.map(a=>a+"-"+e),n&&(t=t.concat(t.map(Ks)))),t}function Xs(i){return i.replace(/left|right|bottom|top/g,n=>F_[n])}function B_(i){return Pe({top:0,right:0,bottom:0,left:0},i)}function Qh(i){return typeof i!="number"?B_(i):{top:i,right:i,bottom:i,left:i}}function Yo(i){let{x:n,y:r,width:o,height:e}=i;return{width:o,height:e,top:r,left:n,right:n+o,bottom:r+e,x:n,y:r}}function pg(i,n,r){let{reference:o,floating:e}=i,t=jr(n),a=Ul(n),d=Hl(a),s=fi(n),c=t==="y",u=o.x+o.width/2-e.width/2,p=o.y+o.height/2-e.height/2,m=o[d]/2-e[d]/2,g;switch(s){case"top":g={x:u,y:o.y-e.height};break;case"bottom":g={x:u,y:o.y+o.height};break;case"right":g={x:o.x+o.width,y:p};break;case"left":g={x:o.x-e.width,y:p};break;default:g={x:o.x,y:o.y}}switch(gi(n)){case"start":g[a]-=m*(r&&c?-1:1);break;case"end":g[a]+=m*(r&&c?-1:1);break}return g}var fg=(i,n,r)=>Le(void 0,null,function*(){let{placement:o="bottom",strategy:e="absolute",middleware:t=[],platform:a}=r,d=t.filter(Boolean),s=yield a.isRTL==null?void 0:a.isRTL(n),c=yield a.getElementRects({reference:i,floating:n,strategy:e}),{x:u,y:p}=pg(c,o,s),m=o,g={},v=0;for(let x=0;x<d.length;x++){let{name:y,fn:w}=d[x],{x:S,y:P,data:j,reset:R}=yield w({x:u,y:p,initialPlacement:o,placement:m,strategy:e,middlewareData:g,rects:c,platform:a,elements:{reference:i,floating:n}});u=S??u,p=P??p,g=st(Pe({},g),{[y]:Pe(Pe({},g[y]),j)}),R&&v<=50&&(v++,typeof R=="object"&&(R.placement&&(m=R.placement),R.rects&&(c=R.rects===!0?yield a.getElementRects({reference:i,floating:n,strategy:e}):R.rects),{x:u,y:p}=pg(c,m,s)),x=-1)}return{x:u,y:p,placement:m,strategy:e,middlewareData:g}});function Gl(i,n){return Le(this,null,function*(){var r;n===void 0&&(n={});let{x:o,y:e,platform:t,rects:a,elements:d,strategy:s}=i,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:p="floating",altBoundary:m=!1,padding:g=0}=so(n,i),v=Qh(g),y=d[m?p==="floating"?"reference":"floating":p],w=Yo(yield t.getClippingRect({element:(r=yield t.isElement==null?void 0:t.isElement(y))==null||r?y:y.contextElement||(yield t.getDocumentElement==null?void 0:t.getDocumentElement(d.floating)),boundary:c,rootBoundary:u,strategy:s})),S=p==="floating"?{x:o,y:e,width:a.floating.width,height:a.floating.height}:a.reference,P=yield t.getOffsetParent==null?void 0:t.getOffsetParent(d.floating),j=(yield t.isElement==null?void 0:t.isElement(P))?(yield t.getScale==null?void 0:t.getScale(P))||{x:1,y:1}:{x:1,y:1},R=Yo(t.convertOffsetParentRelativeRectToViewportRelativeRect?yield t.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:S,offsetParent:P,strategy:s}):S);return{top:(w.top-R.top+v.top)/j.y,bottom:(R.bottom-w.bottom+v.bottom)/j.y,left:(w.left-R.left+v.left)/j.x,right:(R.right-w.right+v.right)/j.x}})}var gg=i=>({name:"arrow",options:i,fn(r){return Le(this,null,function*(){let{x:o,y:e,placement:t,rects:a,platform:d,elements:s,middlewareData:c}=r,{element:u,padding:p=0}=so(i,r)||{};if(u==null)return{};let m=Qh(p),g={x:o,y:e},v=Ul(t),x=Hl(v),y=yield d.getDimensions(u),w=v==="y",S=w?"top":"left",P=w?"bottom":"right",j=w?"clientHeight":"clientWidth",R=a.reference[x]+a.reference[v]-g[v]-a.floating[x],T=g[v]-a.reference[v],q=yield d.getOffsetParent==null?void 0:d.getOffsetParent(u),$=q?q[j]:0;(!$||!(yield d.isElement==null?void 0:d.isElement(q)))&&($=s.floating[j]||a.floating[x]);let z=R/2-T/2,I=$/2-y[x]/2-1,Z=Eo(m[S],I),B=Eo(m[P],I),se=Z,ge=$-y[x]-B,ae=$/2-y[x]/2+z,U=ql(se,ae,ge),ve=!c.arrow&&gi(t)!=null&&ae!==U&&a.reference[x]/2-(ae<se?Z:B)-y[x]/2<0,O=ve?ae<se?ae-se:ae-ge:0;return{[v]:g[v]+O,data:Pe({[v]:U,centerOffset:ae-U-O},ve&&{alignmentOffset:O}),reset:ve}})}});function j_(i,n,r){return(i?[...r.filter(e=>gi(e)===i),...r.filter(e=>gi(e)!==i)]:r.filter(e=>fi(e)===e)).filter(e=>i?gi(e)===i||(n?Ks(e)!==e:!1):!0)}var vg=function(i){return i===void 0&&(i={}),{name:"autoPlacement",options:i,fn(r){return Le(this,null,function*(){var o,e,t;let{rects:a,middlewareData:d,placement:s,platform:c,elements:u}=r,Z=so(i,r),{crossAxis:p=!1,alignment:m,allowedPlacements:g=Wh,autoAlignment:v=!0}=Z,x=Ki(Z,["crossAxis","alignment","allowedPlacements","autoAlignment"]),y=m!==void 0||g===Wh?j_(m||null,v,g):g,w=yield Gl(r,x),S=((o=d.autoPlacement)==null?void 0:o.index)||0,P=y[S];if(P==null)return{};let j=Zh(P,a,yield c.isRTL==null?void 0:c.isRTL(u.floating));if(s!==P)return{reset:{placement:y[0]}};let R=[w[fi(P)],w[j[0]],w[j[1]]],T=[...((e=d.autoPlacement)==null?void 0:e.overflows)||[],{placement:P,overflows:R}],q=y[S+1];if(q)return{data:{index:S+1,overflows:T},reset:{placement:q}};let $=T.map(B=>{let se=gi(B.placement);return[B.placement,se&&p?B.overflows.slice(0,2).reduce((ge,ae)=>ge+ae,0):B.overflows[0],B.overflows]}).sort((B,se)=>B[1]-se[1]),I=((t=$.filter(B=>B[2].slice(0,gi(B[0])?2:3).every(se=>se<=0))[0])==null?void 0:t[0])||$[0][0];return I!==s?{data:{index:S+1,overflows:T},reset:{placement:I}}:{}})}}},yg=function(i){return i===void 0&&(i={}),{name:"flip",options:i,fn(r){return Le(this,null,function*(){var o,e;let{placement:t,middlewareData:a,rects:d,initialPlacement:s,platform:c,elements:u}=r,se=so(i,r),{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0}=se,w=Ki(se,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((o=a.arrow)!=null&&o.alignmentOffset)return{};let S=fi(t),P=fi(s)===s,j=yield c.isRTL==null?void 0:c.isRTL(u.floating),R=g||(P||!y?[Xs(s)]:ug(s));!g&&x!=="none"&&R.push(...mg(s,y,x,j));let T=[s,...R],q=yield Gl(r,w),$=[],z=((e=a.flip)==null?void 0:e.overflows)||[];if(p&&$.push(q[S]),m){let ge=Zh(t,d,j);$.push(q[ge[0]],q[ge[1]])}if(z=[...z,{placement:t,overflows:$}],!$.every(ge=>ge<=0)){var I,Z;let ge=(((I=a.flip)==null?void 0:I.index)||0)+1,ae=T[ge];if(ae)return{data:{index:ge,overflows:z},reset:{placement:ae}};let U=(Z=z.filter(ve=>ve.overflows[0]<=0).sort((ve,O)=>ve.overflows[1]-O.overflows[1])[0])==null?void 0:Z.placement;if(!U)switch(v){case"bestFit":{var B;let ve=(B=z.map(O=>[O.placement,O.overflows.filter(ne=>ne>0).reduce((ne,he)=>ne+he,0)]).sort((O,ne)=>O[1]-ne[1])[0])==null?void 0:B[0];ve&&(U=ve);break}case"initialPlacement":U=s;break}if(t!==U)return{reset:{placement:U}}}return{}})}}};function q_(i,n){return Le(this,null,function*(){let{placement:r,platform:o,elements:e}=i,t=yield o.isRTL==null?void 0:o.isRTL(e.floating),a=fi(r),d=gi(r),s=jr(r)==="y",c=["left","top"].includes(a)?-1:1,u=t&&s?-1:1,p=so(n,i),{mainAxis:m,crossAxis:g,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:Pe({mainAxis:0,crossAxis:0,alignmentAxis:null},p);return d&&typeof v=="number"&&(g=d==="end"?v*-1:v),s?{x:g*u,y:m*c}:{x:m*c,y:g*u}})}var wg=function(i){return i===void 0&&(i=0),{name:"offset",options:i,fn(r){return Le(this,null,function*(){var o,e;let{x:t,y:a,placement:d,middlewareData:s}=r,c=yield q_(r,i);return d===((o=s.offset)==null?void 0:o.placement)&&(e=s.arrow)!=null&&e.alignmentOffset?{}:{x:t+c.x,y:a+c.y,data:st(Pe({},c),{placement:d})}})}}},_g=function(i){return i===void 0&&(i={}),{name:"shift",options:i,fn(r){return Le(this,null,function*(){let{x:o,y:e,placement:t}=r,w=so(i,r),{mainAxis:a=!0,crossAxis:d=!1,limiter:s={fn:S=>{let{x:P,y:j}=S;return{x:P,y:j}}}}=w,c=Ki(w,["mainAxis","crossAxis","limiter"]),u={x:o,y:e},p=yield Gl(r,c),m=jr(fi(t)),g=Vl(m),v=u[g],x=u[m];if(a){let S=g==="y"?"top":"left",P=g==="y"?"bottom":"right",j=v+p[S],R=v-p[P];v=ql(j,v,R)}if(d){let S=m==="y"?"top":"left",P=m==="y"?"bottom":"right",j=x+p[S],R=x-p[P];x=ql(j,x,R)}let y=s.fn(st(Pe({},r),{[g]:v,[m]:x}));return st(Pe({},y),{data:{x:y.x-o,y:y.y-e}})})}}},xg=function(i){return i===void 0&&(i={}),{options:i,fn(n){let{x:r,y:o,placement:e,rects:t,middlewareData:a}=n,{offset:d=0,mainAxis:s=!0,crossAxis:c=!0}=so(i,n),u={x:r,y:o},p=jr(e),m=Vl(p),g=u[m],v=u[p],x=so(d,n),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:Pe({mainAxis:0,crossAxis:0},x);if(s){let P=m==="y"?"height":"width",j=t.reference[m]-t.floating[P]+y.mainAxis,R=t.reference[m]+t.reference[P]-y.mainAxis;g<j?g=j:g>R&&(g=R)}if(c){var w,S;let P=m==="y"?"width":"height",j=["top","left"].includes(fi(e)),R=t.reference[p]-t.floating[P]+(j&&((w=a.offset)==null?void 0:w[p])||0)+(j?0:y.crossAxis),T=t.reference[p]+t.reference[P]+(j?0:((S=a.offset)==null?void 0:S[p])||0)-(j?y.crossAxis:0);v<R?v=R:v>T&&(v=T)}return{[m]:g,[p]:v}}}};function ao(i){return bg(i)?(i.nodeName||"").toLowerCase():"#document"}function Mn(i){var n;return(i==null||(n=i.ownerDocument)==null?void 0:n.defaultView)||window}function $i(i){var n;return(n=(bg(i)?i.ownerDocument:i.document)||window.document)==null?void 0:n.documentElement}function bg(i){return i instanceof Node||i instanceof Mn(i).Node}function zi(i){return i instanceof Element||i instanceof Mn(i).Element}function vi(i){return i instanceof HTMLElement||i instanceof Mn(i).HTMLElement}function Ng(i){return typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof Mn(i).ShadowRoot}function Vr(i){let{overflow:n,overflowX:r,overflowY:o,display:e}=Qn(i);return/auto|scroll|overlay|hidden|clip/.test(n+o+r)&&!["inline","contents"].includes(e)}function Cg(i){return["table","td","th"].includes(ao(i))}function Wl(i){let n=Zl(),r=Qn(i);return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!n&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!n&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(r.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(r.contain||"").includes(o))}function Sg(i){let n=Jo(i);for(;vi(n)&&!na(n);){if(Wl(n))return n;n=Jo(n)}return null}function Zl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function na(i){return["html","body","#document"].includes(ao(i))}function Qn(i){return Mn(i).getComputedStyle(i)}function ia(i){return zi(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function Jo(i){if(ao(i)==="html")return i;let n=i.assignedSlot||i.parentNode||Ng(i)&&i.host||$i(i);return Ng(n)?n.host:n}function Tg(i){let n=Jo(i);return na(n)?i.ownerDocument?i.ownerDocument.body:i.body:vi(n)&&Vr(n)?n:Tg(n)}function qr(i,n,r){var o;n===void 0&&(n=[]),r===void 0&&(r=!0);let e=Tg(i),t=e===((o=i.ownerDocument)==null?void 0:o.body),a=Mn(e);return t?n.concat(a,a.visualViewport||[],Vr(e)?e:[],a.frameElement&&r?qr(a.frameElement):[]):n.concat(e,qr(e,[],r))}function kg(i){let n=Qn(i),r=parseFloat(n.width)||0,o=parseFloat(n.height)||0,e=vi(i),t=e?i.offsetWidth:r,a=e?i.offsetHeight:o,d=ea(r)!==t||ea(o)!==a;return d&&(r=t,o=a),{width:r,height:o,$:d}}function Yh(i){return zi(i)?i:i.contextElement}function Hr(i){let n=Yh(i);if(!vi(n))return ro(1);let r=n.getBoundingClientRect(),{width:o,height:e,$:t}=kg(n),a=(t?ea(r.width):r.width)/o,d=(t?ea(r.height):r.height)/e;return(!a||!Number.isFinite(a))&&(a=1),(!d||!Number.isFinite(d))&&(d=1),{x:a,y:d}}var V_=ro(0);function Lg(i){let n=Mn(i);return!Zl()||!n.visualViewport?V_:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function H_(i,n,r){return n===void 0&&(n=!1),!r||n&&r!==Mn(i)?!1:n}function Ko(i,n,r,o){n===void 0&&(n=!1),r===void 0&&(r=!1);let e=i.getBoundingClientRect(),t=Yh(i),a=ro(1);n&&(o?zi(o)&&(a=Hr(o)):a=Hr(i));let d=H_(t,r,o)?Lg(t):ro(0),s=(e.left+d.x)/a.x,c=(e.top+d.y)/a.y,u=e.width/a.x,p=e.height/a.y;if(t){let m=Mn(t),g=o&&zi(o)?Mn(o):o,v=m,x=v.frameElement;for(;x&&o&&g!==v;){let y=Hr(x),w=x.getBoundingClientRect(),S=Qn(x),P=w.left+(x.clientLeft+parseFloat(S.paddingLeft))*y.x,j=w.top+(x.clientTop+parseFloat(S.paddingTop))*y.y;s*=y.x,c*=y.y,u*=y.x,p*=y.y,s+=P,c+=j,v=Mn(x),x=v.frameElement}}return Yo({width:u,height:p,x:s,y:c})}var U_=[":popover-open",":modal"];function Rg(i){return U_.some(n=>{try{return i.matches(n)}catch{return!1}})}function G_(i){let{elements:n,rect:r,offsetParent:o,strategy:e}=i,t=e==="fixed",a=$i(o),d=n?Rg(n.floating):!1;if(o===a||d&&t)return r;let s={scrollLeft:0,scrollTop:0},c=ro(1),u=ro(0),p=vi(o);if((p||!p&&!t)&&((ao(o)!=="body"||Vr(a))&&(s=ia(o)),vi(o))){let m=Ko(o);c=Hr(o),u.x=m.x+o.clientLeft,u.y=m.y+o.clientTop}return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-s.scrollLeft*c.x+u.x,y:r.y*c.y-s.scrollTop*c.y+u.y}}function W_(i){return Array.from(i.getClientRects())}function Pg(i){return Ko($i(i)).left+ia(i).scrollLeft}function Z_(i){let n=$i(i),r=ia(i),o=i.ownerDocument.body,e=oo(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),t=oo(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight),a=-r.scrollLeft+Pg(i),d=-r.scrollTop;return Qn(o).direction==="rtl"&&(a+=oo(n.clientWidth,o.clientWidth)-e),{width:e,height:t,x:a,y:d}}function Q_(i,n){let r=Mn(i),o=$i(i),e=r.visualViewport,t=o.clientWidth,a=o.clientHeight,d=0,s=0;if(e){t=e.width,a=e.height;let c=Zl();(!c||c&&n==="fixed")&&(d=e.offsetLeft,s=e.offsetTop)}return{width:t,height:a,x:d,y:s}}function Y_(i,n){let r=Ko(i,!0,n==="fixed"),o=r.top+i.clientTop,e=r.left+i.clientLeft,t=vi(i)?Hr(i):ro(1),a=i.clientWidth*t.x,d=i.clientHeight*t.y,s=e*t.x,c=o*t.y;return{width:a,height:d,x:s,y:c}}function Ig(i,n,r){let o;if(n==="viewport")o=Q_(i,r);else if(n==="document")o=Z_($i(i));else if(zi(n))o=Y_(n,r);else{let e=Lg(i);o=st(Pe({},n),{x:n.x-e.x,y:n.y-e.y})}return Yo(o)}function Mg(i,n){let r=Jo(i);return r===n||!zi(r)||na(r)?!1:Qn(r).position==="fixed"||Mg(r,n)}function J_(i,n){let r=n.get(i);if(r)return r;let o=qr(i,[],!1).filter(d=>zi(d)&&ao(d)!=="body"),e=null,t=Qn(i).position==="fixed",a=t?Jo(i):i;for(;zi(a)&&!na(a);){let d=Qn(a),s=Wl(a);!s&&d.position==="fixed"&&(e=null),(t?!s&&!e:!s&&d.position==="static"&&!!e&&["absolute","fixed"].includes(e.position)||Vr(a)&&!s&&Mg(i,a))?o=o.filter(u=>u!==a):e=d,a=Jo(a)}return n.set(i,o),o}function K_(i){let{element:n,boundary:r,rootBoundary:o,strategy:e}=i,a=[...r==="clippingAncestors"?J_(n,this._c):[].concat(r),o],d=a[0],s=a.reduce((c,u)=>{let p=Ig(n,u,e);return c.top=oo(p.top,c.top),c.right=Eo(p.right,c.right),c.bottom=Eo(p.bottom,c.bottom),c.left=oo(p.left,c.left),c},Ig(n,d,e));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function X_(i){let{width:n,height:r}=kg(i);return{width:n,height:r}}function e4(i,n,r){let o=vi(n),e=$i(n),t=r==="fixed",a=Ko(i,!0,t,n),d={scrollLeft:0,scrollTop:0},s=ro(0);if(o||!o&&!t)if((ao(n)!=="body"||Vr(e))&&(d=ia(n)),o){let p=Ko(n,!0,t,n);s.x=p.x+n.clientLeft,s.y=p.y+n.clientTop}else e&&(s.x=Pg(e));let c=a.left+d.scrollLeft-s.x,u=a.top+d.scrollTop-s.y;return{x:c,y:u,width:a.width,height:a.height}}function Eg(i,n){return!vi(i)||Qn(i).position==="fixed"?null:n?n(i):i.offsetParent}function Ag(i,n){let r=Mn(i);if(!vi(i)||Rg(i))return r;let o=Eg(i,n);for(;o&&Cg(o)&&Qn(o).position==="static";)o=Eg(o,n);return o&&(ao(o)==="html"||ao(o)==="body"&&Qn(o).position==="static"&&!Wl(o))?r:o||Sg(i)||r}var t4=function(i){return Le(this,null,function*(){let n=this.getOffsetParent||Ag,r=this.getDimensions,o=yield r(i.floating);return{reference:e4(i.reference,yield n(i.floating),i.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}})};function n4(i){return Qn(i).direction==="rtl"}var i4={convertOffsetParentRelativeRectToViewportRelativeRect:G_,getDocumentElement:$i,getClippingRect:K_,getOffsetParent:Ag,getElementRects:t4,getClientRects:W_,getDimensions:X_,getScale:Hr,isElement:zi,isRTL:n4};function o4(i,n){let r=null,o,e=$i(i);function t(){var d;clearTimeout(o),(d=r)==null||d.disconnect(),r=null}function a(d,s){d===void 0&&(d=!1),s===void 0&&(s=1),t();let{left:c,top:u,width:p,height:m}=i.getBoundingClientRect();if(d||n(),!p||!m)return;let g=ta(u),v=ta(e.clientWidth-(c+p)),x=ta(e.clientHeight-(u+m)),y=ta(c),S={rootMargin:-g+"px "+-v+"px "+-x+"px "+-y+"px",threshold:oo(0,Eo(1,s))||1},P=!0;function j(R){let T=R[0].intersectionRatio;if(T!==s){if(!P)return a();T?a(!1,T):o=setTimeout(()=>{a(!1,1e-7)},1e3)}P=!1}try{r=new IntersectionObserver(j,st(Pe({},S),{root:e.ownerDocument}))}catch{r=new IntersectionObserver(j,S)}r.observe(i)}return a(!0),t}function Og(i,n,r,o){o===void 0&&(o={});let{ancestorScroll:e=!0,ancestorResize:t=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,c=Yh(i),u=e||t?[...c?qr(c):[],...qr(n)]:[];u.forEach(w=>{e&&w.addEventListener("scroll",r,{passive:!0}),t&&w.addEventListener("resize",r)});let p=c&&d?o4(c,r):null,m=-1,g=null;a&&(g=new ResizeObserver(w=>{let[S]=w;S&&S.target===c&&g&&(g.unobserve(n),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var P;(P=g)==null||P.observe(n)})),r()}),c&&!s&&g.observe(c),g.observe(n));let v,x=s?Ko(i):null;s&&y();function y(){let w=Ko(i);x&&(w.x!==x.x||w.y!==x.y||w.width!==x.width||w.height!==x.height)&&r(),x=w,v=requestAnimationFrame(y)}return r(),()=>{var w;u.forEach(S=>{e&&S.removeEventListener("scroll",r),t&&S.removeEventListener("resize",r)}),p?.(),(w=g)==null||w.disconnect(),g=null,s&&cancelAnimationFrame(v)}}var Dg=wg,Fg=vg,$g=_g,zg=yg;var Bg=gg;var jg=xg,qg=(i,n,r)=>{let o=new Map,e=Pe({platform:i4},r),t=st(Pe({},e.platform),{_c:o});return fg(i,n,st(Pe({},e),{platform:t}))};var r4=["floatUiViewRef"],Vg=["*","*"];function s4(i,n){if(i&1&&(xe(0,"div",5),Li(1),Ne()),i&2){let r=Ee();te("innerHTML",r.text,tl)}}function a4(i,n){i&1&&(xe(0,"div",6),Li(1,1),Ne())}var ra=function(i){return i.AUTO="auto",i.AUTOSTART="auto-start",i.AUTOEND="auto-end",i.TOP="top",i.BOTTOM="bottom",i.LEFT="left",i.RIGHT="right",i.TOPSTART="top-start",i.BOTTOMSTART="bottom-start",i.LEFTSTART="left-start",i.RIGHTSTART="right-start",i.TOPEND="top-end",i.BOTTOMEND="bottom-end",i.LEFTEND="left-end",i.RIGHTEND="right-end",i}(ra||{}),Bi=function(i){return i.click="click",i.hover="hover",i.mousedown="mousedown",i.none="none",i}(Bi||{}),Jh=(()=>{class i{elRef;_viewRef;_changeDetectorRef;static nextId=0;get _dynamicArrowSides(){return{top:"left",right:"top",bottom:"left",left:"top"}}get _sideAxis(){return{left:"x",top:"y",right:"x",bottom:"y"}}get _staticArrowSides(){return{top:"bottom",right:"left",bottom:"top",left:"right"}}ariaHidden;arrowColor=null;displayType;floatUiOptions={disableAnimation:!1,disableDefaultStyling:!1,boundariesElement:"",trigger:Bi.hover,positionFixed:!1,appendToBody:!1,popperModifiers:[]};floatUiSwitch;floatUiViewRef;id=`ngx_float_ui_${++i.nextId}`;isMouseOver=!1;onHidden=new Et;onUpdate;opacity;referenceObject;state;text;_destroy$=new Jt;_resizeCtrl$=new Jt;_styleId=`${this.id}_style`;constructor(r,o,e){this.elRef=r,this._viewRef=o,this._changeDetectorRef=e,this._toggleVisibility(!1)}clean(){this.toggleVisibility(!1),this.floatUiSwitch&&this.floatUiSwitch()}extractAppliedClassListExpr(r=[]){return(Array.isArray(r)?r:typeof r=="string"?r.replace(/ /,"").split(","):[]).reduce((e,t)=>(e[t]=!0,e),{})}hide(){this.floatUiSwitch&&this.floatUiSwitch(),this.toggleVisibility(!1),this.onHidden.emit()}ngOnDestroy(){this._destroy$.next(),this.clean(),this.floatUiOptions.appendTo&&this.elRef&&this.elRef.nativeElement&&this.elRef.nativeElement.parentNode&&(this._viewRef.detach(),this.elRef.nativeElement.parentNode.removeChild(this.elRef.nativeElement))}onDocumentResize(){this.update()}onMouseOver(){this.isMouseOver=!0}show(){this.referenceObject&&(this._resizeCtrl$.next(),this._determineArrowColor(),this.floatUiSwitch=Og(this.referenceObject,this.floatUiViewRef.nativeElement,()=>{this._computePosition()}),_r(document,"resize").pipe(bn(this._resizeCtrl$),bn(this._destroy$)).subscribe({next:()=>this.onDocumentResize()}))}showOnLeave(){this.isMouseOver=!1,!(this.floatUiOptions.trigger!==Bi.hover&&!this.floatUiOptions.hideOnMouseLeave)&&this.hide()}toggleVisibility(r){this._toggleVisibility(r),this._changeDetectorRef.destroyed||this._changeDetectorRef.detectChanges()}update(){this._computePosition()}_computePosition(){let r=this.floatUiOptions.appendTo&&document.querySelector(this.floatUiOptions.appendTo);if(r){let c=this.elRef.nativeElement.parentNode;c!==r&&(c&&c.removeChild(this.elRef.nativeElement),r.appendChild(this.elRef.nativeElement))}let o=this.elRef.nativeElement.querySelector(".float-ui-arrow"),e=o.offsetWidth,t=Math.sqrt(2*e**2)/2,a=this.floatUiOptions.placement?.replace("auto-","")||void 0,s={placement:!this.floatUiOptions.placement||this.floatUiOptions.placement.indexOf(ra.AUTO)===0?void 0:this.floatUiOptions.placement,strategy:this.floatUiOptions.positionFixed?"fixed":"absolute",middleware:[Dg(t),...this.floatUiOptions.preventOverflow?[zg()]:[],$g({limiter:jg()}),Bg({element:o,padding:4})]};if(!this.floatUiOptions.preventOverflow&&!s.placement){let c=this.floatUiOptions.boundariesElement?document.querySelector(this.floatUiOptions.boundariesElement):this.referenceObject.parentElement;s.middleware.push(Fg({crossAxis:!0,alignment:a,autoAlignment:this.floatUiOptions.placement===ra.AUTO,boundary:c}))}qg(this.referenceObject,this.floatUiViewRef.nativeElement,Pe({},s)).then(({middlewareData:c,x:u,y:p,placement:m})=>{let g=m.split("-")[0];if(this.floatUiViewRef.nativeElement.setAttribute("data-float-ui-placement",g),c.arrow){let v=this._staticArrowSides[g],x=this._dynamicArrowSides[g],y=this._sideAxis[x];Object.assign(o.style,{top:"",bottom:"",left:"",right:"",[x]:c.arrow[y]!=null?`${c.arrow[y]}px`:"",[v]:`${-e/2}px`})}Object.assign(this.floatUiViewRef.nativeElement.style,{left:`${u}px`,top:`${p}px`}),this.toggleVisibility(!0),this.onUpdate?.()})}_createArrowSelector(){return`div#${this.id}.float-ui-container > .float-ui-arrow.ngxp__force-arrow`}_determineArrowColor(){if(!this.floatUiOptions.styles||this.arrowColor)return!1;let r=this.floatUiOptions.styles["background-color"]||this.floatUiOptions.styles.backgroundColor;if(this.arrowColor===r)return!1;this.arrowColor=r;let o=document.querySelector(`#${this._styleId}`),e=this.arrowColor?`${this._createArrowSelector()}:before { background-color: ${this.arrowColor}; }`:"";o||(o=document.createElement("style"),o.id=this._styleId,o.setAttribute("type","text/css"),document.head.appendChild(o)),o.styleSheet?o.styleSheet.cssText=e:o.innerHTML=e}_toggleVisibility(r){this.displayType=["none","block"][+r],this.opacity=+r,this.ariaHidden=`${!r}`,this.state=r}static \u0275fac=function(o){return new(o||i)(be(Hn),be(Cs),be(Oi))};static \u0275cmp=Fe({type:i,selectors:[["float-ui-content"]],viewQuery:function(o,e){if(o&1&&Ri(r4,7),o&2){let t;ui(t=mi())&&(e.floatUiViewRef=t.first)}},hostBindings:function(o,e){o&1&&nt("mouseover",function(){return e.onMouseOver()})("mouseleave",function(){return e.showOnLeave()})},exportAs:["ngxFloatUiContent"],standalone:!0,features:[$e],ngContentSelectors:Vg,decls:5,vars:21,consts:[["floatUiViewRef",""],[3,"ngStyle","ngClass"],["class","ngxp__inner",3,"innerHTML",4,"ngIf"],["class","ngxp__inner",4,"ngIf"],[1,"float-ui-arrow",3,"ngClass"],[1,"ngxp__inner",3,"innerHTML"],[1,"ngxp__inner"]],template:function(o,e){o&1&&(io(Vg),xe(0,"div",1,0),Me(2,s4,2,1,"div",2)(3,a4,2,0,"div",3),ke(4,"div",4),Ne()),o&2&&(_o("display",e.displayType)("opacity",e.opacity),Ss("float-ui-container",!e.floatUiOptions.disableDefaultStyling)("float-ui-animation",!e.floatUiOptions.disableAnimation)("float-ui-fixed",e.floatUiOptions.positionFixed),te("ngStyle",e.floatUiOptions.styles)("ngClass",e.extractAppliedClassListExpr(e.floatUiOptions.applyClass)),no("id",e.id)("aria-hidden",e.ariaHidden)("aria-describedby",e.floatUiOptions.ariaDescribe||null)("role",e.floatUiOptions.ariaRole),oe(2),te("ngIf",e.text),oe(),te("ngIf",!e.text),oe(),Ss("ngxp__force-arrow",e.arrowColor),te("ngClass",e.extractAppliedClassListExpr(e.floatUiOptions.applyArrowClass)))},dependencies:[Wp,Wt,Ye],styles:[`float-ui-content{position:relative;display:block}.float-ui-container{display:none;position:absolute;border-radius:3px;border:1px solid grey;box-shadow:0 0 2px #00000080;padding:10px}.float-ui-container.float-ui-fixed{position:fixed}.float-ui-container.float-ui-animation{animation:ngxp-fadeIn .15s ease-out;transition:transform .65s cubic-bezier(.43,.33,.14,1.01) 0s}.float-ui-container>.float-ui-arrow{position:absolute;width:10px;height:10px;z-index:-1;transform:rotate(45deg)}@keyframes ngxp-fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}to{display:block;opacity:1}}
`],encapsulation:2,changeDetection:0})}return i})(),Gg=new tt("NGX_FLOAT_UI_DEFAULTS"),oa=class{static coerceBooleanProperty(n){return n!=null&&`${n}`!="false"}},Hg=class i{_changeDetectorRef;_elementRef;_vcr;_popperDefaults;static baseOptions={showDelay:0,hideOnClickOutside:!0,hideOnMouseLeave:!1,hideOnScroll:!1,appendTo:void 0,ariaRole:"popper",ariaDescribe:"",styles:{},trigger:Bi.click};set applyClass(n){n!==this._applyClass&&(this._applyClass=n,this._checkExisting("applyClass",n))}get applyClass(){return this._applyClass}set arrowClass(n){if(n!==this._arrowClass&&(this._arrowClass=n,this._content)){if(this._content.floatUiOptions.applyArrowClass=n,!this._shown)return;this._content.update()}}get arrowClass(){return this._arrowClass}set disabled(n){n!==this._disabled&&(this._disabled=!!n,this._shown&&this.hide())}get disabled(){return this._disabled}set floatUi(n){n!==this._floatUi&&(this._floatUi=n,this._content&&(typeof n=="string"?this._content.text=n:this._content=n))}get floatUi(){return this._floatUi}set hideOnClickOutside(n){this._hideOnClickOutside=oa.coerceBooleanProperty(n)}get hideOnClickOutside(){return this._hideOnClickOutside}set placement(n){this._placement=n,this._checkExisting("placement",n)}get placement(){return this._placement}set preventOverflow(n){this._preventOverflow=oa.coerceBooleanProperty(n),this._checkExisting("preventOverflow",this._preventOverflow)}get preventOverflow(){return this._preventOverflow}set showOnStart(n){this._showOnStart=oa.coerceBooleanProperty(n)}get showOnStart(){return this._showOnStart}appendTo;ariaDescribe;ariaRole;boundariesElement;disableAnimation;disableStyle;hideOnMouseLeave;hideOnScroll;hideTimeout=0;onHidden=new Et;onShown=new Et;onUpdate=new Et;positionFixed;showDelay;showTrigger;styles;targetElement;timeoutAfterShow=0;_applyClass;_arrowClass;_content;_contentClass=Jh;_contentRef;_destroy$=new Jt;_disabled;_floatUi;_globalEventListenersCtrl$=new Jt;_hideOnClickOutside=!0;_placement;_preventOverflow;_scheduledHideTimeoutCtrl$=new Jt;_scheduledShowTimeoutCtrl$=new Jt;_shown=!1;_showOnStart=!1;constructor(n,r,o,e={}){this._changeDetectorRef=n,this._elementRef=r,this._vcr=o,this._popperDefaults=e,i.baseOptions=Pe(Pe({},i.baseOptions),this._popperDefaults)}static assignDefined(n,...r){for(let o of r)for(let e of Object.keys(o)){let t=o[e];t!==void 0&&(n[e]=t)}return n}applyTriggerListeners(){switch(this.showTrigger){case Bi.click:this._addListener("click",this.toggle.bind(this));break;case Bi.mousedown:this._addListener("mousedown",this.toggle.bind(this));break;case Bi.hover:this._addListener("mouseenter",this.scheduledShow.bind(this,this.showDelay)),["touchend","touchcancel","mouseleave"].forEach(n=>{this._addListener(n,this.scheduledHide.bind(this,null,this.hideTimeout))});break}this.showTrigger!==Bi.hover&&this.hideOnMouseLeave&&["touchend","touchcancel","mouseleave"].forEach(n=>{this._addListener(n,this.scheduledHide.bind(this,null,this.hideTimeout))})}getRefElement(){return this.targetElement||this._elementRef.nativeElement}hide(){if(!this.disabled){if(!this._shown){this._scheduledShowTimeoutCtrl$.next();return}this._shown=!1,this._contentRef?this._contentRef.instance.hide():this._content.hide(),this.onHidden.emit(this),this._globalEventListenersCtrl$.next()}}hideOnClickOutsideHandler(n){this.disabled||!this.hideOnClickOutside||n.target===this._content.elRef.nativeElement||this._content.elRef.nativeElement.contains(n.target)||this.scheduledHide(n,this.hideTimeout)}hideOnScrollHandler(n){this.disabled||!this.hideOnScroll||this.scheduledHide(n,this.hideTimeout)}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._content&&this._content.clean()}ngOnInit(){typeof this.floatUi=="string"?(this._content=this._constructContent(),this._content.text=this.floatUi):typeof this.floatUi>"u"?(this._content=this._constructContent(),this._content.text=""):this._content=this.floatUi;let n=this._content;n.referenceObject=this.getRefElement(),this._setContentProperties(n),this._setDefaults(),this.applyTriggerListeners(),this.showOnStart&&this.scheduledShow()}scheduledHide(n=null,r=this.hideTimeout){this.disabled||(this._scheduledShowTimeoutCtrl$.next(),Rc(r).pipe(bn(this._scheduledHideTimeoutCtrl$),bn(this._destroy$)).subscribe({next:()=>{let o=n?n.toElement:null,e=this._content.floatUiViewRef?this._content.floatUiViewRef.nativeElement:!1;!e||e===o||e.contains(o)||this.floatUi&&this.floatUi.isMouseOver||(this.hide(),this._applyChanges())}}))}scheduledShow(n=this.showDelay){this.disabled||(this._scheduledHideTimeoutCtrl$.next(),Rc(n).pipe(bn(this._scheduledShowTimeoutCtrl$),bn(this._destroy$)).subscribe({next:()=>{this.show(),this._applyChanges()}}))}show(){if(this._shown){this._scheduledHideTimeoutCtrl$.next();return}this._shown=!0;let n=this._content,r=this.getRefElement();n.referenceObject!==r&&(n.referenceObject=r),this._setContentProperties(n),n.show(),this.onShown.emit(this),this.timeoutAfterShow>0&&this.scheduledHide(null,this.timeoutAfterShow),_r(document,"click").pipe(bn(this._globalEventListenersCtrl$),bn(this._destroy$)).subscribe({next:o=>this.hideOnClickOutsideHandler(o)}),_r(this._getScrollParent(this.getRefElement()),"scroll").pipe(bn(this._globalEventListenersCtrl$),bn(this._destroy$)).subscribe({next:o=>{this.hideOnScrollHandler(o)}})}toggle(){this.disabled||(this._shown?this.scheduledHide(null,this.hideTimeout):this.scheduledShow())}_addListener(n,r){_r(this._elementRef.nativeElement,n).pipe(bn(this._destroy$)).subscribe({next:r})}_applyChanges(){this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges()}_checkExisting(n,r){if(this._content){if(this._content.floatUiOptions[n]=r,!this._shown)return;this._content.update()}}_constructContent(){return this._contentRef=this._vcr.createComponent(this._contentClass),this._contentRef.instance}_getScrollParent(n){let o=n instanceof HTMLElement&&window.getComputedStyle(n).overflowY,e=o!=="visible"&&o!=="hidden";if(n){if(e&&n.scrollHeight>n.clientHeight)return n}else return null;return this._getScrollParent(n.parentNode)||document}_onPopperUpdate(){this.onUpdate.emit()}_setContentProperties(n){n.floatUiOptions=i.assignDefined(n.floatUiOptions,i.baseOptions,{showDelay:this.showDelay,disableAnimation:this.disableAnimation,disableDefaultStyling:this.disableStyle,placement:this.placement,boundariesElement:this.boundariesElement,trigger:this.showTrigger,positionFixed:this.positionFixed,ariaDescribe:this.ariaDescribe,ariaRole:this.ariaRole,applyClass:this.applyClass,applyArrowClass:this.arrowClass,hideOnMouseLeave:this.hideOnMouseLeave,styles:this.styles,appendTo:this.appendTo,preventOverflow:this.preventOverflow}),n.onUpdate=this._onPopperUpdate.bind(this),n.onHidden.pipe(bn(this._destroy$)).subscribe(this.hide.bind(this))}_setDefaults(){["showDelay","hideOnScroll","hideOnMouseLeave","hideOnClickOutside","ariaRole","ariaDescribe"].forEach(n=>{this[n]=this[n]===void 0?i.baseOptions[n]:this[n]}),this.showTrigger=this.showTrigger||i.baseOptions.trigger,this.styles=this.styles===void 0?Pe({},i.baseOptions.styles):this.styles}static \u0275fac=function(r){return new(r||i)(be(Oi),be(Hn),be(Cs),be(Gg))};static \u0275dir=Tn({type:i,selectors:[["","floatUi",""]],inputs:{applyClass:"applyClass",arrowClass:"arrowClass",disabled:"disabled",floatUi:"floatUi",hideOnClickOutside:"hideOnClickOutside",placement:"placement",preventOverflow:"preventOverflow",showOnStart:"showOnStart",appendTo:"appendTo",ariaDescribe:"ariaDescribe",ariaRole:"ariaRole",boundariesElement:"boundariesElement",disableAnimation:"disableAnimation",disableStyle:"disableStyle",hideOnMouseLeave:"hideOnMouseLeave",hideOnScroll:"hideOnScroll",hideTimeout:"hideTimeout",positionFixed:"positionFixed",showDelay:"showDelay",showTrigger:"showTrigger",styles:"styles",targetElement:"targetElement",timeoutAfterShow:"timeoutAfterShow"},outputs:{onHidden:"onHidden",onShown:"onShown",onUpdate:"onUpdate"},exportAs:["floatUi"],standalone:!0})};function Ug(i={}){return[{provide:Gg,useValue:i}]}var Wg=(()=>{class i{static forRoot(r){return{ngModule:i,providers:[Ug(r)]}}static \u0275fac=function(o){return new(o||i)};static \u0275mod=Sn({type:i});static \u0275inj=Cn({providers:[Ug()],imports:[pi]})}return i})();var Kh=Ya(Qg());function l4(i,n){if(i&1){let r=Ct();xe(0,"button",2),nt("click",function(e){xt(r);let t=Ee();return Nt(t.onEllipsisClick(e))}),Ve(1,` \xA0[...]
`),Ne()}if(i&2){let r=Ee();te("ngClass",r.allowLabelExpand?"text-primary clickable":"")}}var Yg=(()=>{let n=class n{constructor(){this.shouldTruncate=!0,this.allowLabelExpand=!0,this.showingTruncatedLabel=!0,this.renderedLabelHtml=""}ngOnInit(){this.updateRenderedLabelHtml()}ngOnChanges(o){(o.label||o.highlightStr)&&this.updateRenderedLabelHtml()}get labelIsTruncated(){if(!this.label)return!1;let o=(0,Kh.default)(this.label),e=this.getLabelWithHighlightsHtml(o,this.highlightStr??"");return this.renderedLabelHtml.length!==e.length}getLabelWithHighlightsHtml(o,e){if(!e)return o;let a=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").split(/\s+/),d=new RegExp(a.join("|"),"gi");return o.replace(d,s=>`<span class="bg-accent">${s}</span>`)}updateRenderedLabelHtml(){if(!this.label){this.renderedLabelHtml="";return}let o=(0,Kh.default)(this.label),e=o;this.shouldTruncate&&this.showingTruncatedLabel&&(e=tg(o,qe.labelMaxChars));let t=this.getLabelWithHighlightsHtml(e,this.highlightStr??"");this.renderedLabelHtml=t}onEllipsisClick(o){o.stopPropagation(),o.preventDefault(),this.allowLabelExpand&&(this.showingTruncatedLabel=!this.showingTruncatedLabel,this.updateRenderedLabelHtml())}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Fe({type:n,selectors:[["app-node-label"]],inputs:{label:"label",shouldTruncate:"shouldTruncate",allowLabelExpand:"allowLabelExpand",highlightStr:"highlightStr"},standalone:!0,features:[In,$e],decls:2,vars:2,consts:[[1,"w-full",3,"innerHTML"],[3,"ngClass","click",4,"ngIf"],[3,"click","ngClass"]],template:function(e,t){e&1&&(ke(0,"span",0),Me(1,l4,2,1,"button",1)),e&2&&(te("innerHTML",t.renderedLabelHtml,tl),oe(),te("ngIf",t.shouldTruncate&&t.showingTruncatedLabel&&t.labelIsTruncated))},dependencies:[Ye,Wt],styles:["span[_ngcontent-%COMP%]{overflow-wrap:break-word}"]});let i=n;return i})();var Jg=(()=>{let n=class n{constructor(){this.cache={}}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var ji=(()=>{let n=class n{constructor(o,e){this.http=o,this.postCache=e,this.requestQueue=[],this.activeRequests=0}postData(o,e){return Le(this,null,function*(){let t=JSON.stringify(e),a=`${o}|||${t}`;return a in this.postCache.cache?this.postCache.cache[a]:new Promise((s,c)=>{let u=()=>Le(this,null,function*(){try{let p=yield xp(this.http.post(o,e).pipe(vo(m=>(console.error("There was a problem with the API request:",m),c(m),Vo(()=>m)))));this.postCache.cache[a]=p,s(p)}catch(p){c(p)}finally{this.activeRequests--,this._processQueue()}});this.requestQueue.push(u),this._processQueue()})})}_processQueue(){for(;this.activeRequests<qe.maxNumParallelRequests&&this.requestQueue.length>0;){let o=this.requestQueue.shift();o&&(this.activeRequests++,o())}}};n.\u0275fac=function(e){return new(e||n)(je(ks),je(Jg))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Ur=(()=>{let n=class n{constructor(){this.current=new _t(Rn.List)}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var on=(()=>{let n=class n{constructor(o){this.viewModes=o}showingFilterPanelOnSide(){return qe.filtering.filterPanelLocation==To.Left||qe.filtering.filterPanelLocation==To.Right}hasViewModeSetting(o){let e=this.viewModes.current.value;return e===void 0?!0:qe.viewModes[e]?.[o]}getVisiblePredicates(){return qe.predicateVisibility[this.viewModes.current.value]}getPredicateVisibility(o){if(qe.alwaysHidePredicates.includes(o))return Zt.Hide;let e=this.getVisiblePredicates();if(e[Zt.Hide].includes(o))return Zt.Hide;let t=e[Zt.Show],a=e[Zt.Details],d=t.includes("*"),s=a.includes(o),c=t.includes(o);if(d&&!s||c)return Zt.Show;let u=a.includes("*"),p=t.includes(o),m=a.includes(o);return u&&!p||m?Zt.Details:Zt.Hide}};n.\u0275fac=function(e){return new(e||n)(je(Ur))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var An=(()=>{let n=class n{constructor(o,e){this.settings=o,this.route=e,this.enabledIds=new _t([]),this._initUpdateEndpointsOnUrlChange()}_initUpdateEndpointsOnUrlChange(){this.route.queryParams.pipe(xn(1)).subscribe(o=>{let e=o[ht.endpointsParam];if(e){let t=e.split(",");this.enabledIds.next(t)}})}getById(o){return qe.endpoints[o]??void 0}getIdBySparqlUrl(o){let e=qe.endpoints;for(let[t,a]of Object.entries(e))if(a.endpointUrls.some(s=>s.sparql===o))return t;return""}toggle(o){let e=this.enabledIds.value,t=e.findIndex(d=>d===o);t>-1?e.splice(t,1):e.push(o),this.enabledIds.next(e)}isEnabled(o){return this.enabledIds.value.includes(o)}getFirstUrls(){return this.getAllUrls()[0]}getAll(){let o=Object.entries(qe.endpoints).filter(([e,t])=>!this.enabledIds.value||this.enabledIds.value.length===0?!0:this.isEnabled(e));return Object.fromEntries(o)}getAllUrls(){return Object.entries(this.getAll()).flatMap(([e,t])=>(t.endpointUrls.forEach(a=>a.id=e),t.endpointUrls))}};n.\u0275fac=function(e){return new(e||n)(je(on),je(Wn))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var fn=(()=>{let n=class n{constructor(o,e,t){this.api=o,this.settings=e,this.endpoints=t}getFederatedQuery(o,e){let t=e?e[0].sparql:this.endpoints.getFirstUrls().sparql,a=`
{
  SERVICE <${t}> {
      ${o}
      BIND("${t}" AS ?endpointUrl)
  }
}`,s=(e?e.slice(1):this.endpoints.getAllUrls().slice(1)).map(c=>`
UNION {
    SERVICE <${c.sparql}> {
        ${o}
        BIND("${c.sparql}" AS ?endpointUrl)
    }
}`);return`${a}
${s.join(`
`)}`}_ensureNodeHasId(o){if(!(o!==void 0&&o["@id"]!==void 0&&o["@id"].length!==0))throw new Error("Node without ID passed")}_ensureEndpointsExist(){if(Object.keys(qe.endpoints).length===0)throw new Error("No endpoints defined")}getIncomingRelations(o){return Le(this,null,function*(){this._ensureNodeHasId(o),this._ensureEndpointsExist();let e=`?sub ?pred <${o["@id"][0].value}>`,t=`
SELECT DISTINCT ?sub ?pred WHERE {
 ${this.getFederatedQuery(e)}
}

limit 500`;return yield this.api.postData(this.endpoints.getFirstUrls().sparql,{query:t})})}getAllParents(o){return Le(this,null,function*(){this._ensureNodeHasId(o),this._ensureEndpointsExist();let e=qe.predicates.parents.map(s=>Pn(s)),t=qe.predicates.label.map(s=>Pn(s)),a=`
    <${o["@id"][0].value}> ${e.join("*|")}* ?id .
    OPTIONAL { ?id ${t.join("|")} ?title . }
    OPTIONAL { ?id ${e.join("|")} ?parent . }`,d=`
SELECT DISTINCT ?id ?title ?parent WHERE {
  ${this.getFederatedQuery(a)}
}

limit 500`;return yield this.api.postData(this.endpoints.getFirstUrls().sparql,{query:d})})}getLabels(o){return Le(this,null,function*(){let e=o.map(u=>Pn(u)).join(`
`),t=qe.predicates.label.map(u=>Pn(u)).join("|"),a=`
VALUES ?s {
  ${e}
}
?s ${t} ?label .`,d=`
SELECT DISTINCT ?s ?label WHERE {
    ${this.getFederatedQuery(a)}
}
LIMIT 10000`;return(yield this.api.postData(this.endpoints.getFirstUrls().sparql,{query:d})).map(({s:u,label:p})=>({"@id":u,label:p}))})}getObjIds(o,e){return Le(this,null,function*(){let t=e.map(u=>Pn(u)).join("/"),a=`${Pn(o)} ${t} ?o .`,d=`
SELECT DISTINCT ?o WHERE {
    ${this.getFederatedQuery(a)}
}
LIMIT 10000`;return(yield this.api.postData(this.endpoints.getFirstUrls().sparql,{query:d})).map(u=>u.o)})}getNode(o){return Le(this,null,function*(){console.log("Retrieving node details using SPARQL...",o),this._ensureEndpointsExist();let e=`${Pn(o)} ?pred ?obj .`,t=`SELECT DISTINCT ?pred ?obj ?endpointUrl WHERE {
        ${this.getFederatedQuery(e)}
    }`,a=yield this.api.postData(this.endpoints.getFirstUrls().sparql,{query:t}),d={},s=new Set;for(let u of a){if(u.endpointUrl){let g=this.endpoints.getIdBySparqlUrl(u.endpointUrl);s.add(g)}let p=u.pred;d[p]=d[p]||[];let m={value:u.obj,direction:Dt.Outgoing};d[p].push(m)}let c=Array.from(s).map(u=>({value:u,direction:Dt.Outgoing}));return Pe({"@id":[{value:o,direction:Dt.Outgoing}],endpointId:c},d)})}};n.\u0275fac=function(e){return new(e||n)(je(ji),je(on),je(An))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Jl=(()=>{let n=class n{constructor(o){this.sparql=o,this._idsToCacheLabelFor=new Set,this._labelsBeingCachedForIds=new Set,this.labels={},this._scheduleBatchCacheRequests()}_scheduleBatchCacheRequests(){return Le(this,null,function*(){setInterval(()=>this.cacheQueuedLabelsInBatch(),ht.labelFetchIntervalMs)})}cacheQueuedLabelsInBatch(){return Le(this,null,function*(){let o=Array.from(this._idsToCacheLabelFor).filter(t=>{let a=Object.keys(this.labels).includes(t),d=this._labelsBeingCachedForIds.has(t);return!a&&!d});if(!o||o.length===0)return;o.map(t=>{this._labelsBeingCachedForIds.add(t),t in this.labels||(this.labels[t]=Js(t))});let e=yield this.sparql.getLabels(o);for(let t of e){let a=t["@id"];this.labels[a]=t.label,this._labelsBeingCachedForIds.delete(a)}})}cacheLabelForId(o){return Le(this,null,function*(){return o?(this._idsToCacheLabelFor.add(o),this.labels?.[o]??Js(o)):"N/A"})}};n.\u0275fac=function(e){return new(e||n)(je(fn))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var On=(()=>{let n=class n{constructor(){}replaceElasticNodePredSpacesWithPeriods(o){Object.entries(o).filter(([e])=>e.includes(" ")).map(([e,t])=>{let a=e.replaceAll(" ",".");o[a]=t,delete o[e]})}replacePeriodsWithSpaces(o){return o.replaceAll("."," ")}getOrderedParentsFromSparqlResults(o,e){let t=[],a=o;for(e=e.sort((d,s)=>d.parent&&!s.parent?-1:!d.parent&&s.parent?1:0);a!==null;){let d=e.find(s=>s.id===a);if(d){let s={"@id":d.id,label:d.title};t.push(s),a=d.parent}else a=null}return t.reverse().slice(0,-1)}convertFiltersFromIdsFormat(o){let e=[];for(let[t,{type:a,valueIds:d,fieldIds:s}]of Object.entries(o))a===dt.Value&&d&&d.length>0&&d.forEach(c=>{e.push({filterId:t,valueId:c,type:a})}),a===dt.Field&&s&&s.length>0&&s.forEach(c=>{e.push({filterId:t,fieldId:c,type:a})}),a===dt.FieldAndValue&&d&&d.length>0&&s&&s.length>0&&s.forEach(c=>{d.forEach(u=>{e.push({filterId:t,fieldId:c,valueId:u,type:a})})});return e}convertFiltersToIdsFormat(o){let e={};for(let{filterId:t,fieldId:a,valueId:d}of o){if(!t||!a||!d){console.warn("Filter is missing ID(s)");continue}e[t]||(e[t]={type:dt.FieldAndValue,fieldIds:[],valueIds:[]});let s=e[t];s.fieldIds.includes(a)||s.fieldIds.push(a),s.valueIds.includes(d)||s.valueIds.push(d)}return e}hasOverlap(o,e){return o.some(t=>e.includes(t))}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Gr=(()=>{let n=class n{constructor(){this.current=new _t(void 0),this.select(qe.sorting.default)}select(o){let e=this.getById(o);e&&this.current.next(e)}getById(o){return Pe({id:o},qe.sorting.options?.[o])}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Lo=(()=>{let n=class n{constructor(o,e,t,a,d){this.api=o,this.data=e,this.settings=t,this.endpoints=a,this.sort=d}_getSearchQuery(o){return this.getQuery(o)}getQuery(o,e,t){o||(o="");let a={query_string:{query:o,boost:t}};return e&&(a.query_string.fields=[e]),a}_getFieldExistsQuery(o,e){return o||(o=""),{exists:{field:this.data.replacePeriodsWithSpaces(o),boost:e}}}_getFieldOrValueFilterQueries(o,e){return o.filter(a=>a.type===dt.Value||a.type===dt.Field).map(a=>a.type===dt.Field?this._getFieldExistsQuery(a?.fieldId,e):this.getQuery(a?.valueId,void 0,e))}getFilterOptions(o,e,t,a){return Le(this,null,function*(){let d=e.reduce((c,u)=>{let p=this.data.replacePeriodsWithSpaces(u);return c[p]={terms:{field:p+".keyword",min_doc_count:qe.filtering.minNumOfValuesForFilterOptionToAppear,size:ht.maxNumOfFilterOptionsPerField},aggs:{field_hits:{top_hits:{size:ht.elasticTopHitsMax,_source:""}}}},c},{}),s=this._getNodeSearchQuery(o,t,a,0,0);return s.aggs=Pe({},d),yield this.searchEndpoints(s)})}getFieldAndValueFilterQueries(o,e){let t=o.filter(s=>s.type===dt.FieldAndValue&&s.fieldId!==void 0),a={};return t.forEach(s=>{if(!s.fieldId||!s.valueId)return;let u={match_phrase:{[this.data.replacePeriodsWithSpaces(s.fieldId)]:{query:s.valueId,boost:e}}},p=s?.filterId??"Filter";p in a||(a[p]=[]),a[p].push(u)}),Object.values(a).map(s=>({bool:{should:s}}))}searchEndpoints(o){return Le(this,null,function*(){let e=[];for(let s of this.endpoints.getAllUrls()){if(!s.elastic)continue;let c=this.api.postData(s.elastic,o);e.push({promise:c,endpointId:s?.id??"N/A"})}let t=e.map(s=>s.promise);return(yield Promise.all(t)).map((s,c)=>st(Pe({},s),{endpointId:e[c].endpointId}))})}_getElasticSortEntriesFromSortOption(){let o=this.sort.current.value;return o?o.fields.map(t=>({[this.data.replacePeriodsWithSpaces(t)+".keyword"]:{order:o.order===Qo.Ascending?"asc":"desc",unmapped_type:"string"}})):[]}_getNodeSearchQuery(o,e,t,a,d){let s={from:a,size:d,query:{bool:{}}},c=this._getElasticSortEntriesFromSortOption();c&&c.length>0&&(s.sort=c);let p=e,m=this._getFieldOrValueFilterQueries(p);if(o){let R=this._getSearchQuery(o);m.push(R)}let v=[...this.getFieldAndValueFilterQueries(p)];m&&m.length>0&&v.push({bool:{should:m}});let x=this._getFieldOrValueFilterQueries(Xf);t&&x&&x.length>0&&v.push({bool:{should:x}}),v&&v.length>0&&(s.query.bool.must=v);let w=this.data.convertFiltersFromIdsFormat(qe.alwaysHideNodes),S=this.getFieldAndValueFilterQueries(w);S&&S.length>0&&(s.query.bool.must_not=S);let P=this.sort.current.value?.boost;if(!P)return s;let j=[];for(let[R,T]of Object.entries(P)){let q=this.data.convertFiltersFromIdsFormat({[R]:T.filter}),$=this._getFieldOrValueFilterQueries(q,T.boost),z=this.getFieldAndValueFilterQueries(q,T.boost).flatMap(I=>I.bool.should);j=[...j,...$,...z]}return j&&j.length>0&&(s.query.bool.should=j),s}searchNodes(o,e,t,a,d){return Le(this,null,function*(){let s=this._getNodeSearchQuery(o,a,d,e,t);return yield this.searchEndpoints(s)})}};n.\u0275fac=function(e){return new(e||n)(je(ji),je(On),je(on),je(An),je(Gr))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Xl=(()=>{let n=class n{constructor(){}clusterFilterOptionValues(o){if(Object.keys(qe.clustering.filterOptionValues).length===0)return o;let e={},t=Object.values(qe.clustering.filterOptionValues).flatMap(c=>c.valueIds),a=o.filter(c=>!Dr(c.ids,t));for(let[c,u]of Object.entries(qe.clustering.filterOptionValues)){let p={ids:[],label:u.label,filterHitIds:[]},m=e[c];m&&(p=m);for(let g of o)if(g.ids.filter(x=>u.valueIds.includes(x)).length>0){p.ids=[...new Set([...p.ids,...u.valueIds,...g.ids])];let x=Array.from(new Set(p.filterHitIds.concat(g.filterHitIds)));p.filterHitIds=x,e[c]=p}}return[...Object.values(e),...a].sort((c,u)=>u.filterHitIds.length-c.filterHitIds.length)}clusterTypes(o,e){if(Object.keys(e).length===0)return o;let t={},a=[],d=new Set;for(let[s,c]of Object.entries(e)){let u=o.filter(p=>c.valueIds.includes(p.id));if(u.length>0){let p={id:s,label:c.label};t[s]=p,u.forEach(m=>d.add(m.id))}}return o.forEach(s=>{d.has(s.id)||a.push(s)}),[...a,...Object.values(t)]}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var en=(()=>{let n=class n{constructor(o,e,t,a){this.elastic=o,this.data=e,this.clusters=t,this.router=a,this.searchTrigger=new Et,this.prevEnabled=[],this.enabled=new _t([]),this.options=new _t(qe.filtering.filterOptions),this.onlyShowResultsWithImages=new _t(!1),this._initRestorePreviousFiltersOnOptionsChange()}_getFieldDocCountsFromResponses(o){let e={};for(let t of o){let a=t.aggregations;if(a)for(let[d,s]of Object.entries(a)){let c=s;for(let u of c.buckets){let p=u?.field_hits?.hits?.hits?.map(m=>m?._id);u.hitIds=p??[],d in e||(e[d]=[]),e[d].push(u)}}}return e}_initRestorePreviousFiltersOnOptionsChange(){this.options.subscribe(o=>{this._restorePreviousFilters()})}_filterExistsInOptions(o){let e=this.options.value,t=o?.filterId;if(!t)return console.warn("No filter ID defined",o),!1;if(o.type!==dt.Field&&o.type!==dt.Value&&o.type!==dt.FieldAndValue)return console.warn("Unknown filter type, enabled filter not checked against current options"),!1;let d=!1,s=!!(o.fieldId&&e[t].fieldIds.includes(o.fieldId)),c=e[t].values.some(g=>o.valueId&&g.ids.includes(o.valueId)),u=o.type===dt.Field&&s,p=o.type===dt.Value&&c,m=o.type===dt.FieldAndValue&&s&&c;return(u||p||m)&&(d=!0),d}_restorePreviousFilters(){let o=this.prevEnabled.filter(t=>this._filterExistsInOptions(t));JSON.stringify(o)!==JSON.stringify(this.enabled.value)&&(console.log("Restoring previously applied filters and triggering new search with these filters:",o,this.enabled.value),this.enabled.next(o),this.searchTrigger.emit({clearFilters:!1}))}onUpdateFromURLParam(o){console.log("Update filters based on URL param:",o.slice(0,100),"...");let e=JSON.parse(o),t=this.data.convertFiltersFromIdsFormat(e);this.enabled.next(t)}updateFilterOptionValues(o){return Le(this,null,function*(){let e=Object.values(this.options.value).flatMap(s=>s.fieldIds),t=yield this.elastic.getFilterOptions(o,e,this.enabled.value,this.onlyShowResultsWithImages.value),a=this._getFieldDocCountsFromResponses(t),d=this.options.value;for(let[s,c]of Object.entries(d)){let u=new Map;c.fieldIds.forEach(g=>{let v=this.data.replacePeriodsWithSpaces(g);(a?.[v]??[]).filter(w=>{let S=w.key,P=c.hideValueIds?.includes(S);return c.showOnlyValueIds?c.showOnlyValueIds.includes(S):!P}).forEach(w=>{let S=w.key,P=w.hitIds;u.has(S)?u.set(S,u.get(S).concat(P)):u.set(S,P)})});let p=Array.from(u).map(([g,v])=>({ids:[g],filterHitIds:v})),m=this.clusters.clusterFilterOptionValues(p);c.values=m}this.options.next(d)})}toggleMultiple(o){let e=this.enabled.value;for(let t of o){let a=e.findIndex(s=>s.valueId===t.valueId&&s.fieldId===t.fieldId&&s.type===t.type);a>-1?e.splice(a,1):e.push(t)}console.log("Toggled filter, triggering new search (where filters will be temporarily cleared)"),this.enabled.next(e),this.searchTrigger.emit({clearFilters:!0})}toggle(o){this.toggleMultiple([o])}has(o,e){return this.enabled.value.find(t=>t.valueId&&o.includes(t.valueId)&&t.type===e)!==void 0}getOptionById(o){return this.options.value?.[o]}_getOptionValueIds(o){return this.getOptionById(o).values.flatMap(e=>e.ids)}shouldShow(o){let e=this._getOptionValueIds(o).length>0,t=this.getOptionById(o);if(!t.showOnlyForSelectedFilters)return e;let a=t.showOnlyForSelectedFilters;return e&&this._shouldShowBasedOnFilters(a)}_shouldShowBasedOnFilters(o){let e=this.data.convertFiltersToIdsFormat(this.enabled.value);for(let t of Object.values(e))for(let a of Object.values(o)){let d=this.data.hasOverlap(t.fieldIds,a.fieldIds),s=this.data.hasOverlap(t.valueIds,a.valueIds);switch(a.type){case dt.Field:if(d)return!0;break;case dt.Value:if(s)return!0;break;case dt.FieldAndValue:if(d&&s)return!0;break;default:break}}return!1}getEnabledFiltersCountStr(o){if(o>=1)return o.toString()}getOptionEnabledFiltersCount(o,e){let a=this.getOptionById(o).values.reduce((d,s)=>d+(this.has(s.ids,e)?1:0),0);return this.getEnabledFiltersCountStr(a)}clearEnabled(){this.prevEnabled=this.enabled.value,console.log("Clearing enabled filters, saved current filters",this.prevEnabled),this.enabled.next([])}};n.\u0275fac=function(e){return new(e||n)(je(Lo),je(On),je(Xl),je(Ot))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var vt=(()=>{let n=class n{constructor(o){this.sparql=o}getObjs(o,e){if(!o)return[];let t=[];for(let a of e)if(a in o)for(let d of o[a]){if(!d||!d.value||d?.value.length===0)continue;let c=d.value;t.push({value:c,direction:d.direction})}return t}getObjValues(o,e,t=void 0,a=!1){let d=this.getObjs(o,e);t!==void 0&&(d=d.filter(c=>c.direction===t));let s=d.map(c=>c.value);return a?Array.from(new Set(s)):s}getObjValuesByDirection(o,e,t){return this.getObjs(o,e).filter(a=>a.direction===t).map(a=>a.value)}getId(o){return this.getObjValues(o,["@id"])[0]}getEndpointId(o){return this.getObjValues(o,["endpointId"])[0]}getPredicates(o){return Object.keys(o)}enrichWithIncomingRelations(o){return Le(this,null,function*(){console.log("Enriching with incoming relations...",o);let e=[];for(let t of o){let a=this.sparql.getIncomingRelations(t).then(d=>{for(let s of d){let c=s.pred;if(c in t||(t[c]=[]),this.getObjValues(t,[c]).includes(s.sub))continue;let m={value:s.sub,direction:Dt.Incoming};t[c].push(m)}});e.push(a)}return yield Promise.all(e),o})}};n.\u0275fac=function(e){return new(e||n)(je(fn))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Ft=(()=>{let n=class n{constructor(o,e){this.nodes=o,this.router=e,this.showing=new _t(!1),this._updateShowingOnRouteChange()}_updateShowingOnRouteChange(){this.router.events.subscribe(o=>{if(o instanceof ri){let e=o.url.startsWith(`/${ht.detailsUrl}`);this.showing.value!==e&&this.showing.next(e)}})}isShowing(){return this.router.url.startsWith(`/${ht.detailsUrl}`)}getLink(o){let e=this.nodes.getId(o);return this.getLinkFromUrl(e)}getLinkFromUrl(o){return decodeURIComponent(o).startsWith(`/${ht.detailsUrl}`)||!$l(o)?o:`/${ht.detailsUrl}/`+encodeURIComponent(o)}};n.\u0275fac=function(e){return new(e||n)(je(vt),je(Ot))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var ai=(()=>{let n=class n{constructor(o,e,t,a,d){this.details=o,this.filters=e,this.router=t,this.data=a,this.endpoints=d,this.ignoreQueryParamChange=!1,this._initUpdateUrlOnFilterChange(),this._initUpdateUrlOnEndpointChange()}_initUpdateUrlOnFilterChange(){this.filters.enabled.pipe(wo(2)).subscribe(o=>{this.updateUrlToReflectFilters(o)}),this.filters.onlyShowResultsWithImages.pipe(wo(1)).subscribe(o=>Le(this,null,function*(){this._updateUrlParam(ht.onlyWithImages,JSON.stringify(o))}))}_initUpdateUrlOnEndpointChange(){this.endpoints.enabledIds.pipe(wo(1)).subscribe(o=>{this._updateUrlToReflectEndpoints(o)})}_updateUrlToReflectEndpoints(o){return Le(this,null,function*(){console.log("Updating URL to reflect endpoints",o);let e=null;o&&o.length>0&&(e=o.join(",")),setTimeout(()=>Le(this,null,function*(){yield this._updateUrlParam(ht.endpointsParam,e)}))})}updateUrlToReflectFilters(o){return Le(this,null,function*(){let e=JSON.stringify(this.data.convertFiltersToIdsFormat(o));console.log("Updating URL to reflect filters",e.slice(0,100)+"...",o),this._updateUrlParam(ht.filtersParam,e)})}_updateUrlParam(o,e){return Le(this,null,function*(){this.ignoreQueryParamChange=!0,yield this.router.navigate([],{queryParams:{[o]:e},queryParamsHandling:"merge"}),this.ignoreQueryParamChange=!1})}addParamToUrl(o,e,t){try{let a=new URL(o);return a.searchParams.set(e,t),a.toString()}catch(a){return console.error("Invalid URL:",a),o}}processUrls(o,e=!0){return o.map(t=>this.processUrl(t,e))}processUrl(o,e=!0){return e?this.details.getLinkFromUrl(o):(o.includes("opslag.razu.nl")&&(o=this.addParamToUrl(o,"token","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE3MTE3MDY0NjQsIm5iZiI6MTcxMTcwNjQ2NCwiZXhwIjoxNzQzMjQyNDY0fQ.ViNS0wWml0EwkF0z75G4cNZxKupYQMLiVB_PQ5kNQm8")),o=o.replaceAll("hetutrechtsarchief.nl/id","hetutrechtsarchief.nl/collectie"),o)}};n.\u0275fac=function(e){return new(e||n)(je(Ft),je(en),je(Ot),je(On),je(An))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var e0=(()=>{let n=class n{constructor(o){this.data=o}parseToNodes(o){return o.sort((e,t)=>e._source?._score-t._source?._score).map(e=>e?._source).filter(e=>!!e).map(e=>{let t={"@id":[],endpointId:[]};this.data.replaceElasticNodePredSpacesWithPeriods(e);for(let[a,d]of Object.entries(e)){a in t||(t[a]=[]);let s=Array.isArray(d)?d:[d];for(let c of s)t[a].push({value:c,direction:Dt.Outgoing})}return t})}getFromSearchResponses(o){return o.flatMap(t=>{let a=t?.hits?.hits??[];return a.forEach(d=>d._source.endpointId=t.endpointId),a})}};n.\u0275fac=function(e){return new(e||n)(je(On))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Vi=(()=>{let n=class n{constructor(){this.accordionExpandedStates={}}collapseAllAccordions(){for(let o of Object.keys(this.accordionExpandedStates))this.accordionExpandedStates[o]=!1}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Dn=(()=>{let n=class n{constructor(o,e,t,a,d,s,c,u,p,m,g,v){this.url=o,this.elastic=e,this.hits=t,this.nodes=a,this.filters=d,this.data=s,this.endpoints=c,this.route=u,this.details=p,this.sort=m,this.router=g,this.ui=v,this.queryStr="",this.results=new _t({}),this.page=0,this.isLoading=new _t(!1),this.numberOfHits=0,this.numberOfHitsIsCappedByElastic=!1,this.hasDoneInitialSearch=!1,this.hasMoreResultsToLoad=!0,this._searchQueryId=0,this.initSearchOnUrlChange(),this.initSearchOnFilterChange(),this.initSearchOnEndpointChange(),this.initSearchOnSortChange()}_updateNumberOfHitsFromSearchResponses(o){this.numberOfHits=[...o].reduce((e,t)=>e+t.hits.total.value,0),this.numberOfHitsIsCappedByElastic=[...o].filter(e=>e.hits.total.relation==="gte").length>0,this.numberOfHits>1e4&&(this.numberOfHits=1e4,this.numberOfHitsIsCappedByElastic=!0)}_mergeNodesById(o,e){let t=new Map;return o.forEach(a=>{t.set(a["@id"][0].value,a)}),e.forEach(a=>{let d=a["@id"][0].value;t.has(d)?Object.assign(t.get(d),a):o.push(a)}),o}_updateResultsFromSearchResponses(o){return Le(this,null,function*(){let e=this.hits.getFromSearchResponses(o),t=this.hits.parseToNodes(e),a=yield this.nodes.enrichWithIncomingRelations(t);a&&a.length>0&&this.page++,this.results.next({nodes:this._mergeNodesById(this.results.value.nodes??[],a)})})}initSearchOnFilterChange(){this.filters.searchTrigger.subscribe(o=>{o.clearFilters?console.log("-- Searching without filters to retrieve options"):console.log("-- Searching with re-applied filters"),this.execute(!0,o.clearFilters)}),this.filters.onlyShowResultsWithImages.subscribe(()=>{this.execute(!0,!1)})}initSearchOnEndpointChange(){this.endpoints.enabledIds.pipe(wo(1)).subscribe(o=>{console.log("Searching because of updated endpoints..."),this.execute(!0)})}initSearchOnSortChange(){this.sort.current.pipe(wo(1)).subscribe(o=>{console.log("Searching because of sort update...",o),this.execute(!0)})}_searchOnUrlChange(o){if(this.url.ignoreQueryParamChange){console.log("Ignoring query param change");return}if(this.details.isShowing())return;let t=o[ht.searchParam];if(t!==this.queryStr){this.queryStr=t,console.log("Searching because of query string update"),this.execute(!0);return}}initSearchOnUrlChange(){this.route.queryParams.pipe(xn(1)).subscribe(o=>{console.log("INITIAL LOAD");let e=o[ht.filtersParam];e&&this.filters.onUpdateFromURLParam(e);let t=o[ht.onlyWithImages];t&&this.filters.onlyShowResultsWithImages.next(JSON.parse(t)),setTimeout(()=>this._searchOnUrlChange(o))}),this.route.queryParams.pipe(wo(1)).subscribe(o=>{this._searchOnUrlChange(o)})}clearResults(){this.results.next({}),this.page=0,this.numberOfHits=0,this.numberOfHitsIsCappedByElastic=!1}checkHasMoreResultsToLoad(){return Le(this,null,function*(){let o=yield this.elastic.searchNodes(this.queryStr,this.page*qe.search.resultsPerPagePerEndpoint,qe.search.resultsPerPagePerEndpoint,this.filters.enabled.value,this.filters.onlyShowResultsWithImages.value),e=this.hits.getFromSearchResponses(o);this.hasMoreResultsToLoad=e&&e.length>0})}execute(o=!1,e=!0){return Le(this,null,function*(){this.ui.collapseAllAccordions(),this._searchQueryId++,this.queryStr!==""&&(this.hasDoneInitialSearch=!0),console.log(`Searching for: ${this.queryStr}. Clearing results: ${o}, clearing filters: ${e}`),o&&this.clearResults(),e&&this.filters.clearEnabled(),this.isLoading.next(!0);try{let t=this._searchQueryId,a=this.elastic.searchNodes(this.queryStr,this.page*qe.search.resultsPerPagePerEndpoint,qe.search.resultsPerPagePerEndpoint,this.filters.enabled.value,this.filters.onlyShowResultsWithImages.value),d=this.filters.updateFilterOptionValues(this.queryStr),[s,c]=yield Promise.all([a,d]);if(this._searchQueryId!==t)return;this._updateNumberOfHitsFromSearchResponses(s),yield this._updateResultsFromSearchResponses(s)}catch(t){console.error("Error searching:",t)}finally{this.isLoading.next(!1),this.checkHasMoreResultsToLoad()}})}};n.\u0275fac=function(e){return new(e||n)(je(ai),je(Lo),je(e0),je(vt),je(en),je(On),je(An),je(Wn),je(Ft),je(Gr),je(Ot),je(Vi))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Zr=(()=>{let n=class n{constructor(){this.drawerItemsSource=new _t([]),this.drawerItems$=this.drawerItemsSource.asObservable()}setDrawerItems(o){this.drawerItemsSource.next(o)}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Qr=(()=>{let n=class n{constructor(o,e){this.nodes=o,this.details=e,this._lastClickedScrollId=null,this._scrollIdToReturnTo=null,this._initScrollOnDetailsViewChange()}initScrollContainer(o){this._scrollContainer=o}_initScrollOnDetailsViewChange(){this.details.showing.subscribe(o=>{o||this.scrollToSearchResult()})}saveLastClickedScrollId(o){this.details.showing.value?this._lastClickedScrollId=this._scrollIdToReturnTo??o:this._lastClickedScrollId=o}onNavigateToDetails(o){this._lastClickedScrollId?(this._scrollIdToReturnTo=this._lastClickedScrollId,this._lastClickedScrollId=null):this._scrollIdToReturnTo=encodeURIComponent(o)}scrollToSearchResult(){let o=this._scrollIdToReturnTo;setTimeout(()=>{if(!this._scrollContainer){console.warn("Scroll container is undefined");return}if(!o){console.log("No ID to scroll to");return}let e=document.querySelector(`[data-scroll-id="${o}"]`);if(!e){console.warn("Could not find scroll ID",o);return}console.log("Scrolling back to search result",o,e);let t=this._scrollContainer.nativeElement.getBoundingClientRect().top,d=e.getBoundingClientRect().top-t;this._scrollContainer.nativeElement.scrollTo({top:this._scrollContainer.nativeElement.scrollTop+d,behavior:"smooth"})},100)}};n.\u0275fac=function(e){return new(e||n)(je(vt),je(Ft))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var h4=["linkElem"],u4=["*"],m4=()=>[""],p4=i=>({q:i});function f4(i,n){if(i&1){let r=Ct();xe(0,"div")(1,"a",8),nt("click",function(){xt(r);let e=Ee();return Nt(e.openDrawer(e.processedUrl))}),ke(2,"ng-icon",4),Ve(3," Open "),Ne()()}if(i&2){let r=Ee();oe(2),te("svg",r.featherMaximize2)}}function g4(i,n){if(i&1){let r=Ct();xe(0,"a",11),nt("click",function(e){xt(r);let t=Ee(2);return Nt(t.onUrlClicked(e))}),ke(1,"app-node-label",12),Ne()}if(i&2){let r,o=Ee(2);te("href",o.processedUrl,to),oe(),te("label",(r=o.cachedLabel)!==null&&r!==void 0?r:o.processedUrl)("shouldTruncate",o.shouldTruncate)("allowLabelExpand",o.allowLabelExpand)("highlightStr",o.shouldHighlight?o.search.queryStr:void 0)}}function v4(i,n){if(i&1){let r=Ct();xe(0,"a",13)(1,"app-node-label",14),nt("click",function(e){xt(r);let t=Ee(2);return t.onUrlClicked(e),Nt(t.onInternalUrlClicked())}),Ne()()}if(i&2){let r,o=Ee(2);te("routerLink",o.processedUrl),oe(),te("label",(r=o.cachedLabel)!==null&&r!==void 0?r:o.processedUrl)("shouldTruncate",o.shouldTruncate)("allowLabelExpand",o.allowLabelExpand)("highlightStr",o.shouldHighlight?o.search.queryStr:void 0)}}function y4(i,n){if(i&1&&(kt(0),Me(1,g4,2,5,"a",9)(2,v4,2,5,"a",10),Pt()),i&2){let r=Ee();oe(),te("ngIf",!r.isInternalUrl),oe(),te("ngIf",r.isInternalUrl)}}function w4(i,n){if(i&1&&(xe(0,"span"),ke(1,"app-node-label",12),Ne()),i&2){let r,o=Ee();oe(),te("label",(r=o.cachedLabel)!==null&&r!==void 0?r:o.processedUrl)("shouldTruncate",o.shouldTruncate)("allowLabelExpand",o.allowLabelExpand)("highlightStr",o.shouldHighlight?o.search.queryStr:void 0)}}function _4(i,n){if(i&1&&(xe(0,"span"),Ve(1),Ne()),i&2){let r=Ee();oe(),Ht(r.suffixStr)}}var Mt=(()=>{let n=class n{constructor(o,e,t,a,d,s,c){this.cache=o,this.filters=e,this.search=t,this.urlService=a,this.drawer=d,this.scroll=s,this.details=c,this.processedUrl=this.url,this.shouldTruncate=!0,this.allowLabelExpand=!0,this.suffixStr="",this.shouldHighlight=!0,this.clicked=new Et,this.isClickableUrl=!1,this.isInternalUrl=!1,this.featherFilter=lg,this.NgxFloatUiPlacements=ra,this.NgxFloatUiTriggers=Bi,this.featherExternalLink=ag,this.featherX=jl,this.featherMaximize2=dg,this.FilterType=dt,this.featherSearch=Br,this.wrapWithDoubleQuotes=eg}ngOnInit(){this.labelUrl||(this.labelUrl=this.url),this.processUrl(),this.initIsInternalUrl();let o=this.processedUrl!==void 0&&ng(this.processedUrl);this.isClickableUrl=(this.isInternalUrl||o)&&!this.disabled}ngOnChanges(o){o.url&&this.processUrl()}initIsInternalUrl(){this.processedUrl&&(this.isInternalUrl=this.processedUrl.startsWith("/"))}openDrawer(o){let e=[o];this.drawer.setDrawerItems(e)}processUrl(){this.url&&(this.processedUrl=this.urlService.processUrl(this.url))}get cachedLabel(){return this.label?this.label:this?.labelUrl&&$l(this.labelUrl)?(this.cache.cacheLabelForId(this.labelUrl),this.cache.labels?.[this.labelUrl]):this.processedUrl?Js(this.processedUrl):void 0}onUrlClicked(o){if(this.clicked.emit(o),!this.processedUrl||!this.isClickableUrl||this.disabled){this._preventDefault(o);return}}onInternalUrlClicked(){let o=this.getClosestScrollId();this.scroll.saveLastClickedScrollId(o)}getClosestScrollId(){let o=this.linkElem?.nativeElement.closest("[data-scroll-id]");return o&&o.getAttribute("data-scroll-id")||""}_preventDefault(o){o.preventDefault()}};n.\u0275fac=function(e){return new(e||n)(be(Jl),be(en),be(Dn),be(ai),be(Zr),be(Qr),be(Ft))},n.\u0275cmp=Fe({type:n,selectors:[["app-node-link"]],viewQuery:function(e,t){if(e&1&&Ri(h4,5),e&2){let a;ui(a=mi())&&(t.linkElem=a.first)}},inputs:{url:"url",label:"label",labelUrl:"labelUrl",disabled:"disabled",shouldTruncate:"shouldTruncate",allowLabelExpand:"allowLabelExpand",suffixStr:"suffixStr",shouldHighlight:"shouldHighlight"},outputs:{clicked:"clicked"},standalone:!0,features:[In,$e],ngContentSelectors:u4,decls:17,vars:12,consts:[["popupContent",""],["linkElem",""],[1,"hidden"],["target","_blank",1,"btn","btn-sm","mr-2","!font-sans",3,"href"],[3,"svg"],["target","_blank",1,"btn","btn-sm","mr-2","!font-sans",3,"routerLink","queryParams"],[4,"ngIf"],[1,"inline"],[1,"btn","btn-sm","mr-2","!font-sans",3,"click"],["target","_blank","class","clickable",3,"href","click",4,"ngIf"],["class","clickable",3,"routerLink",4,"ngIf"],["target","_blank",1,"clickable",3,"click","href"],[3,"label","shouldTruncate","allowLabelExpand","highlightStr"],[1,"clickable",3,"routerLink"],[3,"click","label","shouldTruncate","allowLabelExpand","highlightStr"]],template:function(e,t){e&1&&(io(),kt(0),xe(1,"float-ui-content",2,0)(3,"a",3),ke(4,"ng-icon",4),Ve(5," Open link "),Ne(),xe(6,"a",5),ke(7,"ng-icon",4),Ve(8," Search "),Ne(),Me(9,f4,4,1,"div",6),Ne(),xe(10,"div",7,1),Li(12),xe(13,"div",7),Me(14,y4,3,2,"ng-container",6)(15,w4,2,4,"span",6),Ne(),Me(16,_4,2,1,"span",6),Ne(),Pt()),e&2&&(oe(3),te("href",t.processedUrl,to),oe(),te("svg",t.featherExternalLink),oe(2),te("routerLink",xo(9,m4))("queryParams",bt(10,p4,t.wrapWithDoubleQuotes(t.processedUrl))),oe(),te("svg",t.featherSearch),oe(2),te("ngIf",!0),oe(5),te("ngIf",t.clicked.observed||t.isClickableUrl),oe(),te("ngIf",!t.clicked.observed&&!t.isClickableUrl),oe(),te("ngIf",t.suffixStr))},dependencies:[Ye,Or,pn,Jh,Wg,Yg]});let i=n;return i})();var t0=i=>[i];function x4(i,n){i&1&&ke(0,"div",2)}function N4(i,n){if(i&1&&ke(0,"ng-icon",8),i&2){let r=Ee(3);te("svg",r.featherChevronRight)}}function b4(i,n){if(i&1&&(xe(0,"li")(1,"app-node-link",6),Me(2,N4,1,1,"ng-icon",7),Ne()()),i&2){let r=n.$implicit,o=n.index,e=n.first,t=Ee(2);oe(),_o("margin-left",t.collapsed?"0":o+"rem"),te("url",r["@id"])("shouldTruncate",t.collapsed),oe(),te("ngIf",!t.collapsed&&!e)}}function C4(i,n){if(i&1&&(xe(0,"div",3)(1,"div",4)(2,"ul"),Me(3,b4,3,5,"li",5),Ne()()()),i&2){let r=Ee();te("ngClass",bt(3,t0,r.collapsed?"items-center":"")),oe(),te("ngClass",bt(5,t0,r.collapsed?"breadcrumbs":"")),oe(2),te("ngForOf",r.nodes)}}var n0=(()=>{let n=class n{constructor(o,e){this.nodeService=o,this.settings=e,this.nodes=[],this.collapsed=!1,this.featherChevronRight=zr,this.Settings=qe}get hasLoadedNodes(){return this.nodes!==void 0}get showNodes(){return this.hasLoadedNodes&&this.nodes.length>0}get allowExpand(){return this.hasLoadedNodes&&this.nodes.length>=ht.minNumParentsToAllowTreeExpand}};n.\u0275fac=function(e){return new(e||n)(be(vt),be(on))},n.\u0275cmp=Fe({type:n,selectors:[["app-node-hierarchy"]],inputs:{nodes:"nodes"},standalone:!0,features:[$e],decls:2,vars:2,consts:[["class","skeleton h-3 w-1/2",4,"ngIf"],["class","flex",3,"ngClass",4,"ngIf"],[1,"skeleton","h-3","w-1/2"],[1,"flex",3,"ngClass"],[1,"inline-block","scrollbar-hide",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"block",3,"url","shouldTruncate"],["class","opacity-40",3,"svg",4,"ngIf"],[1,"opacity-40",3,"svg"]],template:function(e,t){e&1&&Me(0,x4,1,0,"div",0)(1,C4,4,7,"div",1),e&2&&(te("ngIf",!t.hasLoadedNodes),oe(),te("ngIf",t.showNodes))},dependencies:[wt,Ye,Wt,pn,Mt],styles:["ng-icon[_ngcontent-%COMP%]{position:relative;top:.1rem}"]});let i=n;return i})();var ed=(()=>{let n=class n{constructor(){this.showNeutralColors=!1}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Fe({type:n,selectors:[["app-node-type"]],inputs:{showNeutralColors:"showNeutralColors",type:"type"},standalone:!0,features:[$e],decls:2,vars:4,consts:[[1,"badge","badge-md","mr-1",3,"ngClass"],[3,"url","label","shouldHighlight"]],template:function(e,t){e&1&&(xe(0,"div",0),ke(1,"app-node-link",1),Ne()),e&2&&(te("ngClass",t.showNeutralColors?"badge-neutral bg-opacity-10 text-[rgba(0,0,0,0.6)] border-none":"badge-primary"),oe(),te("url",t.type==null?null:t.type.id)("label",t.type==null?null:t.type.label)("shouldHighlight",!1))},dependencies:[Mt,Wt]});let i=n;return i})();function S4(i,n){if(i&1&&(kt(0),ke(1,"app-node-type",2),Pt()),i&2){let r=Ee().$implicit;oe(),te("type",r)}}function T4(i,n){if(i&1&&(kt(0),Me(1,S4,2,1,"ng-container",1),Pt()),i&2){let r=n.$implicit;oe(),te("ngIf",r)}}function I4(i,n){if(i&1&&(kt(0),ke(1,"app-node-type",3),Pt()),i&2){let r=Ee().$implicit;oe(),te("type",r)("showNeutralColors",!0)}}function E4(i,n){if(i&1&&(kt(0),Me(1,I4,2,2,"ng-container",1),Pt()),i&2){let r=n.$implicit;oe(),te("ngIf",r)}}var i0=(()=>{let n=class n{constructor(o){this.clusters=o,this.typesClusteredInFilters=[],this.clusteredTypes=[]}ngOnInit(){this.initTypesClusteredInFilters(),this.initClusteredTypes()}initTypesClusteredInFilters(){if(!this.types)return;this.typesClusteredInFilters=[];let o=this.types.map(e=>e.id);for(let[e,t]of Object.entries(qe.clustering.filterOptionValues))Dr(o,t.valueIds)&&this.typesClusteredInFilters.push({id:e,label:t.label})}initClusteredTypes(){this.types&&(this.clusteredTypes=this.clusters.clusterTypes(this.types,qe.clustering.types))}};n.\u0275fac=function(e){return new(e||n)(be(Xl))},n.\u0275cmp=Fe({type:n,selectors:[["app-node-types"]],inputs:{types:"types"},standalone:!0,features:[$e],decls:2,vars:2,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"type"],[3,"type","showNeutralColors"]],template:function(e,t){e&1&&Me(0,T4,2,1,"ng-container",0)(1,E4,2,1,"ng-container",0),e&2&&(te("ngForOf",t.typesClusteredInFilters),oe(),te("ngForOf",t.clusteredTypes))},dependencies:[wt,Ye,ed]});let i=n;return i})();var nu=Ya(r0());var k4=["viewerElem"],L4=i=>[i];function R4(i,n){if(i&1&&ke(0,"div",3,0),i&2){let r=Ee();te("ngClass",bt(1,L4,r.shownInTableCell?"viewer-small-ui":""))}}function P4(i,n){if(i&1){let r=Ct();xe(0,"div",4)(1,"img",5),nt("error",function(e){xt(r);let t=Ee();return Nt(t.onImageLoadError(e))}),Ne()()}if(i&2){let r=Ee();oe(),te("src",r.processedImageUrls[0],to)}}var Ro=(()=>{let n=class n{constructor(o,e){this.urlService=o,this.ngZone=e,this.shownInTableCell=!0,this.useViewer=!0,this.processedImageUrls=[],this.Config=ht}ngOnInit(){}ngAfterViewInit(){this.initImageViewer(this.processedImageUrls),this._processImageUrls()}destroyImageViewer(){this._imageViewer&&this._imageViewer.destroy()}initImageViewer(o){if(!this.viewerElem){console.warn("Viewer elem not yet initialized");return}this.destroyImageViewer();let e=o.map(t=>({type:"image",url:t}));this._imageViewer=this.ngZone.runOutsideAngular(()=>(0,nu.default)({element:this.viewerElem.nativeElement,prefixUrl:"assets/osd/images/",sequenceMode:!0,showReferenceStrip:qe.viewer.showReferenceStrip,tileSources:e,maxZoomPixelRatio:5,autoResize:!0})),this._imageViewer.addHandler("open-failed",()=>{this.initImageViewer([qe.imageForWhenLoadingFails])}),this._imageViewer.addHandler("tile-loaded",t=>{if(!this._imageViewer)return;if(this.shownInTableCell){this._imageViewer.viewport.goHome(!0);return}let a=this._imageViewer.viewport.getBounds(),d=new nu.default.Rect(0,0,1,a.height/a.width);this._imageViewer.viewport.fitBounds(d,!0)})}ngOnChanges(o){o.imageUrls&&this._processImageUrls()}ngOnDestroy(){this.destroyImageViewer()}_processImageUrls(){this.imageUrls&&(this.processedImageUrls=this.urlService.processUrls(this.imageUrls,!1),this.initImageViewer(this.processedImageUrls))}onImageLoadError(o){o.target.src=qe.imageForWhenLoadingFails}};n.\u0275fac=function(e){return new(e||n)(be(ai),be(un))},n.\u0275cmp=Fe({type:n,selectors:[["app-node-images"]],viewQuery:function(e,t){if(e&1&&Ri(k4,5),e&2){let a;ui(a=mi())&&(t.viewerElem=a.first)}},inputs:{imageUrls:"imageUrls",shownInTableCell:"shownInTableCell",useViewer:"useViewer"},standalone:!0,features:[In,$e],decls:2,vars:2,consts:[["viewerElem",""],["class","w-full h-full overflow-y-scroll min-h-24",3,"ngClass",4,"ngIf"],["class","w-full h-full overflow-y-scroll",4,"ngIf"],[1,"w-full","h-full","overflow-y-scroll","min-h-24",3,"ngClass"],[1,"w-full","h-full","overflow-y-scroll"],["alt","Object image",1,"w-full","h-full","object-cover",3,"error","src"]],template:function(e,t){e&1&&Me(0,R4,2,3,"div",1)(1,P4,2,1,"div",2),e&2&&(te("ngIf",t.useViewer),oe(),te("ngIf",!t.useViewer&&t.processedImageUrls.length>0))},dependencies:[Ye,Wt],styles:[`.viewer-small-ui{height:12rem}.viewer-small-ui .openseadragon-container img{height:25px}.viewer-small-ui .referencestrip:focus-visible{outline:none}
`],encapsulation:2});let i=n;return i})();var Po=(()=>{let n=class n{constructor(o){this.nodes=o}};n.\u0275fac=function(e){return new(e||n)(be(vt))},n.\u0275cmp=Fe({type:n,selectors:[["app-node-render-components"]],inputs:{node:"node"},standalone:!0,features:[$e],decls:0,vars:0,template:function(e,t){},encapsulation:2});let i=n;return i})();function M4(i,n){if(i&1&&(xe(0,"div",6),ke(1,"img",7),Ne()),i&2){let r=n.$implicit;oe(),te("src",r,to)("alt",r)}}function A4(i,n){i&1&&(xe(0,"p",8),Ve(1,"Opmerking:"),Ne())}function O4(i,n){if(i&1&&(xe(0,"div"),ke(1,"app-node-link",9),Ne()),i&2){let r=n.$implicit;oe(),te("url",r)("shouldTruncate",!1)}}function D4(i,n){i&1&&(xe(0,"p",8),Ve(1,"Tijdsperiode:"),Ne())}function F4(i,n){if(i&1&&(xe(0,"div"),ke(1,"app-node-link",9),Ne()),i&2){let r=n.$implicit;oe(),te("url",r)("shouldTruncate",!1)}}function $4(i,n){i&1&&(xe(0,"p",8),Ve(1,"Maker:"),Ne())}function z4(i,n){if(i&1&&(xe(0,"div"),ke(1,"app-node-link",9),Ne()),i&2){let r=n.$implicit;oe(),te("url",r)("shouldTruncate",!1)}}var s0=(()=>{let n=class n extends Po{constructor(){super(...arguments),this.commentIds=[],this.dates=[],this.creators=[],this.imageUrls=[],this.Settings=qe,this.Object=Object}ngOnInit(){this.commentIds=this.nodes.getObjValues(this.node,["https://schema.org/comment"]),this.dates=this.nodes.getObjValues(this.node,["https://www.ica.org/standards/RiC/ontology#expressedDateValue"]),this.creators=this.nodes.getObjValues(this.node,["https://www.ica.org/standards/RiC/ontology#hasCreator"]),this.imageUrls=this.nodes.getObjValues(this.node,qe.predicates.images)}};n.\u0275fac=(()=>{let o;return function(t){return(o||(o=nn(n)))(t||n)}})(),n.\u0275cmp=Fe({type:n,selectors:[["app-sdo-photograph"]],standalone:!0,features:[Kt,$e],decls:10,vars:8,consts:[[1,"w-full","carousel","mt-2"],["class","carousel-item",4,"ngFor","ngForOf"],[1,"w-full"],["class","mt-2",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"opacity-50",3,"node"],[1,"carousel-item"],[1,"w-full","object-contain","rounded-lg",3,"src","alt"],[1,"mt-2"],[3,"url","shouldTruncate"]],template:function(e,t){e&1&&(xe(0,"div",0),Me(1,M4,2,2,"div",1),Ne(),xe(2,"div",2),Me(3,A4,2,0,"p",3)(4,O4,2,2,"div",4)(5,D4,2,0,"p",3)(6,F4,2,2,"div",4)(7,$4,2,0,"p",3)(8,z4,2,2,"div",4),Ne(),ke(9,"app-node-table-view",5)),e&2&&(oe(),te("ngForOf",t.imageUrls),oe(2),te("ngIf",t.commentIds&&t.commentIds.length>0),oe(),te("ngForOf",t.commentIds),oe(),te("ngIf",t.dates&&t.dates.length>0),oe(),te("ngForOf",t.dates),oe(),te("ngIf",t.creators&&t.creators.length>0),oe(),te("ngForOf",t.creators),oe(),te("node",t.node))},dependencies:[wt,Mt,Yr,Ye]});let i=n;return i})();var id=Ya(l0());var B4=["mapElem"],d0=(()=>{let n=class n{initMap(){this.map=id.map(this.mapElem.nativeElement,{center:[39.8282,-98.5795],zoom:3}),id.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,minZoom:3,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(this.map)}ngAfterViewInit(){this.initMap()}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Fe({type:n,selectors:[["app-map-thumb"]],viewQuery:function(e,t){if(e&1&&Ri(B4,5),e&2){let a;ui(a=mi())&&(t.mapElem=a.first)}},standalone:!0,features:[$e],decls:4,vars:0,consts:[["mapElem",""],[1,"map-container"],[1,"map-frame"],[1,"h-40","w-full"]],template:function(e,t){e&1&&(xe(0,"div",1)(1,"div",2),ke(2,"div",3,0),Ne()())}});let i=n;return i})();var od=(()=>{let n=class n{constructor(o){this.sparql=o,this.hopObjIdsRetrieved=new Et,this.hopObjIds=[],this.loading=!1}ngOnInit(){this.initObjIdsForHop()}initObjIdsForHop(){return Le(this,null,function*(){!this.id||!this.settings?.preds||(this.loading=!0,this.hopObjIds=yield this.sparql.getObjIds(this.id,this.settings?.preds).finally(()=>{this.loading=!1}),this.hopObjIdsRetrieved.emit(this.hopObjIds))})}get showHops(){return!this.settings||this.settings.showHops===void 0?!0:this.settings.showHops}};n.\u0275fac=function(e){return new(e||n)(be(fn))},n.\u0275cmp=Fe({type:n,selectors:[["app-hop-component"]],inputs:{id:"id",settings:"settings"},outputs:{hopObjIdsRetrieved:"hopObjIdsRetrieved"},standalone:!0,features:[$e],decls:0,vars:0,template:function(e,t){},encapsulation:2});let i=n;return i})();function j4(i,n){i&1&&ke(0,"span",3)}function q4(i,n){if(i&1&&(xe(0,"div",8),ke(1,"app-node-link",9)(2,"ng-icon",10),Ne()),i&2){let r=n.$implicit,o=Ee(3);oe(),te("url",r)("disabled",!0)("shouldTruncate",!1)("allowLabelExpand",!1),oe(),te("svg",o.featherChevronRight)}}function V4(i,n){if(i&1&&(xe(0,"div",6),Me(1,q4,3,5,"div",7),Ne()),i&2){let r=Ee(2);oe(),te("ngForOf",r.settings==null?null:r.settings.preds)}}function H4(i,n){if(i&1&&(xe(0,"app-node-link",4),Me(1,V4,2,1,"div",5),Ne()),i&2){let r=n.$implicit,o=Ee();te("url",r),oe(),te("ngIf",o.showHops)}}function U4(i,n){if(i&1&&ke(0,"app-node-link",4),i&2){let r=Ee();te("url",r.id)}}var rd=(()=>{let n=class n extends od{constructor(){super(...arguments),this.featherChevronRight=zr}};n.\u0275fac=(()=>{let o;return function(t){return(o||(o=nn(n)))(t||n)}})(),n.\u0275cmp=Fe({type:n,selectors:[["app-hop-link"]],standalone:!0,features:[Kt,$e],decls:3,vars:3,consts:[["class","loading loading-spinner loading-xs",4,"ngIf"],[3,"url",4,"ngFor","ngForOf"],[3,"url",4,"ngIf"],[1,"loading","loading-spinner","loading-xs"],[3,"url"],["class","inline text-xs opacity-70",4,"ngIf"],[1,"inline","text-xs","opacity-70"],["class","inline-block",4,"ngFor","ngForOf"],[1,"inline-block"],[3,"url","disabled","shouldTruncate","allowLabelExpand"],[1,"relative","top-[0.1rem]","mx-1","opacity-70",3,"svg"]],template:function(e,t){e&1&&Me(0,j4,1,0,"span",0)(1,H4,2,2,"app-node-link",1)(2,U4,1,1,"app-node-link",2),e&2&&(te("ngIf",t.loading),oe(),te("ngForOf",t.hopObjIds),oe(),te("ngIf",t.settings==null?null:t.settings.showOriginalLink))},dependencies:[Ye,Mt,wt,pn]});let i=n;return i})();var G4=()=>["http://www.nationaalarchief.nl/mdto#dekkingInTijdBeginDatum"],iu=i=>({preds:i,showHops:!1}),W4=()=>["http://www.nationaalarchief.nl/mdto#dekkingInTijdEindDatum"],Z4=()=>["http://www.nationaalarchief.nl/mdto#dekkingInTijdType"];function Q4(i,n){i&1&&(xe(0,"span"),Ve(1," - "),Ne())}function Y4(i,n){i&1&&(xe(0,"span"),Ve(1," ("),Ne())}function J4(i,n){i&1&&(xe(0,"span"),Ve(1,")"),Ne())}var c0=(()=>{let n=class n{constructor(){this.hasBeginDate=!1,this.hasEndDate=!1,this.hasType=!1}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Fe({type:n,selectors:[["app-mdto-dekking-in-tijd"]],inputs:{id:"id"},standalone:!0,features:[$e],decls:8,vars:18,consts:[[3,"hopObjIdsRetrieved","id","settings"],[1,"inline"],[4,"ngIf"]],template:function(e,t){e&1&&(xe(0,"app-hop-link",0),nt("hopObjIdsRetrieved",function(d){return t.hasBeginDate=d.length>0}),Ne(),xe(1,"div",1),Me(2,Q4,2,0,"span",2),xe(3,"app-hop-link",0),nt("hopObjIdsRetrieved",function(d){return t.hasEndDate=d.length>0}),Ne()(),xe(4,"div",1),Me(5,Y4,2,0,"span",2),xe(6,"app-hop-link",0),nt("hopObjIdsRetrieved",function(d){return t.hasType=d.length>0}),Ne(),Me(7,J4,2,0,"span",2),Ne()),e&2&&(te("id",t.id)("settings",bt(10,iu,xo(9,G4))),oe(2),te("ngIf",t.hasBeginDate&&t.hasEndDate),oe(),te("id",t.id)("settings",bt(13,iu,xo(12,W4))),oe(2),te("ngIf",t.hasBeginDate||t.hasEndDate),oe(),te("id",t.id)("settings",bt(16,iu,xo(15,Z4))),oe(),te("ngIf",t.hasBeginDate||t.hasEndDate))},dependencies:[rd,Ye]});let i=n;return i})();var K4=i=>[i];function X4(i,n){if(i&1&&ke(0,"app-node-images",2),i&2){let r=Ee();te("imageUrls",bt(1,K4,r.fileUrl))}}function e3(i,n){if(i&1&&ke(0,"app-node-link",3),i&2){let r=Ee();te("url",r.fileUrl)}}var h0=(()=>{let n=class n{constructor(o,e){this.api=o,this.sparql=e,this.imgFileFormats=["fmt/44","jpeg"]}ngOnInit(){this.initFileFormat()}initFileFormat(){return Le(this,null,function*(){if(!this.nodeId)return;let o=`
${Pn(this.nodeId)} <http://www.nationaalarchief.nl/mdto#bestandsformaat> ?b .
?b <http://www.nationaalarchief.nl/mdto#begripLabel> ?bestandsformaat .`,e=`
SELECT ?bestandsformaat WHERE {
  ${this.sparql.getFederatedQuery(o,[...qe.endpoints.razu.endpointUrls,...qe.endpoints.kasteelAmerongen.endpointUrls])}
} LIMIT 100`,t=yield this.api.postData(qe.endpoints.razu.endpointUrls[0].sparql,{query:e});t&&(this.fileFormats=t.map(a=>a.bestandsformaat))})}get isImage(){return this.fileFormats?Dr(this.imgFileFormats,this.fileFormats):!1}};n.\u0275fac=function(e){return new(e||n)(be(ji),be(fn))},n.\u0275cmp=Fe({type:n,selectors:[["app-mdto-url-bestand"]],inputs:{nodeId:"nodeId",fileUrl:"fileUrl"},standalone:!0,features:[$e],decls:2,vars:2,consts:[[3,"imageUrls",4,"ngIf"],[3,"url",4,"ngIf"],[3,"imageUrls"],[3,"url"]],template:function(e,t){e&1&&Me(0,X4,1,3,"app-node-images",0)(1,e3,1,1,"app-node-link",1),e&2&&(te("ngIf",t.fileUrl&&t.isImage),oe(),te("ngIf",!t.isImage))},dependencies:[Mt,Ro,Ye]});let i=n;return i})();function t3(i,n){i&1&&ke(0,"span",3)}function n3(i,n){if(i&1&&ke(0,"app-node-images",4),i&2){let r=Ee();te("imageUrls",r.hopObjIds)}}function i3(i,n){if(i&1&&ke(0,"app-node-link",5),i&2){let r=Ee();te("url",r.id)}}var sd=(()=>{let n=class n extends od{get hasHopHits(){return this.hopObjIds&&this.hopObjIds.length>0}};n.\u0275fac=(()=>{let o;return function(t){return(o||(o=nn(n)))(t||n)}})(),n.\u0275cmp=Fe({type:n,selectors:[["app-hop-image"]],standalone:!0,features:[Kt,$e],decls:3,vars:3,consts:[["class","loading loading-spinner loading-xs",4,"ngIf"],[3,"imageUrls",4,"ngIf"],[3,"url",4,"ngIf"],[1,"loading","loading-spinner","loading-xs"],[3,"imageUrls"],[3,"url"]],template:function(e,t){e&1&&Me(0,t3,1,0,"span",0)(1,n3,1,1,"app-node-images",1)(2,i3,1,1,"app-node-link",2),e&2&&(te("ngIf",t.loading),oe(),te("ngIf",t.hasHopHits),oe(),te("ngIf",!t.hasHopHits||(t.settings==null?null:t.settings.showOriginalLink)))},dependencies:[Ye,Mt,Ro]});let i=n;return i})();var u0=(()=>{let n=class n{constructor(o,e){this.api=o,this.sparql=e}ngOnInit(){this.initLabel()}initLabel(){return Le(this,null,function*(){if(!this.id)return;let o={rico:"https://www.ica.org/standards/RiC/ontology#",rdfs:"http://www.w3.org/2000/01/rdf-schema#"},e=`
    ${Pn(this.id)} <${o.rico}hasIdentifierType>/<${o.rdfs}label> ?typeLabel ; <${o.rico}textualValue> ?value .`,t=`
SELECT distinct ?typeLabel ?value WHERE {
${this.sparql.getFederatedQuery(e,qe.endpoints.hua.endpointUrls)}
} LIMIT 1`,a=yield this.api.postData(qe.endpoints.hua.endpointUrls[0].sparql,{query:t});!a||a.length===0||(this.label=`${a[0].typeLabel} ${a[0].value}`)})}};n.\u0275fac=function(e){return new(e||n)(be(ji),be(fn))},n.\u0275cmp=Fe({type:n,selectors:[["app-rico-identifier"]],inputs:{id:"id"},standalone:!0,features:[$e],decls:1,vars:2,consts:[[3,"url","label"]],template:function(e,t){e&1&&ke(0,"app-node-link",0),e&2&&te("url",t.id)("label",t.label)},dependencies:[Mt]});let i=n;return i})();var m0=(()=>{let n=class n{constructor(){this.humanReadableBytesStr=""}ngOnInit(){this.initHumanReadableBytesStr()}initHumanReadableBytesStr(){if(!this.bytesStr){this.humanReadableBytesStr=this.bytesStr??"";return}let o=parseInt(this.bytesStr);this.humanReadableBytesStr=ig(o,!0,2)}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Fe({type:n,selectors:[["app-mdto-omvang"]],inputs:{bytesStr:"bytesStr"},standalone:!0,features:[$e],decls:1,vars:1,template:function(e,t){e&1&&Ve(0),e&2&&St("",t.humanReadableBytesStr,`
`)}});let i=n;return i})();var ad=(()=>{let n=class n{_getAllIds(){let o=[];for(let t of[dn.ByType,dn.ByPredicate]){let a=Object.values(qe.renderComponents[t]).map(d=>d.componentId);o=o.concat(a)}return Array.from(new Set(o))}constructor(o){this.nodes=o}getIdsToShow(o,e,t,a){let d=[];for(let s of this._getAllIds())this.shouldShow(o,e,s,t,a)&&d.push(s);return d}shouldShow(o,e,t,a,d){return this.getIds(o,e,a,d).includes(t)}getIds(o,e,t,a){return this.getSettings(o,e,t,a).map(d=>d.componentId)}getSettingByKey(o,e,t,a,d){let s=this.getSettings(e,t,a,d).map(c=>c?.[o]);return!s||s.length===0?[]:s[0]}getSettings(o,e,t,a){if(!o)return[];let d=[],s=[];e===dn.ByType?s=this.nodes.getObjValues(o,qe.predicates.type):e===dn.ByPredicate&&(s=t??[]);for(let[c,u]of Object.entries(qe.renderComponents?.[e])){a===void 0&&(a=Dt.Outgoing);let p=u.direction===void 0?Dt.Outgoing:u.direction,m=a===p;s.includes(c)&&m&&d.push(u)}return d}isDefined(o,e,t,a){return this.getAll(e).filter(d=>this.getIds(o,e,t,a).includes(d.componentId)).length>0}getAll(o){return Object.values(qe.renderComponents?.[o])}};n.\u0275fac=function(e){return new(e||n)(je(vt))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var o3=i=>({id:i}),f0=i=>[i];function r3(i,n){if(i&1&&ke(0,"app-node-link",2),i&2){let r=Ee(2);te("url",r.pred)}}function s3(i,n){if(i&1&&ke(0,"app-node-images",6),i&2){let r=Ee(3);te("imageUrls",r.images)}}function a3(i,n){i&1&&ke(0,"app-map-thumb")}function l3(i,n){if(i&1&&(xe(0,"div",12),ke(1,"app-node-type",13),Ne()),i&2){let r=Ee().$implicit;oe(),te("type",bt(1,o3,r))}}function d3(i,n){if(i&1&&ke(0,"app-hop-image",14),i&2){let r=Ee().$implicit,o=Ee(3);te("id",r)("settings",o.renderComponent.getSettingByKey("hopLinkSettings",o.node,o.RenderMode.ByPredicate,bt(2,f0,o.pred),o.direction))}}function c3(i,n){if(i&1&&ke(0,"app-hop-link",14),i&2){let r=Ee().$implicit,o=Ee(3);te("id",r)("settings",o.renderComponent.getSettingByKey("hopLinkSettings",o.node,o.RenderMode.ByPredicate,bt(2,f0,o.pred),o.direction))}}function h3(i,n){if(i&1&&ke(0,"app-mdto-dekking-in-tijd",15),i&2){let r=Ee().$implicit;te("id",r)}}function u3(i,n){if(i&1&&ke(0,"app-mdto-url-bestand",16),i&2){let r=Ee().$implicit,o=Ee(3);te("nodeId",o.nodes.getId(o.node))("fileUrl",r)}}function m3(i,n){if(i&1&&ke(0,"app-mdto-omvang",17),i&2){let r=Ee().$implicit;te("bytesStr",r)}}function p3(i,n){if(i&1&&ke(0,"app-rico-identifier",15),i&2){let r=Ee().$implicit;te("id",r)}}function f3(i,n){if(i&1&&ke(0,"ng-icon",19),i&2){let r=Ee(5);te("svg",r.featherArrowUpLeft)}}function g3(i,n){if(i&1&&(xe(0,"app-node-link",2),Me(1,f3,1,1,"ng-icon",18),Ne()),i&2){let r=Ee().$implicit,o=Ee(3);te("url",r),oe(),te("ngIf",o.isIncoming)}}function v3(i,n){if(i&1&&(xe(0,"div"),Me(1,l3,2,3,"div",7)(2,d3,1,4,"app-hop-image",8)(3,c3,1,4,"app-hop-link",8)(4,h3,1,1,"app-mdto-dekking-in-tijd",9)(5,u3,1,2,"app-mdto-url-bestand",10)(6,m3,1,1,"app-mdto-omvang",11)(7,p3,1,1,"app-rico-identifier",9)(8,g3,2,2,"app-node-link",1),Ne()),i&2){let r=Ee(3);oe(),te("ngIf",r.shouldRenderComponentIds.includes("node-type")),oe(),te("ngIf",r.shouldRenderComponentIds.includes("hop-image")),oe(),te("ngIf",r.shouldRenderComponentIds.includes("hop-link")),oe(),te("ngIf",r.shouldRenderComponentIds.includes("mdto-dekking-in-tijd")),oe(),te("ngIf",r.shouldRenderComponentIds.includes("mdto-url-bestand")),oe(),te("ngIf",r.shouldRenderComponentIds.includes("mdto-omvang")),oe(),te("ngIf",r.shouldRenderComponentIds.includes("rico-identifier")),oe(),te("ngIf",!r.renderComponentIsDefined)}}function y3(i,n){if(i&1){let r=Ct();xe(0,"button",20),nt("click",function(){xt(r);let e=Ee(3);return Nt(e.loadMoreObjValues())}),Ve(1),Ne()}if(i&2){let r=Ee(3);oe(),St(" ",r.showMoreLabel," ")}}function w3(i,n){if(i&1&&(kt(0),Me(1,s3,1,1,"app-node-images",3)(2,a3,1,0,"app-map-thumb",0),kt(3),Me(4,v3,9,8,"div",4)(5,y3,2,1,"button",5),Pt()()),i&2){let r=Ee(2);oe(),te("ngIf",r.shouldRenderComponentIds.includes("node-images")),oe(),te("ngIf",r.shouldRenderComponentIds.includes("map-thumb")),oe(2),te("ngForOf",r.objValuesToShow),oe(),te("ngIf",r.numObjValuesNotShown>0)}}function _3(i,n){if(i&1&&(kt(0),Me(1,r3,1,1,"app-node-link",1)(2,w3,6,4,"ng-container",0),Pt()),i&2){let r=Ee();oe(),te("ngIf",r.show===r.TableCellShowOptions.Pred),oe(),te("ngIf",r.show===r.TableCellShowOptions.Obj)}}var ld=function(i){return i[i.Pred=0]="Pred",i[i.Obj=1]="Obj",i}(ld||{}),g0=(()=>{let n=class n{constructor(o,e){this.nodes=o,this.renderComponent=e,this.numObjValuesToShow=ht.numObjValuesToShowDefault,this.shouldRenderComponentIds=[],this.renderComponentIsDefined=!1,this.images=[],this.objValues=[],this.TableCellShowOptions=ld,this.RenderMode=dn,this.Settings=qe,this.featherArrowUpLeft=rg}ngOnInit(){this.initRenderComponentIds(),this.initObjValues(),this.images=this.nodes.getObjValues(this.node,qe.predicates.images,void 0,!0)}initObjValues(){this.direction===void 0||!this.pred||(this.objValues=this.nodes.getObjValuesByDirection(this.node,[this.pred],this.direction))}initRenderComponentIds(){if(!this.node)return;let o=this.pred?[this.pred]:[];this.shouldRenderComponentIds=this.renderComponent.getIdsToShow(this.node,dn.ByPredicate,o,this.direction),this.renderComponentIsDefined=this.renderComponent.isDefined(this.node,dn.ByPredicate,o,this.direction)}get isIncoming(){return this.direction===Dt.Incoming}get objValuesToShow(){return this.objValues.slice(0,this.numObjValuesToShow)}get numObjValuesNotShown(){return this.objValues.length-this.numObjValuesToShow}loadMoreObjValues(){this.numObjValuesToShow+=ht.additionalNumObjValuesToShowOnClick}get showMoreLabel(){return`Laad nog ${Math.min(this.numObjValuesNotShown,ht.additionalNumObjValuesToShowOnClick)} resultaten`}};n.\u0275fac=function(e){return new(e||n)(be(vt),be(ad))},n.\u0275cmp=Fe({type:n,selectors:[["app-node-table-cell"]],inputs:{pred:"pred",node:"node",direction:"direction",show:"show"},standalone:!0,features:[$e],decls:1,vars:1,consts:[[4,"ngIf"],[3,"url",4,"ngIf"],[3,"url"],[3,"imageUrls",4,"ngIf"],[4,"ngFor","ngForOf"],["class","btn btn-xs btn-primary mt-2",3,"click",4,"ngIf"],[3,"imageUrls"],["class","mt-1",4,"ngIf"],[3,"id","settings",4,"ngIf"],[3,"id",4,"ngIf"],[3,"nodeId","fileUrl",4,"ngIf"],[3,"bytesStr",4,"ngIf"],[1,"mt-1"],[3,"type"],[3,"id","settings"],[3,"id"],[3,"nodeId","fileUrl"],[3,"bytesStr"],["class","opacity-40",3,"svg",4,"ngIf"],[1,"opacity-40",3,"svg"],[1,"btn","btn-xs","btn-primary","mt-2",3,"click"]],template:function(e,t){e&1&&Me(0,_3,3,2,"ng-container",0),e&2&&te("ngIf",t.node&&t.pred)},dependencies:[wt,pn,Ye,Mt,Ro,d0,ed,rd,c0,h0,sd,u0,m0]});let i=n;return i})();var v0=i=>[i];function x3(i,n){if(i&1&&(xe(0,"div",4)(1,"span",5),Ve(2,"Objecten die verwijzen naar "),ke(3,"app-node-link",6),Ne()()),i&2){let r=Ee(2);oe(),te("ngClass",bt(2,v0,r.smallFontSize?"text-sm":"")),oe(2),te("url",r.nodes.getId(r.node))}}function N3(i,n){if(i&1&&(xe(0,"div",8)(1,"div",9),ke(2,"app-node-table-cell",10),Ne(),xe(3,"td",11),ke(4,"app-node-table-cell",10),Ne()()),i&2){let r=Ee().$implicit,o=Ee(2);oe(2),te("node",o.node)("direction",o.direction)("pred",r)("show",o.direction===o.Direction.Incoming?o.TableCellShowOptions.Obj:o.TableCellShowOptions.Pred),oe(2),te("node",o.node)("direction",o.direction)("pred",r)("show",o.direction===o.Direction.Incoming?o.TableCellShowOptions.Pred:o.TableCellShowOptions.Obj)}}function b3(i,n){if(i&1&&(kt(0),Me(1,N3,5,8,"div",7),Pt()),i&2){let r=n.$implicit,o=Ee(2);oe(),te("ngIf",o.predicateVisibilities[r]===o.visibility&&o.getNumPredValues(r,o.direction)>0)}}function C3(i,n){if(i&1&&(kt(0),Me(1,x3,4,4,"div",1),xe(2,"div",2),Me(3,b3,2,1,"ng-container",3),Ne(),Pt()),i&2){let r=Ee();oe(),te("ngIf",r.direction===r.Direction.Incoming&&r.hasPredsToShow(r.Direction.Incoming,r.visibility)),oe(),te("ngClass",bt(3,v0,r.smallFontSize?"text-xs":"")),oe(),te("ngForOf",r.nodePreds)}}var y0=(()=>{let n=class n{constructor(o,e){this.nodes=o,this.settings=e,this.nodePreds=[],this.predicateVisibilities={},this.numPredValues={},this.Direction=Dt,this.TableCellShowOptions=ld}ngOnInit(){this.initPredData(),this.initNodePreds()}initNodePreds(){if(!this.node)return;let o=Object.keys(this.node),e=og(o,this.settings.getVisiblePredicates()[this.visibility]);this.nodePreds=e}initPredData(){if(this.node)for(let o of Object.keys(this.node)){this.predicateVisibilities[o]=this.settings.getPredicateVisibility(o);for(let e of[Dt.Outgoing,Dt.Incoming])this.numPredValues[o]||(this.numPredValues[o]={}),this.numPredValues[o][e]=this.nodes.getObjValuesByDirection(this.node,[o],e).length}}getNumPredValues(o,e){return!o||e===void 0?0:this.numPredValues[o][e]}hasPredsToShow(o,e){return Object.entries(this.numPredValues).some(([t,a])=>this.predicateVisibilities[t]===e&&a[o]>0)}get smallFontSize(){return!1}};n.\u0275fac=function(e){return new(e||n)(be(vt),be(on))},n.\u0275cmp=Fe({type:n,selectors:[["app-node-direction-table"]],inputs:{node:"node",visibility:"visibility",direction:"direction"},standalone:!0,features:[$e],decls:1,vars:1,consts:[[4,"ngIf"],["class","mt-6",4,"ngIf"],[1,"break-all",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"mt-6"],[3,"ngClass"],[3,"url"],["class","sm:flex sm:gap-4 sm:px-4 my-4 sm:my-2",4,"ngIf"],[1,"sm:flex","sm:gap-4","sm:px-4","my-4","sm:my-2"],[1,"w-full","sm:w-1/3"],[3,"node","direction","pred","show"],[1,"w-full","sm:w-2/3"]],template:function(e,t){e&1&&Me(0,C3,4,5,"ng-container",0),e&2&&te("ngIf",t.node)},dependencies:[wt,Wt,g0,Ye,Mt]});let i=n;return i})();function S3(i,n){if(i&1&&(kt(0),ke(1,"app-node-direction-table",1)(2,"app-node-direction-table",1),Pt()),i&2){let r=Ee();oe(),te("direction",r.Direction.Outgoing)("node",r.node)("visibility",r.visibility),oe(),te("direction",r.Direction.Incoming)("node",r.node)("visibility",r.visibility)}}var w0=(()=>{let n=class n{constructor(o){this.nodes=o,this.Direction=Dt}ngOnInit(){}};n.\u0275fac=function(e){return new(e||n)(be(vt))},n.\u0275cmp=Fe({type:n,selectors:[["app-node-table"]],inputs:{node:"node",visibility:"visibility"},standalone:!0,features:[$e],decls:1,vars:1,consts:[[4,"ngIf"],[3,"direction","node","visibility"]],template:function(e,t){e&1&&Me(0,S3,3,6,"ng-container",0),e&2&&te("ngIf",t.node)},dependencies:[Ye,y0]});let i=n;return i})();function T3(i,n){if(i&1&&ke(0,"app-node-table",0),i&2){let r=Ee();te("node",r.node)("visibility",r.PredicateVisibility.Details)}}var Yr=(()=>{let n=class n extends Po{constructor(o,e,t){super(e),this.settings=o,this.nodes=e,this.details=t,this.canShowDetails=!1,this.numOfDetailsPreds=0,this.PredicateVisibility=Zt,this.Object=Object,this.ViewMode=Rn,this.ViewModeSetting=Xt,this.featherChevronDown=Bl,this.featherChevronUp=sg}ngOnInit(){this.canShowDetails=this.settings.hasViewModeSetting(Xt.ShowDetails),this.numOfDetailsPreds=this._getNumOfPreds(Zt.Details)}_getNumOfPreds(o){return this.node?Object.keys(Object.entries(this.node).filter(([t,a])=>this.settings.getPredicateVisibility(t)===o)).length:0}};n.\u0275fac=function(e){return new(e||n)(be(on),be(vt),be(Ft))},n.\u0275cmp=Fe({type:n,selectors:[["app-node-table-view"]],standalone:!0,features:[Kt,$e],decls:2,vars:3,consts:[[3,"node","visibility"],[3,"node","visibility",4,"ngIf"]],template:function(e,t){e&1&&(ke(0,"app-node-table",0),Me(1,T3,1,2,"app-node-table",1)),e&2&&(te("node",t.node)("visibility",t.PredicateVisibility.Show),oe(),te("ngIf",t.details.showing.value&&t.numOfDetailsPreds>0&&t.canShowDetails))},dependencies:[Ye,w0]});let i=n;return i})();var I3=()=>["http://xmlns.com/foaf/0.1/depiction"],E3=i=>({preds:i});function k3(i,n){if(i&1&&(xe(0,"div",3),ke(1,"app-hop-image",4),Ne()),i&2){let r=n.$implicit;oe(),te("id",r)("settings",bt(3,E3,xo(2,I3)))}}var _0=(()=>{let n=class n extends Po{constructor(){super(...arguments),this.images=[],this.Config=ht}ngOnInit(){this.images=this.nodes.getObjValues(this.node,["https://schema.org/isPartOf"],Dt.Incoming)}};n.\u0275fac=(()=>{let o;return function(t){return(o||(o=nn(n)))(t||n)}})(),n.\u0275cmp=Fe({type:n,selectors:[["app-gescand-inventarisnummer"]],standalone:!0,features:[Kt,$e],decls:3,vars:2,consts:[[1,"w-full","carousel","mt-2"],["class","carousel-item",4,"ngFor","ngForOf"],[1,"opacity-75",3,"node"],[1,"carousel-item"],[3,"id","settings"]],template:function(e,t){e&1&&(xe(0,"div",0),Me(1,k3,2,5,"div",1),Ne(),ke(2,"app-node-table-view",2)),e&2&&(oe(),te("ngForOf",t.images.slice(0,t.Config.maxImagesToShow)),oe(),te("node",t.node))},dependencies:[Yr,wt,sd]});let i=n;return i})();function L3(i,n){if(i&1&&(xe(0,"li"),ke(1,"app-node-link",2),Ne()),i&2){let r=n.$implicit;oe(),te("url",r.subject)}}var x0=(()=>{let n=class n extends Po{constructor(o,e,t){super(t),this.api=o,this.sparql=e,this.nodes=t,this.children=[]}ngOnInit(){this.initRubriek()}initRubriek(){return Le(this,null,function*(){if(!this.node)return;let o=`
prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
prefix rico: <https://www.ica.org/standards/RiC/ontology#>
SELECT ?subject ?subjectLabel
WHERE {
  ?subject rico:isOrWasIncludedIn <${this.nodes.getId(this.node)}> .
  ?subject ${Ys.map(t=>Pn(t)).join("|")} ?subjectLabel .
}`,e=yield this.api.postData(qe.endpoints.hua.endpointUrls[0].sparql,{query:o});!e||e.length===0||(this.children=e.sort((t,a)=>(""+t.subjectLabel).localeCompare(a.subjectLabel)))})}};n.\u0275fac=function(e){return new(e||n)(be(ji),be(fn),be(vt))},n.\u0275cmp=Fe({type:n,selectors:[["app-hua-rubriek"]],standalone:!0,features:[Kt,$e],decls:2,vars:1,consts:[[1,"mt-2"],[4,"ngFor","ngForOf"],[3,"url"]],template:function(e,t){e&1&&(xe(0,"ul",0),Me(1,L3,2,1,"li",1),Ne()),e&2&&(oe(),te("ngForOf",t.children))},dependencies:[Mt,wt]});let i=n;return i})();function R3(i,n){if(i&1&&ke(0,"app-sdo-photograph",2),i&2){let r=Ee(2);te("node",r.node)}}function P3(i,n){if(i&1&&ke(0,"app-gescand-inventarisnummer",2),i&2){let r=Ee(2);te("node",r.node)}}function M3(i,n){if(i&1&&ke(0,"app-hua-rubriek",2),i&2){let r=Ee(2);te("node",r.node)}}function A3(i,n){if(i&1&&ke(0,"app-node-table-view",2),i&2){let r=Ee(2);te("node",r.node)}}function O3(i,n){if(i&1&&(kt(0),Me(1,R3,1,1,"app-sdo-photograph",1)(2,P3,1,1,"app-gescand-inventarisnummer",1)(3,M3,1,1,"app-hua-rubriek",1)(4,A3,1,1,"app-node-table-view",1),Pt()),i&2){let r=Ee();oe(),te("ngIf",r.renderComponentIdsToShow.includes("sdo-photograph")),oe(),te("ngIf",r.renderComponentIdsToShow.includes("gescand-inventarisnummer")),oe(),te("ngIf",r.renderComponentIdsToShow.includes("hua-rubriek")),oe(),te("ngIf",!r.renderComponentIsDefined)}}var N0=(()=>{let n=class n{constructor(o,e){this.nodes=o,this.renderComponents=e,this.renderComponentIdsToShow=[],this.renderComponentIsDefined=!1,this.Settings=qe,this.RenderMode=dn}ngOnInit(){this.initRenderComponentIds()}initRenderComponentIds(){this.node&&(this.renderComponentIdsToShow=this.renderComponents.getIdsToShow(this.node,dn.ByType),this.renderComponentIsDefined=this.renderComponents.isDefined(this.node,dn.ByType))}};n.\u0275fac=function(e){return new(e||n)(be(vt),be(ad))},n.\u0275cmp=Fe({type:n,selectors:[["app-node-renderer"]],inputs:{node:"node"},standalone:!0,features:[$e],decls:1,vars:1,consts:[[4,"ngIf"],[3,"node",4,"ngIf"],[3,"node"]],template:function(e,t){e&1&&Me(0,O3,5,4,"ng-container",0),e&2&&te("ngIf",t.node)},dependencies:[Yr,Ye,s0,_0,x0]});let i=n;return i})();function D3(i,n){if(i&1&&(xe(0,"div",1),ke(1,"app-node-link",2),Ne()),i&2){let r,o=Ee();oe(),te("label",(r=o.endpoints.getById(o.endpointId))==null?null:r.label)("shouldHighlight",!1)}}var b0=(()=>{let n=class n{constructor(o){this.endpoints=o}};n.\u0275fac=function(e){return new(e||n)(be(An))},n.\u0275cmp=Fe({type:n,selectors:[["app-node-endpoint"]],inputs:{endpointId:"endpointId"},standalone:!0,features:[$e],decls:1,vars:1,consts:[["class","badge badge-md badge-primary inline-block",4,"ngIf"],[1,"badge","badge-md","badge-primary","inline-block"],[3,"label","shouldHighlight"]],template:function(e,t){e&1&&Me(0,D3,2,2,"div",0),e&2&&te("ngIf",t.endpointId)},dependencies:[Ye,Mt]});let i=n;return i})();var F3=["*"],C0=(()=>{let n=class n{constructor(){this.label=""}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Fe({type:n,selectors:[["app-node-table-row"]],inputs:{label:"label"},standalone:!0,features:[$e],ngContentSelectors:F3,decls:5,vars:1,consts:[[1,"sm:flex","sm:gap-4","my-4","sm:my-2","mr-4"],[1,"w-full","sm:w-1/3"],[1,"w-full","sm:w-2/3"]],template:function(e,t){e&1&&(io(),xe(0,"div",0)(1,"div",1),Ve(2),Ne(),xe(3,"div",2),Li(4),Ne()()),e&2&&(oe(2),Ht(t.label))}});let i=n;return i})();var Ao=class{},S0=(()=>{class i extends Ao{getTranslation(r){return ot({})}static \u0275fac=(()=>{let r;return function(e){return(r||(r=nn(i)))(e||i)}})();static \u0275prov=He({token:i,factory:i.\u0275fac})}return i})(),da=class{},T0=(()=>{class i{handle(r){return r.key}static \u0275fac=function(o){return new(o||i)};static \u0275prov=He({token:i,factory:i.\u0275fac})}return i})();function cd(i,n){if(i===n)return!0;if(i===null||n===null)return!1;if(i!==i&&n!==n)return!0;let r=typeof i,o=typeof n,e,t,a;if(r==o&&r=="object")if(Array.isArray(i)){if(!Array.isArray(n))return!1;if((e=i.length)==n.length){for(t=0;t<e;t++)if(!cd(i[t],n[t]))return!1;return!0}}else{if(Array.isArray(n))return!1;a=Object.create(null);for(t in i){if(!cd(i[t],n[t]))return!1;a[t]=!0}for(t in n)if(!(t in a)&&typeof n[t]<"u")return!1;return!0}return!1}function Mo(i){return typeof i<"u"&&i!==null}function ca(i){return dd(i)&&!cu(i)}function dd(i){return typeof i=="object"}function cu(i){return Array.isArray(i)}function hu(i){return typeof i=="string"}function $3(i){return typeof i=="function"}function ou(i,n){let r=Object.assign({},i);return dd(i)?(dd(i)&&dd(n)&&Object.keys(n).forEach(o=>{ca(n[o])?o in i?r[o]=ou(i[o],n[o]):Object.assign(r,{[o]:n[o]}):Object.assign(r,{[o]:n[o]})}),r):ou({},n)}function ru(i,n){let r=n.split(".");n="";do n+=r.shift(),Mo(i)&&Mo(i[n])&&(ca(i[n])||cu(i[n])||!r.length)?(i=i[n],n=""):r.length?n+=".":i=void 0;while(r.length);return i}function z3(i,n,r){let o=n.split("."),e=i;for(let t=0;t<o.length;t++){let a=o[t];t===o.length-1?e[a]=r:((!e[a]||!ca(e[a]))&&(e[a]={}),e=e[a])}}var Jr=class{},I0=(()=>{class i extends Jr{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(r,o){if(hu(r))return this.interpolateString(r,o);if($3(r))return this.interpolateFunction(r,o)}interpolateFunction(r,o){return r(o)}interpolateString(r,o){return o?r.replace(this.templateMatcher,(e,t)=>{let a=ru(o,t);return Mo(a)?a:e}):r}static \u0275fac=(()=>{let r;return function(e){return(r||(r=nn(i)))(e||i)}})();static \u0275prov=He({token:i,factory:i.\u0275fac})}return i})(),Kr=class{},E0=(()=>{class i extends Kr{compile(r,o){return r}compileTranslations(r,o){return r}static \u0275fac=(()=>{let r;return function(e){return(r||(r=nn(i)))(e||i)}})();static \u0275prov=He({token:i,factory:i.\u0275fac})}return i})(),hd=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new Et;onLangChange=new Et;onDefaultLangChange=new Et},su=new tt("ISOALTE_TRANSLATE_SERVICE"),au=new tt("USE_DEFAULT_LANG"),lu=new tt("DEFAULT_LANGUAGE"),du=new tt("USE_EXTEND"),la=i=>Ti(i)?i:ot(i),yi=(()=>{class i{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new Et;_onLangChange=new Et;_onDefaultLangChange=new Et;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(r){this.isolate?this._defaultLang=r:this.store.defaultLang=r}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(r){this.isolate?this._currentLang=r:this.store.currentLang=r}get langs(){return this.isolate?this._langs:this.store.langs}set langs(r){this.isolate?this._langs=r:this.store.langs=r}get translations(){return this.isolate?this._translations:this.store.translations}set translations(r){this.isolate?this._translations=r:this.store.translations=r}constructor(r,o,e,t,a,d=!0,s=!1,c=!1,u){this.store=r,this.currentLoader=o,this.compiler=e,this.parser=t,this.missingTranslationHandler=a,this.useDefaultLang=d,this.isolate=s,this.extend=c,u&&this.setDefaultLang(u)}setDefaultLang(r){if(r===this.defaultLang)return;let o=this.retrieveTranslations(r);typeof o<"u"?(this.defaultLang==null&&(this.defaultLang=r),o.pipe(xn(1)).subscribe(()=>{this.changeDefaultLang(r)})):this.changeDefaultLang(r)}getDefaultLang(){return this.defaultLang}use(r){if(this.lastUseLanguage=r,r===this.currentLang)return ot(this.translations[r]);this.currentLang||(this.currentLang=r);let o=this.retrieveTranslations(r);return Ti(o)?(o.pipe(xn(1)).subscribe(()=>{this.changeLang(r)}),o):(this.changeLang(r),ot(this.translations[r]))}changeLang(r){r===this.lastUseLanguage&&(this.currentLang=r,this.onLangChange.emit({lang:r,translations:this.translations[r]}),this.defaultLang==null&&this.changeDefaultLang(r))}retrieveTranslations(r){if(typeof this.translations[r]>"u"||this.extend)return this._translationRequests[r]=this._translationRequests[r]||this.loadAndCompileTranslations(r),this._translationRequests[r]}getTranslation(r){return this.loadAndCompileTranslations(r)}loadAndCompileTranslations(r){this.pending=!0;let o=this.currentLoader.getTranslation(r).pipe(Ac(1),xn(1));return this.loadingTranslations=o.pipe(ft(e=>this.compiler.compileTranslations(e,r)),Ac(1),xn(1)),this.loadingTranslations.subscribe({next:e=>{this.translations[r]=this.extend&&this.translations[r]?Pe(Pe({},e),this.translations[r]):e,this.updateLangs(),this.pending=!1},error:e=>{this.pending=!1}}),o}setTranslation(r,o,e=!1){let t=this.compiler.compileTranslations(o,r);(e||this.extend)&&this.translations[r]?this.translations[r]=ou(this.translations[r],t):this.translations[r]=t,this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}getLangs(){return this.langs}addLangs(r){r.forEach(o=>{this.langs.indexOf(o)===-1&&this.langs.push(o)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(r,o,e){let t;if(r&&(t=this.runInterpolation(ru(r,o),e)),t===void 0&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(t=this.runInterpolation(ru(this.translations[this.defaultLang],o),e)),t===void 0){let a={key:o,translateService:this};typeof e<"u"&&(a.interpolateParams=e),t=this.missingTranslationHandler.handle(a)}return t!==void 0?t:o}runInterpolation(r,o){if(cu(r))return r.map(e=>this.runInterpolation(e,o));if(ca(r)){let e={};for(let t in r)e[t]=this.runInterpolation(r[t],o);return e}else return this.parser.interpolate(r,o)}getParsedResult(r,o,e){if(o instanceof Array){let t={},a=!1;for(let s of o)t[s]=this.getParsedResultForKey(r,s,e),a=a||Ti(t[s]);if(!a)return t;let d=o.map(s=>la(t[s]));return Ka(d).pipe(ft(s=>{let c={};return s.forEach((u,p)=>{c[o[p]]=u}),c}))}return this.getParsedResultForKey(r,o,e)}get(r,o){if(!Mo(r)||!r.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(eo(e=>la(this.getParsedResult(e,r,o)))):la(this.getParsedResult(this.translations[this.currentLang],r,o))}getStreamOnTranslationChange(r,o){if(!Mo(r)||!r.length)throw new Error('Parameter "key" is required and cannot be empty');return _s(wr(()=>this.get(r,o)),this.onTranslationChange.pipe(Nn(e=>{let t=this.getParsedResult(e.translations,r,o);return la(t)})))}stream(r,o){if(!Mo(r)||!r.length)throw new Error('Parameter "key" required');return _s(wr(()=>this.get(r,o)),this.onLangChange.pipe(Nn(e=>{let t=this.getParsedResult(e.translations,r,o);return la(t)})))}instant(r,o){if(!Mo(r)||r.length===0)throw new Error('Parameter "key" is required and cannot be empty');let e=this.getParsedResult(this.translations[this.currentLang],r,o);return Ti(e)?Array.isArray(r)?r.reduce((t,a)=>(t[a]=a,t),{}):r:e}set(r,o,e=this.currentLang){z3(this.translations[e],r,hu(o)?this.compiler.compile(o,e):this.compiler.compileTranslations(o,e)),this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}changeDefaultLang(r){this.defaultLang=r,this.onDefaultLangChange.emit({lang:r,translations:this.translations[r]})}reloadLang(r){return this.resetLang(r),this.loadAndCompileTranslations(r)}resetLang(r){delete this._translationRequests[r],delete this.translations[r]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let r=this.getBrowserCultureLang();return r?r.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(o){return new(o||i)(je(hd),je(Ao),je(Kr),je(Jr),je(da),je(au),je(su),je(du),je(lu))};static \u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var li=(()=>{class i{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(r,o){this.translate=r,this._ref=o}updateValue(r,o,e){let t=a=>{this.value=a!==void 0?a:r,this.lastKey=r,this._ref.markForCheck()};if(e){let a=this.translate.getParsedResult(e,r,o);Ti(a)?a.subscribe(t):t(a)}this.translate.get(r,o).subscribe(t)}transform(r,...o){if(!r||!r.length)return r;if(cd(r,this.lastKey)&&cd(o,this.lastParams))return this.value;let e;if(Mo(o[0])&&o.length)if(hu(o[0])&&o[0].length){let t=o[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{e=JSON.parse(t)}catch(a){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${o[0]}`)}}else ca(o[0])&&(e=o[0]);return this.lastKey=r,this.lastParams=o,this.updateValue(r,e),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(t=>{this.lastKey&&t.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(r,e,t.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(t=>{this.lastKey&&(this.lastKey=null,this.updateValue(r,e,t.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(r,e))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(o){return new(o||i)(be(yi,16),be(Oi,16))};static \u0275pipe=Lp({name:"translate",type:i,pure:!1,standalone:!0});static \u0275prov=He({token:i,factory:i.\u0275fac})}return i})();var ud=(()=>{class i{static forRoot(r={}){return{ngModule:i,providers:[r.loader||{provide:Ao,useClass:S0},r.compiler||{provide:Kr,useClass:E0},r.parser||{provide:Jr,useClass:I0},r.missingTranslationHandler||{provide:da,useClass:T0},hd,{provide:su,useValue:r.isolate},{provide:au,useValue:r.useDefaultLang},{provide:du,useValue:r.extend},{provide:lu,useValue:r.defaultLanguage},yi]}}static forChild(r={}){return{ngModule:i,providers:[r.loader||{provide:Ao,useClass:S0},r.compiler||{provide:Kr,useClass:E0},r.parser||{provide:Jr,useClass:I0},r.missingTranslationHandler||{provide:da,useClass:T0},{provide:su,useValue:r.isolate},{provide:au,useValue:r.useDefaultLang},{provide:du,useValue:r.extend},{provide:lu,useValue:r.defaultLanguage},yi]}}static \u0275fac=function(o){return new(o||i)};static \u0275mod=Sn({type:i});static \u0275inj=Cn({})}return i})();function B3(i,n){if(i&1&&(xe(0,"a",1)(1,"span",2),Ve(2),Ut(3,"translate"),Ne(),ke(4,"ng-icon",3),Ne()),i&2){let r=Ee();te("routerLink",r.details.getLink(r.node)),oe(2),Ht(Gt(3,3,"show-details")),oe(2),te("svg",r.featherArrowRight)}}var k0=(()=>{let n=class n{constructor(o,e){this.details=o,this.nodes=e,this.featherArrowRight=$r,this.encodeURIComponent=encodeURIComponent}};n.\u0275fac=function(e){return new(e||n)(be(Ft),be(vt))},n.\u0275cmp=Fe({type:n,selectors:[["app-node-details-button"]],inputs:{node:"node"},standalone:!0,features:[$e],decls:1,vars:1,consts:[["class","leading-none",3,"routerLink",4,"ngIf"],[1,"leading-none",3,"routerLink"],[1,"mr-1","hidden","sm:inline-block"],[1,"text-xl","relative","top-[0.3rem]",3,"svg"]],template:function(e,t){e&1&&Me(0,B3,5,5,"a",0),e&2&&te("ngIf",t.node&&!t.details.showing.value)},dependencies:[pn,Ye,Or,li]});let i=n;return i})();function j3(i,n){if(i&1&&(xe(0,"a",1),Ve(1),Ne()),i&2){let r=Ee();te("href",r.urlService.processUrl(r.nodes.getId(r.node),!1),to),oe(),St(" Bekijk op website van ",r.endpointName,`
`)}}var L0=(()=>{let n=class n{constructor(o,e,t){this.urlService=o,this.nodes=e,this.endpoints=t}get endpointName(){return this.node?this.endpoints.getById(this.nodes.getEndpointId(this.node))?.label??"Onbekend":""}};n.\u0275fac=function(e){return new(e||n)(be(ai),be(vt),be(An))},n.\u0275cmp=Fe({type:n,selectors:[["app-node-permalink-button"]],inputs:{node:"node"},standalone:!0,features:[$e],decls:1,vars:1,consts:[["class","leading-none relative underline","target","_blank",3,"href",4,"ngIf"],["target","_blank",1,"leading-none","relative","underline",3,"href"]],template:function(e,t){e&1&&Me(0,j3,2,2,"a",0),e&2&&te("ngIf",t.node)},dependencies:[Ye]});let i=n;return i})();var Xr=(()=>{let n=class n{constructor(o){this.router=o,this.history=[],this.router.events.subscribe(e=>{e instanceof ri&&this.history.push(e.url)})}goBackOrDefault(o="/"){if(this.history.length>1){this.history.pop();let e=this.history.pop();this.router.navigateByUrl(e||o)}else this.router.navigateByUrl(o)}};n.\u0275fac=function(e){return new(e||n)(je(Ot))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var mu=i=>[i];function q3(i,n){if(i&1&&(xe(0,"a",10),ke(1,"app-node-images",11),Ne()),i&2){let r=Ee(2);_o("width",r.imageWidth)("min-width",r.imageWidth),te("routerLink",r.details.getLink(r.node))("ngClass",bt(9,mu,r.details.showing.value?"cursor-default":"")),oe(),te("imageUrls",r.images)("shownInTableCell",!1)("useViewer",r.details.showing.value)}}function V3(i,n){if(i&1&&(xe(0,"div",12),ke(1,"app-node-link",13),Ne()),i&2){let r=Ee(2);oe(),te("url",r.details.getLink(r.node))("label",r.title)}}function H3(i,n){if(i&1&&(xe(0,"app-node-table-row",14),ke(1,"app-node-hierarchy",15),Ne()),i&2){let r=Ee(2);te("label","Onderdeel van"),oe(),te("nodes",r.parents)}}function U3(i,n){if(i&1&&(xe(0,"app-node-table-row",14),ke(1,"app-node-types",16),Ne()),i&2){let r=Ee(2);te("label","Soort"),oe(),te("types",r.types)}}function G3(i,n){if(i&1&&(xe(0,"app-node-table-row",14),ke(1,"app-node-endpoint",17),Ne()),i&2){let r=Ee(2);te("label","Organisatie"),oe(),te("endpointId",r.nodes.getEndpointId(r.node))}}function W3(i,n){if(i&1&&(xe(0,"div",18),ke(1,"app-node-permalink-button",7),Ne()),i&2){let r=Ee(2);oe(),te("node",r.node)}}function Z3(i,n){if(i&1&&(xe(0,"div",1),Me(1,q3,2,11,"a",2),xe(2,"div",3),Me(3,V3,2,2,"div",4),xe(4,"div",5),Me(5,H3,2,2,"app-node-table-row",6)(6,U3,2,2,"app-node-table-row",6)(7,G3,2,2,"app-node-table-row",6),Ne(),ke(8,"app-node-renderer",7),Me(9,W3,2,1,"div",8),xe(10,"div",9),ke(11,"app-node-details-button",7),Ne()()()),i&2){let r=Ee();te("ngClass",bt(12,mu,r.shouldShowImageNextToTable()?"p-0 flex flex-col sm:flex-row":"p-6")),no("data-scroll-id",r.encodeURIComponent(r.nodes.getId(r.node))),oe(),te("ngIf",r.shouldShowImageNextToTable()),oe(),te("ngClass",r.shouldShowImageNextToTable()?"p-6":"p-0"),oe(),te("ngIf",r.showTitle),oe(2),te("ngIf",r.showParents&&r.parents.length>0),oe(),te("ngIf",r.showTypes&&r.types.length>0),oe(),te("ngIf",r.details.showing.value),oe(),te("node",r.node),oe(),te("ngIf",r.details.showing.value),oe(),te("ngClass",bt(14,mu,r.shouldShowImageNextToTable()?"right-6 bottom-6":"right-0 bottom-0")),oe(),te("node",r.node)}}var nr=(()=>{let n=class n{constructor(o,e,t,a,d,s,c,u,p){this.nodes=o,this.sparql=e,this.data=t,this.cache=a,this.settings=d,this.details=s,this.router=c,this.routing=u,this.location=p,this.parents=[],this.title="",this.types=[],this.images=[],this.showTitle=this.settings.hasViewModeSetting(Xt.ShowTitle),this.showParents=this.settings.hasViewModeSetting(Xt.ShowParents),this.showTypes=this.settings.hasViewModeSetting(Xt.ShowTypes),this.showImageNextToTable=this.settings.hasViewModeSetting(Xt.ShowImageNextToTable),this.Settings=qe,this.featherChevronRight=zr,this.featherArrowRight=$r,this.featherArrowLeft=Fr,this.encodeURIComponent=encodeURIComponent}ngOnInit(){this.retrieveParents(),this.initTitle(),this.initTypes(),this.initImages(),this.node&&(this.id=this.nodes.getId(this.node))}initTitle(){let o=this.nodes.getObjValues(this.node,qe.predicates.label).map(e=>e.trim());!o||o.length===0||(this.title=o[0])}getHopImageUrls(o){return Le(this,null,function*(){let e=qe.predicates.hopImages.map(a=>this.sparql.getObjIds(o,a));return(yield Promise.all(e)).flat()})}initImages(){return Le(this,null,function*(){if(!this.node)return;this.images=this.nodes.getObjValues(this.node,qe.predicates.images,void 0,!0);let o=this.nodes.getId(this.node),e=yield this.getHopImageUrls(o);this.images.push(...e)})}initTypes(){let o=this.nodes.getObjValues(this.node,qe.predicates.type,Dt.Outgoing).map(e=>({id:e}));o.forEach(e=>{this.cache.cacheLabelForId(e.id)}),this.types=o}retrieveParents(){return Le(this,null,function*(){if(!this.node)return;let o=yield this.sparql.getAllParents(this.node);this.parents=this.data.getOrderedParentsFromSparqlResults(this.nodes.getId(this.node),o)})}get imageWidth(){return window.innerWidth<640?"100%":this.details.showing.value?qe.largeImageWidth.details:qe.largeImageWidth.search}shouldShowImageNextToTable(){return this.showImageNextToTable&&this.images&&this.images.length>0}};n.\u0275fac=function(e){return new(e||n)(be(vt),be(fn),be(On),be(Jl),be(on),be(Ft),be(Ot),be(Xr),be(Sr))},n.\u0275cmp=Fe({type:n,selectors:[["app-node"]],inputs:{node:"node"},standalone:!0,features:[$e],decls:1,vars:1,consts:[["class","w-full bg-base-100 border mb-4",3,"ngClass",4,"ngIf"],[1,"w-full","bg-base-100","border","mb-4",3,"ngClass"],["class","inline-block h-48 sm:h-auto",3,"routerLink","ngClass","width","min-width",4,"ngIf"],[1,"flex-grow","relative",3,"ngClass"],["class","text-lg mr-6 font-bold",4,"ngIf"],[1,"w-full","sm:px-4","sm:pr-32"],[3,"label",4,"ngIf"],[3,"node"],["class","mt-8 font-mono text-sm",4,"ngIf"],[1,"absolute",3,"ngClass"],[1,"inline-block","h-48","sm:h-auto",3,"routerLink","ngClass"],[3,"imageUrls","shownInTableCell","useViewer"],[1,"text-lg","mr-6","font-bold"],[3,"url","label"],[3,"label"],[3,"nodes"],[3,"types"],[3,"endpointId"],[1,"mt-8","font-mono","text-sm"]],template:function(e,t){e&1&&Me(0,Z3,12,16,"div",0),e&2&&te("ngIf",t.node)},dependencies:[Ye,n0,i0,Ro,Mt,N0,b0,C0,Wt,k0,L0,Or]});let i=n;return i})();var $0=(()=>{let n=class n{constructor(o,e){this._renderer=o,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(o,e){this._renderer.setProperty(this._elementRef.nativeElement,o,e)}registerOnTouched(o){this.onTouched=o}registerOnChange(o){this.onChange=o}setDisabledState(o){this.setProperty("disabled",o)}};n.\u0275fac=function(e){return new(e||n)(be(br),be(Hn))},n.\u0275dir=Tn({type:n});let i=n;return i})(),z0=(()=>{let n=class n extends $0{};n.\u0275fac=(()=>{let o;return function(t){return(o||(o=nn(n)))(t||n)}})(),n.\u0275dir=Tn({type:n,features:[Kt]});let i=n;return i})(),yu=new tt(""),Q3={provide:yu,useExisting:Xa(()=>co),multi:!0},co=(()=>{let n=class n extends z0{writeValue(o){this.setProperty("checked",o)}};n.\u0275fac=(()=>{let o;return function(t){return(o||(o=nn(n)))(t||n)}})(),n.\u0275dir=Tn({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){e&1&&nt("change",function(d){return t.onChange(d.target.checked)})("blur",function(){return t.onTouched()})},features:[rl([Q3]),Kt]});let i=n;return i})(),Y3={provide:yu,useExisting:Xa(()=>vd),multi:!0};function J3(){let i=Cr()?Cr().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var K3=new tt(""),vd=(()=>{let n=class n extends $0{constructor(o,e,t){super(o,e),this._compositionMode=t,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!J3())}writeValue(o){let e=o??"";this.setProperty("value",e)}_handleInput(o){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(o)}_compositionStart(){this._composing=!0}_compositionEnd(o){this._composing=!1,this._compositionMode&&this.onChange(o)}};n.\u0275fac=function(e){return new(e||n)(be(br),be(Hn),be(K3,8))},n.\u0275dir=Tn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){e&1&&nt("input",function(d){return t._handleInput(d.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(d){return t._compositionEnd(d.target.value)})},features:[rl([Y3]),Kt]});let i=n;return i})();var X3=new tt(""),ex=new tt("");function B0(i){return i!=null}function j0(i){return al(i)?_n(i):i}function q0(i){let n={};return i.forEach(r=>{n=r!=null?Pe(Pe({},n),r):n}),Object.keys(n).length===0?null:n}function V0(i,n){return n.map(r=>r(i))}function tx(i){return!i.validate}function H0(i){return i.map(n=>tx(n)?n:r=>n.validate(r))}function nx(i){if(!i)return null;let n=i.filter(B0);return n.length==0?null:function(r){return q0(V0(r,n))}}function U0(i){return i!=null?nx(H0(i)):null}function ix(i){if(!i)return null;let n=i.filter(B0);return n.length==0?null:function(r){let o=V0(r,n).map(j0);return Ka(o).pipe(ft(q0))}}function G0(i){return i!=null?ix(H0(i)):null}function R0(i,n){return i===null?[n]:Array.isArray(i)?[...i,n]:[i,n]}function ox(i){return i._rawValidators}function rx(i){return i._rawAsyncValidators}function pu(i){return i?Array.isArray(i)?i:[i]:[]}function fd(i,n){return Array.isArray(i)?i.includes(n):i===n}function P0(i,n){let r=pu(n);return pu(i).forEach(e=>{fd(r,e)||r.push(e)}),r}function M0(i,n){return pu(n).filter(r=>!fd(i,r))}var gd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=U0(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=G0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,r){return this.control?this.control.hasError(n,r):!1}getError(n,r){return this.control?this.control.getError(n,r):null}},fu=class extends gd{get formDirective(){return null}get path(){return null}},ma=class extends gd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},gu=class{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},sx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},QI=st(Pe({},sx),{"[class.ng-submitted]":"isSubmitted"}),Hi=(()=>{let n=class n extends gu{constructor(o){super(o)}};n.\u0275fac=function(e){return new(e||n)(be(ma,2))},n.\u0275dir=Tn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){e&2&&Ss("ng-untouched",t.isUntouched)("ng-touched",t.isTouched)("ng-pristine",t.isPristine)("ng-dirty",t.isDirty)("ng-valid",t.isValid)("ng-invalid",t.isInvalid)("ng-pending",t.isPending)},features:[Kt]});let i=n;return i})();var ha="VALID",pd="INVALID",es="PENDING",ua="DISABLED";function ax(i){return(yd(i)?i.validators:i)||null}function lx(i){return Array.isArray(i)?U0(i):i||null}function dx(i,n){return(yd(n)?n.asyncValidators:i)||null}function cx(i){return Array.isArray(i)?G0(i):i||null}function yd(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}var vu=class{constructor(n,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===ha}get invalid(){return this.status===pd}get pending(){return this.status==es}get disabled(){return this.status===ua}get enabled(){return this.status!==ua}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(P0(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(P0(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(M0(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(M0(n,this._rawAsyncValidators))}hasValidator(n){return fd(this._rawValidators,n)}hasAsyncValidator(n){return fd(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=es,n.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){let r=this._parentMarkedDirty(n.onlySelf);this.status=ua,this.errors=null,this._forEachChild(o=>{o.disable(st(Pe({},n),{onlySelf:!0}))}),this._updateValue(),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(st(Pe({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){let r=this._parentMarkedDirty(n.onlySelf);this.status=ha,this._forEachChild(o=>{o.enable(st(Pe({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(st(Pe({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ha||this.status===es)&&this._runAsyncValidator(n.emitEvent)),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ua:ha}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=es,this._hasOwnPendingAsyncValidator=!0;let r=j0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,r={}){this.errors=n,this._updateControlsErrors(r.emitEvent!==!1)}get(n){let r=n;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((o,e)=>o&&o._find(e),this)}getError(n,r){let o=r?this.get(r):this;return o&&o.errors?o.errors[n]:null}hasError(n,r){return!!this.getError(n,r)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Et,this.statusChanges=new Et}_calculateStatus(){return this._allControlsDisabled()?ua:this.errors?pd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(es)?es:this._anyControlsHaveStatus(pd)?pd:ha}_anyControlsHaveStatus(n){return this._anyControls(r=>r.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){yd(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let r=this._parent&&this._parent.dirty;return!n&&!!r&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=lx(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=cx(this._rawAsyncValidators)}};var wu=new tt("CallSetDisabledState",{providedIn:"root",factory:()=>wd}),wd="always";function hx(i,n){return[...n.path,i]}function ux(i,n,r=wd){px(i,n),n.valueAccessor.writeValue(i.value),(i.disabled||r==="always")&&n.valueAccessor.setDisabledState?.(i.disabled),fx(i,n),vx(i,n),gx(i,n),mx(i,n)}function A0(i,n){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(n)})}function mx(i,n){if(n.valueAccessor.setDisabledState){let r=o=>{n.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(r),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}function px(i,n){let r=ox(i);n.validator!==null?i.setValidators(R0(r,n.validator)):typeof r=="function"&&i.setValidators([r]);let o=rx(i);n.asyncValidator!==null?i.setAsyncValidators(R0(o,n.asyncValidator)):typeof o=="function"&&i.setAsyncValidators([o]);let e=()=>i.updateValueAndValidity();A0(n._rawValidators,e),A0(n._rawAsyncValidators,e)}function fx(i,n){n.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&W0(i,n)})}function gx(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&W0(i,n),i.updateOn!=="submit"&&i.markAsTouched()})}function W0(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function vx(i,n){let r=(o,e)=>{n.valueAccessor.writeValue(o),e&&n.viewToModelUpdate(o)};i.registerOnChange(r),n._registerOnDestroy(()=>{i._unregisterOnChange(r)})}function yx(i,n){if(!i.hasOwnProperty("model"))return!1;let r=i.model;return r.isFirstChange()?!0:!Object.is(n,r.currentValue)}function wx(i){return Object.getPrototypeOf(i.constructor)===z0}function _x(i,n){if(!n)return null;Array.isArray(n);let r,o,e;return n.forEach(t=>{t.constructor===vd?r=t:wx(t)?o=t:e=t}),e||o||r||null}function O0(i,n){let r=i.indexOf(n);r>-1&&i.splice(r,1)}function D0(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var xx=class extends vu{constructor(n=null,r,o){super(ax(r),dx(o,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yd(r)&&(r.nonNullable||r.initialValueIsDefault)&&(D0(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,r={}){this.value=this._pendingValue=n,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(o=>o(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(n,r={}){this.setValue(n,r)}reset(n=this.defaultValue,r={}){this._applyFormState(n),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){O0(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){O0(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){D0(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var Nx={provide:ma,useExisting:Xa(()=>wi)},F0=Promise.resolve(),wi=(()=>{let n=class n extends ma{constructor(o,e,t,a,d,s){super(),this._changeDetectorRef=d,this.callSetDisabledState=s,this.control=new xx,this._registered=!1,this.name="",this.update=new Et,this._parent=o,this._setValidators(e),this._setAsyncValidators(t),this.valueAccessor=_x(this,a)}ngOnChanges(o){if(this._checkForErrors(),!this._registered||"name"in o){if(this._registered&&(this._checkName(),this.formDirective)){let e=o.name.previousValue;this.formDirective.removeControl({name:e,path:this._getPath(e)})}this._setUpControl()}"isDisabled"in o&&this._updateDisabled(o),yx(o,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(o){this.viewModel=o,this.update.emit(o)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ux(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(o){F0.then(()=>{this.control.setValue(o,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(o){let e=o.isDisabled.currentValue,t=e!==0&&Ho(e);F0.then(()=>{t&&!this.control.disabled?this.control.disable():!t&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(o){return this._parent?hx(o,this._parent):[o]}};n.\u0275fac=function(e){return new(e||n)(be(fu,9),be(X3,10),be(ex,10),be(yu,10),be(Oi,8),be(wu,8))},n.\u0275dir=Tn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ei.None,"disabled","isDisabled"],model:[Ei.None,"ngModel","model"],options:[Ei.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[rl([Nx]),Kt,In]});let i=n;return i})();var bx=new tt("");var Z0=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Sn({type:n}),n.\u0275inj=Cn({});let i=n;return i})();var Ui=(()=>{let n=class n{static withConfig(o){return{ngModule:n,providers:[{provide:wu,useValue:o.callSetDisabledState??wd}]}}};n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Sn({type:n}),n.\u0275inj=Cn({imports:[Z0]});let i=n;return i})(),Q0=(()=>{let n=class n{static withConfig(o){return{ngModule:n,providers:[{provide:bx,useValue:o.warnOnNgModelWithFormControl??"always"},{provide:wu,useValue:o.callSetDisabledState??wd}]}}};n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Sn({type:n}),n.\u0275inj=Cn({imports:[Z0]});let i=n;return i})();var Gi=function(i){return i[i.SearchTerm=0]="SearchTerm",i[i.Node=1]="Node",i}(Gi||{});var _d=(()=>{let n=class n{constructor(o,e,t){this.elastic=o,this.data=e,this.filter=t,this.searchSubject=new Jt,this.options=new _t([]),this.isLoading=!1,this._initDebouncedOptionsRetrieval()}hasOptionsOfType(o){return this.getOptionsByType(o).length>0}getOptionsByType(o){return this.options.value.filter(e=>e.type===o)}clearOptions(){this.options.next([])}_initDebouncedOptionsRetrieval(){this.searchSubject.pipe(bp(300)).subscribe(o=>Le(this,null,function*(){return this._updateOptions(o)}))}_updateOptions(o){return Le(this,null,function*(){let t=(yield this._getOptions(o)).slice(0,qe.search.autocomplete.maxAutocompleteOptionsToShow);this.options.next(t)})}_getOptionsFromSearchResults(o){let e={};for(let t of o)for(let a of t.hits.hits){let d=a._source,s=d["@id"];s in e||(e[s]=new Set),qe.predicates.label.forEach(c=>{let u=this.data.replacePeriodsWithSpaces(c);if(u in d){let p=d[u];for(let m of p)e[s].add(m)}})}return e}_getOptionsFromElastic(o,e){return Le(this,null,function*(){let t=yield this.elastic.searchEndpoints(o),a=this._getOptionsFromSearchResults(t);return Object.keys(a).map(s=>({"@id":s,labels:Array.from(a[s]),type:e})).filter(s=>s.labels.length>0)})}_getOptions(o){return Le(this,null,function*(){if(console.log("Retrieving autocomplete options...",o),!o)return[];this.isLoading=!0;let e=this.data.convertFiltersFromIdsFormat(qe.search.autocomplete.filtersForSearchTermOptions),t=this.elastic.getFieldAndValueFilterQueries(e),a={query:{bool:{must:[{query_string:{query:`*${o}*`}}]}},size:qe.search.autocomplete.maxAutocompleteOptionsPerEndpoint},d=JSON.parse(JSON.stringify(a));d.query.bool.should=t,d.query.bool.minimum_should_match=1;let s=yield this._getOptionsFromElastic(a,Gi.Node),c=yield this._getOptionsFromElastic(d,Gi.SearchTerm);return this.isLoading=!1,[...c,...s]})}};n.\u0275fac=function(e){return new(e||n)(je(Lo),je(On),je(en))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();function Cx(i,n){i&1&&(xe(0,"li"),ke(1,"p",1),Ne())}function Sx(i,n){if(i&1){let r=Ct();xe(0,"li")(1,"button",4),nt("click",function(){let e=xt(r).$implicit,t=Ee(3);return Nt(t.selected.emit(e))}),ke(2,"ng-icon",5),Ve(3),Ne()()}if(i&2){let r=n.$implicit,o=Ee(3);oe(2),te("svg",o.featherSearch),oe(),St(" ",r.labels[0]," ")}}function Tx(i,n){if(i&1&&(xe(0,"div")(1,"div",2)(2,"span"),Ve(3," Zoektermen"),Ne()(),Me(4,Sx,4,2,"li",3),Ne()),i&2){let r=Ee(2);oe(4),te("ngForOf",r.autocomplete.getOptionsByType(r.AutoCompleteOptionType.SearchTerm))}}function Ix(i,n){if(i&1){let r=Ct();xe(0,"li")(1,"button",4),nt("click",function(){let e=xt(r).$implicit,t=Ee(3);return Nt(t.selected.emit(e))}),ke(2,"ng-icon",5),Ve(3),Ne()()}if(i&2){let r=n.$implicit,o=Ee(3);oe(2),te("svg",o.featherArrowRight),oe(),St(" ",r.labels[0]," ")}}function Ex(i,n){if(i&1&&(xe(0,"div")(1,"div",2),Ve(2,"Zoekresultaten"),Ne(),Me(3,Ix,4,2,"li",3),Ne()),i&2){let r=Ee(2);oe(3),te("ngForOf",r.autocomplete.getOptionsByType(r.AutoCompleteOptionType.Node))}}function kx(i,n){if(i&1&&(kt(0),Me(1,Tx,5,1,"div",0)(2,Ex,4,1,"div",0),Pt()),i&2){let r=Ee();oe(),te("ngIf",r.autocomplete.hasOptionsOfType(r.AutocompleteOptionType.SearchTerm)),oe(),te("ngIf",r.autocomplete.hasOptionsOfType(r.AutocompleteOptionType.Node))}}var J0=(()=>{let n=class n{constructor(o){this.autocomplete=o,this.selected=new Et,this.AutoCompleteOptionType=Gi,this.AutocompleteOptionType=Gi,this.featherSearch=Br,this.featherArrowRight=$r}};n.\u0275fac=function(e){return new(e||n)(be(_d))},n.\u0275cmp=Fe({type:n,selectors:[["app-search-autocomplete"]],outputs:{selected:"selected"},standalone:!0,features:[$e],decls:2,vars:2,consts:[[4,"ngIf"],[1,"loading","loading-sm","loading-spinner","p-0"],[1,"divider"],[4,"ngFor","ngForOf"],[3,"click"],[1,"mr-2",3,"svg"]],template:function(e,t){e&1&&Me(0,Cx,2,0,"li",0)(1,kx,3,2,"ng-container",0),e&2&&(te("ngIf",t.autocomplete.isLoading),oe(),te("ngIf",!t.autocomplete.isLoading))},dependencies:[wt,Ye,pn]});let i=n;return i})();function Lx(i,n){i&1&&ke(0,"span",7)}function Rx(i,n){i&1&&ke(0,"img",8)}function Px(i,n){if(i&1){let r=Ct();xe(0,"ul",9)(1,"app-search-autocomplete",10),nt("selected",function(e){xt(r);let t=Ee();return Nt(t.onAutocompleteOptionSelect(e))}),Ne()()}}var K0=(()=>{let n=class n{constructor(o,e,t,a,d,s){this.search=o,this.router=e,this.elastic=t,this.details=a,this.autocomplete=d,this.url=s,this.searchInput=this.search.queryStr,this.Settings=qe}ngOnInit(){}ngAfterViewInit(){}get hasAutocompleteOptions(){return this.autocomplete.options.value.length>0}onSearch(){return Le(this,null,function*(){this.autocomplete.clearOptions(),this.autocomplete.searchSubject.next(""),yield this.router.navigate(["/"],{queryParams:{[ht.searchParam]:this.searchInput},queryParamsHandling:"merge"})})}onSearchInputChange(){return Le(this,null,function*(){qe.search.autocomplete.enabled&&this.autocomplete.searchSubject.next(this.searchInput)})}onAutocompleteOptionSelect(o){return Le(this,null,function*(){if(o.labels.length===0){console.warn("No label found for autocomplete option",o);return}this.autocomplete.clearOptions();let e=o.type===Gi.SearchTerm,t=o.type===Gi.Node;e?(this.searchInput=o.labels[0],yield this.onSearch()):t?yield this.router.navigateByUrl(this.details.getLinkFromUrl(o["@id"])):console.warn("Unknown autocomplete option type")})}};n.\u0275fac=function(e){return new(e||n)(be(Dn),be(Ot),be(Lo),be(Ft),be(_d),be(ai))},n.\u0275cmp=Fe({type:n,selectors:[["app-search-input"]],standalone:!0,features:[$e],decls:11,vars:12,consts:[[1,"dropdown","dropdown-bottom","z-20","flex"],[1,"flex","input","input-bordered","items-center","gap-2","rounded-full","w-full"],["type","text","tabindex","0",1,"grow",3,"ngModelChange","keyup.enter","placeholder","value","ngModel"],[1,"btn","btn-primary","btn-sm","rounded-full","text-white",3,"click","disabled"],["class","loading loading-spinner loading-xs opacity-70",4,"ngIf"],["src","assets/icons/search.svg","alt","Zoek icoon","class","h-4",4,"ngIf"],["tabindex","0","class","dropdown-content menu bg-base-100 rounded-xl z-[1] max-h-52 overflow-y-auto p-2 block text-base shadow mt-2 max-w-2xl",4,"ngIf"],[1,"loading","loading-spinner","loading-xs","opacity-70"],["src","assets/icons/search.svg","alt","Zoek icoon",1,"h-4"],["tabindex","0",1,"dropdown-content","menu","bg-base-100","rounded-xl","z-[1]","max-h-52","overflow-y-auto","p-2","block","text-base","shadow","mt-2","max-w-2xl"],[3,"selected"]],template:function(e,t){e&1&&(xe(0,"div",0)(1,"label",1)(2,"input",2),Ut(3,"translate"),Ai("ngModelChange",function(d){return Mi(t.searchInput,d)||(t.searchInput=d),d}),nt("keyup.enter",function(){return t.onSearch()})("ngModelChange",function(){return t.onSearchInputChange()}),Ne(),xe(4,"button",3),nt("click",function(){return t.onSearch()}),Me(5,Lx,1,0,"span",4)(6,Rx,1,0,"img",5),xe(7,"span"),Ve(8),Ut(9,"translate"),Ne()()(),Me(10,Px,2,0,"ul",6),Ne()),e&2&&(oe(2),qp("value",t.search.queryStr),te("placeholder",Gt(3,8,"search-placeholder")),Pi("ngModel",t.searchInput),oe(2),te("disabled",t.search.isLoading.value),oe(),te("ngIf",t.search.isLoading.value),oe(),te("ngIf",!t.search.isLoading.value),oe(2),Ht(Gt(9,10,"search")),oe(2),te("ngIf",t.hasAutocompleteOptions||t.autocomplete.isLoading))},dependencies:[Ui,vd,Hi,wi,Ye,J0,li]});let i=n;return i})();var Mx=Ya(o1(),1);var kd=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Sn({type:i}),i.\u0275inj=Cn({}),i})();function Ax(i,n){if(i&1&&ke(0,"app-node",2),i&2){let r=n.$implicit;te("node",r)}}var r1=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Fe({type:n,selectors:[["app-nodes-grid"]],inputs:{nodes:"nodes"},standalone:!0,features:[$e],decls:2,vars:1,consts:[[1,"grid","grid-cols-2","gap-4"],[3,"node",4,"ngFor","ngForOf"],[3,"node"]],template:function(e,t){e&1&&(xe(0,"div",0),Me(1,Ax,1,1,"app-node",1),Ne()),e&2&&(oe(),te("ngForOf",t.nodes))},dependencies:[wt,kd,nr]});let i=n;return i})();function Ox(i,n){if(i&1&&ke(0,"app-node-link",6),i&2){let r=Ee().$implicit,o=Ee();te("disabled",!0)("label",r.label)("url",r.label?void 0:r.ids[0])("suffixStr",o.getFilterOptionCountStr(r.filterHitIds.length))("shouldHighlight",!1)}}function Dx(i,n){if(i&1){let r=Ct();xe(0,"div",2)(1,"label",3)(2,"input",4),nt("click",function(){let e=xt(r).$implicit,t=Ee();return Nt(t.onFilterToggle(e.ids))}),Ne(),Me(3,Ox,1,5,"app-node-link",5),Ne()()}if(i&2){let r=n.$implicit,o=Ee();oe(2),te("checked",o.filterService.has(r.ids,o.FilterType.FieldAndValue)),oe(),te("ngIf",r.ids)}}function Fx(i,n){if(i&1){let r=Ct();xe(0,"button",7),nt("click",function(){xt(r);let e=Ee();return Nt(e.onShowMoreClicked())}),Ve(1,` Laad meer resultaten
`),Ne()}}var s1=(()=>{let n=class n{constructor(o,e){this.filterService=o,this.search=e,this.numShowing=ht.numFilterOptionsToShowDefault,this.FilterType=dt,this.formatNumber=zl,this.Config=ht}ngOnInit(){this.initResetNumShowingOnSearchResultsUpdate()}initResetNumShowingOnSearchResultsUpdate(){this.search.results.subscribe(()=>{this.numShowing=ht.numFilterOptionsToShowDefault})}onFilterToggle(o){if(!o||!this.fieldIds)return;let e=this.fieldIds.flatMap(t=>o.map(a=>({filterId:this.filterId,fieldId:t,valueId:a,type:dt.FieldAndValue})));this.filterService.toggleMultiple(e)}getFilterOptionCountStr(o){return o>=ht.elasticTopHitsMax?` (${ht.elasticTopHitsMax}+)`:` (${o})`}get hasMoreToShow(){return this.values?this.numShowing<this.values.length:!1}onShowMoreClicked(){this.numShowing+=ht.additionalFilterOptionsToShowOnClick}};n.\u0275fac=function(e){return new(e||n)(be(en),be(Dn))},n.\u0275cmp=Fe({type:n,selectors:[["app-filter-option"]],inputs:{filterId:"filterId",fieldIds:"fieldIds",values:"values"},standalone:!0,features:[$e],decls:2,vars:2,consts:[["class","form-control flex-row",4,"ngFor","ngForOf"],["class","btn btn-sm btn-neutral mt-2",3,"click",4,"ngIf"],[1,"form-control","flex-row"],[1,"label","text"],["type","checkbox",1,"checkbox","checkbox-sm","mr-4",3,"click","checked"],[3,"disabled","label","url","suffixStr","shouldHighlight",4,"ngIf"],[3,"disabled","label","url","suffixStr","shouldHighlight"],[1,"btn","btn-sm","btn-neutral","mt-2",3,"click"]],template:function(e,t){e&1&&Me(0,Dx,4,2,"div",0)(1,Fx,2,0,"button",1),e&2&&(te("ngForOf",t.values==null?null:t.values.slice(0,t.numShowing)),oe(),te("ngIf",t.hasMoreToShow))},dependencies:[wt,Mt,Ye],styles:["[_nghost-%COMP%]     app-node-link app-node-label button{color:#fff!important}"]});let i=n;return i})();function $x(i,n){if(i&1&&(xe(0,"span"),Ve(1),Ne()),i&2){let r=Ee();oe(),St(" (",r.count,") ")}}var Ld=(()=>{let n=class n{constructor(){this.FilterType=dt}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Fe({type:n,selectors:[["app-filter-count"]],inputs:{count:"count"},standalone:!0,features:[$e],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(e,t){e&1&&Me(0,$x,2,1,"span",0),e&2&&te("ngIf",t.count)},dependencies:[Ye]});let i=n;return i})();function zx(i,n){if(i&1){let r=Ct();xe(0,"div",6)(1,"label",7)(2,"input",8),nt("click",function(){let e=xt(r).$implicit,t=Ee();return Nt(t.endpoints.toggle(e))}),Ne(),Ve(3),Ne()()}if(i&2){let r,o=n.$implicit,e=Ee();oe(2),te("checked",e.endpoints.isEnabled(o)),oe(),St(" ",(r=e.endpoints.getById(o))==null?null:r.label," ")}}var a1=(()=>{let n=class n{constructor(o,e,t,a){this.endpoints=o,this.filters=e,this.search=t,this.ui=a,this.Settings=qe,this.Object=Object}};n.\u0275fac=function(e){return new(e||n)(be(An),be(en),be(Dn),be(Vi))},n.\u0275cmp=Fe({type:n,selectors:[["app-endpoints"]],standalone:!0,features:[$e],decls:8,vars:3,consts:[[1,"collapse","collapse-arrow","join-item","bg-primary","text-white","border"],["type","checkbox","name","filter-accordion",3,"ngModelChange","ngModel"],[1,"collapse-title"],[3,"count"],[1,"collapse-content","max-h-48","overflow-y-scroll","overflow-x-hidden"],["class","form-control flex-row",4,"ngFor","ngForOf"],[1,"form-control","flex-row"],[1,"label","text"],["type","checkbox",1,"checkbox","checkbox-sm","mr-4",3,"click","checked"]],template:function(e,t){e&1&&(xe(0,"div",0)(1,"input",1),Ai("ngModelChange",function(d){return Mi(t.ui.accordionExpandedStates.endpoints,d)||(t.ui.accordionExpandedStates.endpoints=d),d}),Ne(),xe(2,"div",2)(3,"span"),Ve(4,"Organisaties"),Ne(),ke(5,"app-filter-count",3),Ne(),xe(6,"div",4),Me(7,zx,4,2,"div",5),Ne()()),e&2&&(oe(),Pi("ngModel",t.ui.accordionExpandedStates.endpoints),oe(4),te("count",t.filters.getEnabledFiltersCountStr(t.endpoints.enabledIds.value.length)),oe(2),te("ngForOf",t.Object.keys(t.Settings.endpoints)))},dependencies:[wt,Ld,Ui,co,Hi,wi]});let i=n;return i})();function Bx(i,n){if(i&1){let r=Ct();xe(0,"div",5)(1,"label",6)(2,"input",7),nt("change",function(){let e=xt(r).$implicit,t=Ee();return Nt(t.onChange(e))}),Ne(),Ve(3),Ne()()}if(i&2){let r,o=n.$implicit,e=Ee();oe(2),te("checked",o===(e.sorting.current.value==null?null:e.sorting.current.value.id)),oe(),St(" ",(r=e.sorting.getById(o))==null?null:r.label," ")}}var l1=(()=>{let n=class n{constructor(o,e,t){this.sorting=o,this.filters=e,this.ui=t,this.featherChevronDown=Bl,this.Settings=qe,this.Object=Object}onChange(o){this.sorting.select(o)}};n.\u0275fac=function(e){return new(e||n)(be(Gr),be(en),be(Vi))},n.\u0275cmp=Fe({type:n,selectors:[["app-sort-select"]],standalone:!0,features:[$e],decls:7,vars:3,consts:[[1,"collapse","collapse-arrow","join-item","bg-white","text-neutral"],["type","checkbox","name","filter-accordion",3,"ngModelChange","ngModel"],[1,"collapse-title"],[1,"collapse-content","max-h-48","overflow-y-scroll","overflow-x-hidden"],["class","form-control flex-row",4,"ngFor","ngForOf"],[1,"form-control","flex-row"],[1,"label","text"],["type","radio",1,"radio","radio-sm","mr-4",3,"change","checked"]],template:function(e,t){e&1&&(xe(0,"div",0)(1,"input",1),Ai("ngModelChange",function(d){return Mi(t.ui.accordionExpandedStates.sort,d)||(t.ui.accordionExpandedStates.sort=d),d}),Ne(),xe(2,"div",2)(3,"span"),Ve(4),Ne()(),xe(5,"div",3),Me(6,Bx,4,2,"div",4),Ne()()),e&2&&(oe(),Pi("ngModel",t.ui.accordionExpandedStates.sort),oe(3),Ht(t.sorting.current.value==null?null:t.sorting.current.value.label),oe(2),te("ngForOf",t.Object.keys(t.Settings.sorting.options)))},dependencies:[wt,Ui,co,Hi,wi]});let i=n;return i})();var d1='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em)" fill="currentColor"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M448 80c8.8 0 16 7.2 16 16V415.8l-5-6.5-136-176c-4.5-5.9-11.6-9.3-19-9.3s-14.4 3.4-19 9.3L202 340.7l-30.5-42.7C167 291.7 159.8 288 152 288s-15 3.7-19.5 10.1l-80 112L48 416.3l0-.3V96c0-8.8 7.2-16 16-16H448zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm80 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"/></svg>';var c1=(()=>{let n=class n{constructor(o,e){this.ui=o,this.filters=e,this.faImage=d1}onToggle(o){let e=this.filters.onlyShowResultsWithImages.value;this.filters.onlyShowResultsWithImages.next(!e)}};n.\u0275fac=function(e){return new(e||n)(be(Vi),be(en))},n.\u0275cmp=Fe({type:n,selectors:[["app-image-filter"]],standalone:!0,features:[$e],decls:10,vars:3,consts:[[1,"collapse","collapse-arrow","join-item","bg-primary","text-white","border"],["type","checkbox","name","filter-accordion",3,"ngModelChange","ngModel"],[1,"collapse-title"],[1,"collapse-content","max-h-48","overflow-y-scroll","overflow-x-hidden"],[1,"form-control","flex-row"],[1,"label","text"],["type","checkbox","name","image-filter-radio",1,"checkbox","checkbox-sm","mr-4",3,"click","checked"]],template:function(e,t){e&1&&(xe(0,"div",0)(1,"input",1),Ai("ngModelChange",function(d){return Mi(t.ui.accordionExpandedStates.image,d)||(t.ui.accordionExpandedStates.image=d),d}),Ne(),xe(2,"div",2)(3,"span"),Ve(4),Ne()(),xe(5,"div",3)(6,"div",4)(7,"label",5)(8,"input",6),nt("click",function(d){return t.onToggle(d)}),Ne(),Ve(9," Toon alleen resultaten met afbeelding "),Ne()()()()),e&2&&(oe(),Pi("ngModel",t.ui.accordionExpandedStates.image),oe(3),St(" Alleen met afbeelding ",t.filters.onlyShowResultsWithImages.value?"(1)":""," "),oe(4),te("checked",t.filters.onlyShowResultsWithImages.value))},dependencies:[Q0,co,Hi,Ui,wi]});let i=n;return i})();var jx=i=>[i];function qx(i,n){if(i&1){let r=Ct();xe(0,"div",6)(1,"div",7)(2,"input",8),Ai("ngModelChange",function(e){xt(r);let t=Ee().$implicit,a=Ee(2);return Mi(a.ui.accordionExpandedStates[t],e)||(a.ui.accordionExpandedStates[t]=e),Nt(e)}),Ne(),xe(3,"div",9)(4,"span"),Ve(5),Ne(),ke(6,"app-filter-count",10),Ne(),xe(7,"div",11),ke(8,"app-filter-option",12),Ne()()()}if(i&2){let r=Ee().$implicit,o=Ee(2);oe(2),Pi("ngModel",o.ui.accordionExpandedStates[r]),oe(3),St(" ",o.filters.getOptionById(r).label," "),oe(),te("count",o.filters.getOptionEnabledFiltersCount(r,o.FilterType.FieldAndValue)),oe(2),te("filterId",r)("values",o.filters.getOptionById(r).values)("fieldIds",o.filters.getOptionById(r).fieldIds)}}function Vx(i,n){if(i&1&&(kt(0),Me(1,qx,9,6,"div",5),Pt()),i&2){let r=n.$implicit,o=Ee(2);oe(),te("ngIf",o.filters.shouldShow(r))}}function Hx(i,n){i&1&&(xe(0,"div",4),ke(1,"app-image-filter"),Ne())}function Ux(i,n){if(i&1&&(xe(0,"div",1),Me(1,Vx,2,1,"ng-container",2)(2,Hx,2,0,"div",3),xe(3,"div",4),ke(4,"app-endpoints"),Ne()()),i&2){let r=Ee();te("ngClass",bt(3,jx,r.settings.showingFilterPanelOnSide()?"lg:gap-1":"lg:flex-row lg:gap-2")),oe(),te("ngForOf",r.Object.keys(r.filters.options.value)),oe(),te("ngIf",r.Settings.filtering.showImageFilter)}}var h1=(()=>{let n=class n{constructor(o,e,t){this.filters=o,this.settings=e,this.ui=t,this.Object=Object,this.FilterType=dt,this.Settings=qe}ngOnInit(){}};n.\u0275fac=function(e){return new(e||n)(be(en),be(on),be(Vi))},n.\u0275cmp=Fe({type:n,selectors:[["app-filter-options"]],standalone:!0,features:[$e],decls:1,vars:1,consts:[["class","flex flex-col gap-1 mb-4",3,"ngClass",4,"ngIf"],[1,"flex","flex-col","gap-1","mb-4",3,"ngClass"],[4,"ngFor","ngForOf"],["class","w-full lg:w-auto",4,"ngIf"],[1,"w-full","lg:w-auto"],["class","w-full sm:flex-1",4,"ngIf"],[1,"w-full","sm:flex-1"],[1,"collapse","collapse-arrow","bg-primary","text-white","border"],["type","checkbox","name","filter-accordion",3,"ngModelChange","ngModel"],[1,"collapse-title"],[3,"count"],[1,"collapse-content","max-h-64","overflow-y-scroll","overflow-x-hidden"],[3,"filterId","values","fieldIds"]],template:function(e,t){e&1&&Me(0,Ux,5,5,"div",0),e&2&&te("ngIf",t.filters.options.value)},dependencies:[Ye,wt,s1,a1,Ld,Wt,Ui,co,Hi,wi,c1]});let i=n;return i})();var u1=i=>[i];function Gx(i,n){if(i&1){let r=Ct();xe(0,"div",1)(1,"button",2),nt("click",function(){xt(r);let e=Ee();return Nt(e.translate.use("en"))}),Ve(2," ENG "),Ne(),ke(3,"br"),xe(4,"button",2),nt("click",function(){xt(r);let e=Ee();return Nt(e.translate.use("nl"))}),Ve(5," NL "),Ne()()}if(i&2){let r=Ee();oe(),te("ngClass",bt(2,u1,r.translate.currentLang==="en"?"font-bold":"")),oe(3),te("ngClass",bt(4,u1,r.translate.currentLang==="nl"?"font-bold":""))}}var m1=(()=>{let n=class n{constructor(o){this.translate=o,this.Settings=qe}};n.\u0275fac=function(e){return new(e||n)(be(yi))},n.\u0275cmp=Fe({type:n,selectors:[["app-lang-switch"]],standalone:!0,features:[$e],decls:1,vars:1,consts:[["class","text-right",4,"ngIf"],[1,"text-right"],[3,"click","ngClass"]],template:function(e,t){e&1&&Me(0,Gx,6,6,"div",0),e&2&&te("ngIf",t.Settings.showLanguageToggle)},dependencies:[Wt,Ye]});let i=n;return i})();function Wx(i,n){if(i&1&&ke(0,"ng-icon",8),i&2){let r=Ee();te("svg",r.featherX)}}function Zx(i,n){i&1&&(xe(0,"span",9),Ve(1," ? "),Ne())}var ts=function(i){return i[i.ShowingColofon=0]="ShowingColofon",i[i.ShowingSearch=1]="ShowingSearch",i}(ts||{}),Rd=(()=>{let n=class n{constructor(o,e,t){this.router=o,this.url=e,this.translate=t,this.view=ts.ShowingSearch,this.featherSearch=Br,this.featherX=jl,this.HeaderView=ts}get buttonUrl(){return this.view===ts.ShowingSearch?"colofon":""}onButtonClicked(o){return Le(this,null,function*(){this.url.ignoreQueryParamChange=!0,yield this.router.navigateByUrl(o),this.url.ignoreQueryParamChange=!1})}};n.\u0275fac=function(e){return new(e||n)(be(Ot),be(ai),be(yi))},n.\u0275cmp=Fe({type:n,selectors:[["app-header"]],inputs:{view:"view"},standalone:!0,features:[$e],decls:10,vars:6,consts:[[1,"bg-neutral","rounded-b-lg","py-3","px-6","text-white","w-64","sm:w-96","mx-auto","mb-0","flex","items-center"],[1,"text-left",3,"click"],[1,"font-semibold","text-lg","sm:text-2xl","mb-2"],[1,"flex-grow"],[1,"btn","btn-primary","btn-xs","rounded-full","text-center","inline-block","w-9","sm:w-10","h-9","sm:h-10","float-right",3,"click"],[1,"text-lg","sm:text-2xl","font-light"],["class","relative top-[0.125rem] sm:right-[0.05rem] sm:top-[0.15rem]",3,"svg",4,"ngIf"],["class","relative bottom-[0.1rem]",4,"ngIf"],[1,"relative","top-[0.125rem]","sm:right-[0.05rem]","sm:top-[0.15rem]",3,"svg"],[1,"relative","bottom-[0.1rem]"]],template:function(e,t){e&1&&(xe(0,"div",0)(1,"button",1),nt("click",function(){return t.onButtonClicked("")}),xe(2,"div",2),Ve(3),Ut(4,"translate"),Ne()(),xe(5,"div",3)(6,"button",4),nt("click",function(){return t.onButtonClicked(t.buttonUrl)}),xe(7,"span",5),Me(8,Wx,1,1,"ng-icon",6)(9,Zx,2,0,"span",7),Ne()()()()),e&2&&(oe(3),St(" ",Gt(4,4,"castle-amerongen")," "),oe(3),no("aria-label",t.view===t.HeaderView.ShowingColofon?"Ga naar zoeken":"Ga naar colofon"),oe(2),te("ngIf",t.view===t.HeaderView.ShowingColofon),oe(),te("ngIf",t.view===t.HeaderView.ShowingSearch))},dependencies:[pn,Ye,li]});let i=n;return i})();var Qx=["*"],Pd=(()=>{let n=class n{constructor(o){this.drawer=o}};n.\u0275fac=function(e){return new(e||n)(be(Zr))},n.\u0275cmp=Fe({type:n,selectors:[["app-view-container"]],standalone:!0,features:[$e],ngContentSelectors:Qx,decls:2,vars:0,consts:[[1,"flex","flex-col","h-screen","max-w-[80rem]","mx-auto","relative"]],template:function(e,t){e&1&&(io(),xe(0,"div",0),Li(1),Ne())},dependencies:[pi]});let i=n;return i})();var p1=(()=>{let n=class n{constructor(o){this.router=o}};n.\u0275fac=function(e){return new(e||n)(be(Ot))},n.\u0275cmp=Fe({type:n,selectors:[["app-home-intro"]],standalone:!0,features:[$e],decls:10,vars:9,consts:[[1,"p-8","flex","flex-col-reverse","sm:flex-row","sm:gap-8","overflow-y-auto"],[1,"sm:w-[80%]","mx-auto"],[1,"text-center","text-2xl","sm:text-5xl","mb-0","sm:mb-6","font-bold"],[1,"text-primary"]],template:function(e,t){e&1&&(xe(0,"div",0)(1,"div",1)(2,"h1",2),Ve(3),Ut(4,"translate"),xe(5,"span",3),Ve(6),Ut(7,"translate"),Ne(),Ve(8),Ut(9,"translate"),Ne()()()),e&2&&(oe(3),St(" ",Gt(4,3,"discover-history-of")," "),oe(3),Ht(Gt(7,5,"castle-amerongen")),oe(2),St(" ",Gt(9,7,"on-experimental-lod-website")," "))},dependencies:[li],styles:["p[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:1.125rem;line-height:1.75rem}"]});let i=n;return i})();var Yx={5568:i=>{let{AbortController:n,AbortSignal:r}=typeof self<"u"?self:typeof window<"u"?window:void 0;i.exports=n,i.exports.AbortSignal=r,i.exports.default=n},7526:(i,n)=>{n.byteLength=function(c){var u=d(c),p=u[0],m=u[1];return 3*(p+m)/4-m},n.toByteArray=function(c){var u,p,m=d(c),g=m[0],v=m[1],x=new e(function(S,P,j){return 3*(P+j)/4-j}(0,g,v)),y=0,w=v>0?g-4:g;for(p=0;p<w;p+=4)u=o[c.charCodeAt(p)]<<18|o[c.charCodeAt(p+1)]<<12|o[c.charCodeAt(p+2)]<<6|o[c.charCodeAt(p+3)],x[y++]=u>>16&255,x[y++]=u>>8&255,x[y++]=255&u;return v===2&&(u=o[c.charCodeAt(p)]<<2|o[c.charCodeAt(p+1)]>>4,x[y++]=255&u),v===1&&(u=o[c.charCodeAt(p)]<<10|o[c.charCodeAt(p+1)]<<4|o[c.charCodeAt(p+2)]>>2,x[y++]=u>>8&255,x[y++]=255&u),x},n.fromByteArray=function(c){for(var u,p=c.length,m=p%3,g=[],v=16383,x=0,y=p-m;x<y;x+=v)g.push(s(c,x,x+v>y?y:x+v));return m===1?(u=c[p-1],g.push(r[u>>2]+r[u<<4&63]+"==")):m===2&&(u=(c[p-2]<<8)+c[p-1],g.push(r[u>>10]+r[u>>4&63]+r[u<<2&63]+"=")),g.join("")};for(var r=[],o=[],e=typeof Uint8Array<"u"?Uint8Array:Array,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=t[a],o[t.charCodeAt(a)]=a;function d(c){var u=c.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=c.indexOf("=");return p===-1&&(p=u),[p,p===u?0:4-p%4]}function s(c,u,p){for(var m,g,v=[],x=u;x<p;x+=3)m=(c[x]<<16&16711680)+(c[x+1]<<8&65280)+(255&c[x+2]),v.push(r[(g=m)>>18&63]+r[g>>12&63]+r[g>>6&63]+r[63&g]);return v.join("")}o[45]=62,o[95]=63},8287:(i,n,r)=>{let o=r(7526),e=r(251),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=s,n.SlowBuffer=function(_){return+_!=_&&(_=0),s.alloc(+_)},n.INSPECT_MAX_BYTES=50;let a=2147483647;function d(_){if(_>a)throw new RangeError('The value "'+_+'" is invalid for option "size"');let C=new Uint8Array(_);return Object.setPrototypeOf(C,s.prototype),C}function s(_,C,k){if(typeof _=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(_)}return c(_,C,k)}function c(_,C,k){if(typeof _=="string")return function(re,Se){if(typeof Se=="string"&&Se!==""||(Se="utf8"),!s.isEncoding(Se))throw new TypeError("Unknown encoding: "+Se);let ze=0|x(re,Se),Ge=d(ze),Qe=Ge.write(re,Se);return Qe!==ze&&(Ge=Ge.slice(0,Qe)),Ge}(_,C);if(ArrayBuffer.isView(_))return function(re){if(W(re,Uint8Array)){let Se=new Uint8Array(re);return g(Se.buffer,Se.byteOffset,Se.byteLength)}return m(re)}(_);if(_==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _);if(W(_,ArrayBuffer)||_&&W(_.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(W(_,SharedArrayBuffer)||_&&W(_.buffer,SharedArrayBuffer)))return g(_,C,k);if(typeof _=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let H=_.valueOf&&_.valueOf();if(H!=null&&H!==_)return s.from(H,C,k);let ie=function(re){if(s.isBuffer(re)){let Se=0|v(re.length),ze=d(Se);return ze.length===0||re.copy(ze,0,0,Se),ze}return re.length!==void 0?typeof re.length!="number"||pe(re.length)?d(0):m(re):re.type==="Buffer"&&Array.isArray(re.data)?m(re.data):void 0}(_);if(ie)return ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof _[Symbol.toPrimitive]=="function")return s.from(_[Symbol.toPrimitive]("string"),C,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _)}function u(_){if(typeof _!="number")throw new TypeError('"size" argument must be of type number');if(_<0)throw new RangeError('The value "'+_+'" is invalid for option "size"')}function p(_){return u(_),d(_<0?0:0|v(_))}function m(_){let C=_.length<0?0:0|v(_.length),k=d(C);for(let H=0;H<C;H+=1)k[H]=255&_[H];return k}function g(_,C,k){if(C<0||_.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(_.byteLength<C+(k||0))throw new RangeError('"length" is outside of buffer bounds');let H;return H=C===void 0&&k===void 0?new Uint8Array(_):k===void 0?new Uint8Array(_,C):new Uint8Array(_,C,k),Object.setPrototypeOf(H,s.prototype),H}function v(_){if(_>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|_}function x(_,C){if(s.isBuffer(_))return _.length;if(ArrayBuffer.isView(_)||W(_,ArrayBuffer))return _.byteLength;if(typeof _!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _);let k=_.length,H=arguments.length>2&&arguments[2]===!0;if(!H&&k===0)return 0;let ie=!1;for(;;)switch(C){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return ye(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*k;case"hex":return k>>>1;case"base64":return de(_).length;default:if(ie)return H?-1:ye(_).length;C=(""+C).toLowerCase(),ie=!0}}function y(_,C,k){let H=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0)<=(C>>>=0))return"";for(_||(_="utf8");;)switch(_){case"hex":return ge(this,C,k);case"utf8":case"utf-8":return I(this,C,k);case"ascii":return B(this,C,k);case"latin1":case"binary":return se(this,C,k);case"base64":return z(this,C,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,C,k);default:if(H)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),H=!0}}function w(_,C,k){let H=_[C];_[C]=_[k],_[k]=H}function S(_,C,k,H,ie){if(_.length===0)return-1;if(typeof k=="string"?(H=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),pe(k=+k)&&(k=ie?0:_.length-1),k<0&&(k=_.length+k),k>=_.length){if(ie)return-1;k=_.length-1}else if(k<0){if(!ie)return-1;k=0}if(typeof C=="string"&&(C=s.from(C,H)),s.isBuffer(C))return C.length===0?-1:P(_,C,k,H,ie);if(typeof C=="number")return C&=255,typeof Uint8Array.prototype.indexOf=="function"?ie?Uint8Array.prototype.indexOf.call(_,C,k):Uint8Array.prototype.lastIndexOf.call(_,C,k):P(_,[C],k,H,ie);throw new TypeError("val must be string, number or Buffer")}function P(_,C,k,H,ie){let re,Se=1,ze=_.length,Ge=C.length;if(H!==void 0&&((H=String(H).toLowerCase())==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(_.length<2||C.length<2)return-1;Se=2,ze/=2,Ge/=2,k/=2}function Qe(A,M){return Se===1?A[M]:A.readUInt16BE(M*Se)}if(ie){let A=-1;for(re=k;re<ze;re++)if(Qe(_,re)===Qe(C,A===-1?0:re-A)){if(A===-1&&(A=re),re-A+1===Ge)return A*Se}else A!==-1&&(re-=re-A),A=-1}else for(k+Ge>ze&&(k=ze-Ge),re=k;re>=0;re--){let A=!0;for(let M=0;M<Ge;M++)if(Qe(_,re+M)!==Qe(C,M)){A=!1;break}if(A)return re}return-1}function j(_,C,k,H){k=Number(k)||0;let ie=_.length-k;H?(H=Number(H))>ie&&(H=ie):H=ie;let re=C.length,Se;for(H>re/2&&(H=re/2),Se=0;Se<H;++Se){let ze=parseInt(C.substr(2*Se,2),16);if(pe(ze))return Se;_[k+Se]=ze}return Se}function R(_,C,k,H){return _e(ye(C,_.length-k),_,k,H)}function T(_,C,k,H){return _e(function(ie){let re=[];for(let Se=0;Se<ie.length;++Se)re.push(255&ie.charCodeAt(Se));return re}(C),_,k,H)}function q(_,C,k,H){return _e(de(C),_,k,H)}function $(_,C,k,H){return _e(function(ie,re){let Se,ze,Ge,Qe=[];for(let A=0;A<ie.length&&!((re-=2)<0);++A)Se=ie.charCodeAt(A),ze=Se>>8,Ge=Se%256,Qe.push(Ge),Qe.push(ze);return Qe}(C,_.length-k),_,k,H)}function z(_,C,k){return C===0&&k===_.length?o.fromByteArray(_):o.fromByteArray(_.slice(C,k))}function I(_,C,k){k=Math.min(_.length,k);let H=[],ie=C;for(;ie<k;){let re=_[ie],Se=null,ze=re>239?4:re>223?3:re>191?2:1;if(ie+ze<=k){let Ge,Qe,A,M;switch(ze){case 1:re<128&&(Se=re);break;case 2:Ge=_[ie+1],(192&Ge)==128&&(M=(31&re)<<6|63&Ge,M>127&&(Se=M));break;case 3:Ge=_[ie+1],Qe=_[ie+2],(192&Ge)==128&&(192&Qe)==128&&(M=(15&re)<<12|(63&Ge)<<6|63&Qe,M>2047&&(M<55296||M>57343)&&(Se=M));break;case 4:Ge=_[ie+1],Qe=_[ie+2],A=_[ie+3],(192&Ge)==128&&(192&Qe)==128&&(192&A)==128&&(M=(15&re)<<18|(63&Ge)<<12|(63&Qe)<<6|63&A,M>65535&&M<1114112&&(Se=M))}}Se===null?(Se=65533,ze=1):Se>65535&&(Se-=65536,H.push(Se>>>10&1023|55296),Se=56320|1023&Se),H.push(Se),ie+=ze}return function(re){let Se=re.length;if(Se<=Z)return String.fromCharCode.apply(String,re);let ze="",Ge=0;for(;Ge<Se;)ze+=String.fromCharCode.apply(String,re.slice(Ge,Ge+=Z));return ze}(H)}n.kMaxLength=a,s.TYPED_ARRAY_SUPPORT=function(){try{let _=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(_,C),_.foo()===42}catch{return!1}}(),s.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(_,C,k){return c(_,C,k)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(_,C,k){return function(H,ie,re){return u(H),H<=0?d(H):ie!==void 0?typeof re=="string"?d(H).fill(ie,re):d(H).fill(ie):d(H)}(_,C,k)},s.allocUnsafe=function(_){return p(_)},s.allocUnsafeSlow=function(_){return p(_)},s.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==s.prototype},s.compare=function(_,C){if(W(_,Uint8Array)&&(_=s.from(_,_.offset,_.byteLength)),W(C,Uint8Array)&&(C=s.from(C,C.offset,C.byteLength)),!s.isBuffer(_)||!s.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===C)return 0;let k=_.length,H=C.length;for(let ie=0,re=Math.min(k,H);ie<re;++ie)if(_[ie]!==C[ie]){k=_[ie],H=C[ie];break}return k<H?-1:H<k?1:0},s.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(_,C){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return s.alloc(0);let k;if(C===void 0)for(C=0,k=0;k<_.length;++k)C+=_[k].length;let H=s.allocUnsafe(C),ie=0;for(k=0;k<_.length;++k){let re=_[k];if(W(re,Uint8Array))ie+re.length>H.length?(s.isBuffer(re)||(re=s.from(re)),re.copy(H,ie)):Uint8Array.prototype.set.call(H,re,ie);else{if(!s.isBuffer(re))throw new TypeError('"list" argument must be an Array of Buffers');re.copy(H,ie)}ie+=re.length}return H},s.byteLength=x,s.prototype._isBuffer=!0,s.prototype.swap16=function(){let _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<_;C+=2)w(this,C,C+1);return this},s.prototype.swap32=function(){let _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<_;C+=4)w(this,C,C+3),w(this,C+1,C+2);return this},s.prototype.swap64=function(){let _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<_;C+=8)w(this,C,C+7),w(this,C+1,C+6),w(this,C+2,C+5),w(this,C+3,C+4);return this},s.prototype.toString=function(){let _=this.length;return _===0?"":arguments.length===0?I(this,0,_):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(_){if(!s.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||s.compare(this,_)===0},s.prototype.inspect=function(){let _="",C=n.INSPECT_MAX_BYTES;return _=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(_+=" ... "),"<Buffer "+_+">"},t&&(s.prototype[t]=s.prototype.inspect),s.prototype.compare=function(_,C,k,H,ie){if(W(_,Uint8Array)&&(_=s.from(_,_.offset,_.byteLength)),!s.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(C===void 0&&(C=0),k===void 0&&(k=_?_.length:0),H===void 0&&(H=0),ie===void 0&&(ie=this.length),C<0||k>_.length||H<0||ie>this.length)throw new RangeError("out of range index");if(H>=ie&&C>=k)return 0;if(H>=ie)return-1;if(C>=k)return 1;if(this===_)return 0;let re=(ie>>>=0)-(H>>>=0),Se=(k>>>=0)-(C>>>=0),ze=Math.min(re,Se),Ge=this.slice(H,ie),Qe=_.slice(C,k);for(let A=0;A<ze;++A)if(Ge[A]!==Qe[A]){re=Ge[A],Se=Qe[A];break}return re<Se?-1:Se<re?1:0},s.prototype.includes=function(_,C,k){return this.indexOf(_,C,k)!==-1},s.prototype.indexOf=function(_,C,k){return S(this,_,C,k,!0)},s.prototype.lastIndexOf=function(_,C,k){return S(this,_,C,k,!1)},s.prototype.write=function(_,C,k,H){if(C===void 0)H="utf8",k=this.length,C=0;else if(k===void 0&&typeof C=="string")H=C,k=this.length,C=0;else{if(!isFinite(C))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");C>>>=0,isFinite(k)?(k>>>=0,H===void 0&&(H="utf8")):(H=k,k=void 0)}let ie=this.length-C;if((k===void 0||k>ie)&&(k=ie),_.length>0&&(k<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");H||(H="utf8");let re=!1;for(;;)switch(H){case"hex":return j(this,_,C,k);case"utf8":case"utf-8":return R(this,_,C,k);case"ascii":case"latin1":case"binary":return T(this,_,C,k);case"base64":return q(this,_,C,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,_,C,k);default:if(re)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),re=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let Z=4096;function B(_,C,k){let H="";k=Math.min(_.length,k);for(let ie=C;ie<k;++ie)H+=String.fromCharCode(127&_[ie]);return H}function se(_,C,k){let H="";k=Math.min(_.length,k);for(let ie=C;ie<k;++ie)H+=String.fromCharCode(_[ie]);return H}function ge(_,C,k){let H=_.length;(!C||C<0)&&(C=0),(!k||k<0||k>H)&&(k=H);let ie="";for(let re=C;re<k;++re)ie+=N[_[re]];return ie}function ae(_,C,k){let H=_.slice(C,k),ie="";for(let re=0;re<H.length-1;re+=2)ie+=String.fromCharCode(H[re]+256*H[re+1]);return ie}function U(_,C,k){if(_%1!=0||_<0)throw new RangeError("offset is not uint");if(_+C>k)throw new RangeError("Trying to access beyond buffer length")}function ve(_,C,k,H,ie,re){if(!s.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>ie||C<re)throw new RangeError('"value" argument is out of bounds');if(k+H>_.length)throw new RangeError("Index out of range")}function O(_,C,k,H,ie){Te(C,H,ie,_,k,7);let re=Number(C&BigInt(4294967295));_[k++]=re,re>>=8,_[k++]=re,re>>=8,_[k++]=re,re>>=8,_[k++]=re;let Se=Number(C>>BigInt(32)&BigInt(4294967295));return _[k++]=Se,Se>>=8,_[k++]=Se,Se>>=8,_[k++]=Se,Se>>=8,_[k++]=Se,k}function ne(_,C,k,H,ie){Te(C,H,ie,_,k,7);let re=Number(C&BigInt(4294967295));_[k+7]=re,re>>=8,_[k+6]=re,re>>=8,_[k+5]=re,re>>=8,_[k+4]=re;let Se=Number(C>>BigInt(32)&BigInt(4294967295));return _[k+3]=Se,Se>>=8,_[k+2]=Se,Se>>=8,_[k+1]=Se,Se>>=8,_[k]=Se,k+8}function he(_,C,k,H,ie,re){if(k+H>_.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function Q(_,C,k,H,ie){return C=+C,k>>>=0,ie||he(_,0,k,4),e.write(_,C,k,H,23,4),k+4}function ue(_,C,k,H,ie){return C=+C,k>>>=0,ie||he(_,0,k,8),e.write(_,C,k,H,52,8),k+8}s.prototype.slice=function(_,C){let k=this.length;(_=~~_)<0?(_+=k)<0&&(_=0):_>k&&(_=k),(C=C===void 0?k:~~C)<0?(C+=k)<0&&(C=0):C>k&&(C=k),C<_&&(C=_);let H=this.subarray(_,C);return Object.setPrototypeOf(H,s.prototype),H},s.prototype.readUintLE=s.prototype.readUIntLE=function(_,C,k){_>>>=0,C>>>=0,k||U(_,C,this.length);let H=this[_],ie=1,re=0;for(;++re<C&&(ie*=256);)H+=this[_+re]*ie;return H},s.prototype.readUintBE=s.prototype.readUIntBE=function(_,C,k){_>>>=0,C>>>=0,k||U(_,C,this.length);let H=this[_+--C],ie=1;for(;C>0&&(ie*=256);)H+=this[_+--C]*ie;return H},s.prototype.readUint8=s.prototype.readUInt8=function(_,C){return _>>>=0,C||U(_,1,this.length),this[_]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(_,C){return _>>>=0,C||U(_,2,this.length),this[_]|this[_+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(_,C){return _>>>=0,C||U(_,2,this.length),this[_]<<8|this[_+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(_,C){return _>>>=0,C||U(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(_,C){return _>>>=0,C||U(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},s.prototype.readBigUInt64LE=D(function(_){we(_>>>=0,"offset");let C=this[_],k=this[_+7];C!==void 0&&k!==void 0||me(_,this.length-8);let H=C+256*this[++_]+65536*this[++_]+this[++_]*2**24,ie=this[++_]+256*this[++_]+65536*this[++_]+k*2**24;return BigInt(H)+(BigInt(ie)<<BigInt(32))}),s.prototype.readBigUInt64BE=D(function(_){we(_>>>=0,"offset");let C=this[_],k=this[_+7];C!==void 0&&k!==void 0||me(_,this.length-8);let H=C*2**24+65536*this[++_]+256*this[++_]+this[++_],ie=this[++_]*2**24+65536*this[++_]+256*this[++_]+k;return(BigInt(H)<<BigInt(32))+BigInt(ie)}),s.prototype.readIntLE=function(_,C,k){_>>>=0,C>>>=0,k||U(_,C,this.length);let H=this[_],ie=1,re=0;for(;++re<C&&(ie*=256);)H+=this[_+re]*ie;return ie*=128,H>=ie&&(H-=Math.pow(2,8*C)),H},s.prototype.readIntBE=function(_,C,k){_>>>=0,C>>>=0,k||U(_,C,this.length);let H=C,ie=1,re=this[_+--H];for(;H>0&&(ie*=256);)re+=this[_+--H]*ie;return ie*=128,re>=ie&&(re-=Math.pow(2,8*C)),re},s.prototype.readInt8=function(_,C){return _>>>=0,C||U(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},s.prototype.readInt16LE=function(_,C){_>>>=0,C||U(_,2,this.length);let k=this[_]|this[_+1]<<8;return 32768&k?4294901760|k:k},s.prototype.readInt16BE=function(_,C){_>>>=0,C||U(_,2,this.length);let k=this[_+1]|this[_]<<8;return 32768&k?4294901760|k:k},s.prototype.readInt32LE=function(_,C){return _>>>=0,C||U(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},s.prototype.readInt32BE=function(_,C){return _>>>=0,C||U(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},s.prototype.readBigInt64LE=D(function(_){we(_>>>=0,"offset");let C=this[_],k=this[_+7];C!==void 0&&k!==void 0||me(_,this.length-8);let H=this[_+4]+256*this[_+5]+65536*this[_+6]+(k<<24);return(BigInt(H)<<BigInt(32))+BigInt(C+256*this[++_]+65536*this[++_]+this[++_]*16777216)}),s.prototype.readBigInt64BE=D(function(_){we(_>>>=0,"offset");let C=this[_],k=this[_+7];C!==void 0&&k!==void 0||me(_,this.length-8);let H=(C<<24)+65536*this[++_]+256*this[++_]+this[++_];return(BigInt(H)<<BigInt(32))+BigInt(this[++_]*16777216+65536*this[++_]+256*this[++_]+k)}),s.prototype.readFloatLE=function(_,C){return _>>>=0,C||U(_,4,this.length),e.read(this,_,!0,23,4)},s.prototype.readFloatBE=function(_,C){return _>>>=0,C||U(_,4,this.length),e.read(this,_,!1,23,4)},s.prototype.readDoubleLE=function(_,C){return _>>>=0,C||U(_,8,this.length),e.read(this,_,!0,52,8)},s.prototype.readDoubleBE=function(_,C){return _>>>=0,C||U(_,8,this.length),e.read(this,_,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(_,C,k,H){_=+_,C>>>=0,k>>>=0,H||ve(this,_,C,k,Math.pow(2,8*k)-1,0);let ie=1,re=0;for(this[C]=255&_;++re<k&&(ie*=256);)this[C+re]=_/ie&255;return C+k},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(_,C,k,H){_=+_,C>>>=0,k>>>=0,H||ve(this,_,C,k,Math.pow(2,8*k)-1,0);let ie=k-1,re=1;for(this[C+ie]=255&_;--ie>=0&&(re*=256);)this[C+ie]=_/re&255;return C+k},s.prototype.writeUint8=s.prototype.writeUInt8=function(_,C,k){return _=+_,C>>>=0,k||ve(this,_,C,1,255,0),this[C]=255&_,C+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(_,C,k){return _=+_,C>>>=0,k||ve(this,_,C,2,65535,0),this[C]=255&_,this[C+1]=_>>>8,C+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(_,C,k){return _=+_,C>>>=0,k||ve(this,_,C,2,65535,0),this[C]=_>>>8,this[C+1]=255&_,C+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(_,C,k){return _=+_,C>>>=0,k||ve(this,_,C,4,4294967295,0),this[C+3]=_>>>24,this[C+2]=_>>>16,this[C+1]=_>>>8,this[C]=255&_,C+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(_,C,k){return _=+_,C>>>=0,k||ve(this,_,C,4,4294967295,0),this[C]=_>>>24,this[C+1]=_>>>16,this[C+2]=_>>>8,this[C+3]=255&_,C+4},s.prototype.writeBigUInt64LE=D(function(_,C=0){return O(this,_,C,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=D(function(_,C=0){return ne(this,_,C,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(_,C,k,H){if(_=+_,C>>>=0,!H){let ze=Math.pow(2,8*k-1);ve(this,_,C,k,ze-1,-ze)}let ie=0,re=1,Se=0;for(this[C]=255&_;++ie<k&&(re*=256);)_<0&&Se===0&&this[C+ie-1]!==0&&(Se=1),this[C+ie]=(_/re|0)-Se&255;return C+k},s.prototype.writeIntBE=function(_,C,k,H){if(_=+_,C>>>=0,!H){let ze=Math.pow(2,8*k-1);ve(this,_,C,k,ze-1,-ze)}let ie=k-1,re=1,Se=0;for(this[C+ie]=255&_;--ie>=0&&(re*=256);)_<0&&Se===0&&this[C+ie+1]!==0&&(Se=1),this[C+ie]=(_/re|0)-Se&255;return C+k},s.prototype.writeInt8=function(_,C,k){return _=+_,C>>>=0,k||ve(this,_,C,1,127,-128),_<0&&(_=255+_+1),this[C]=255&_,C+1},s.prototype.writeInt16LE=function(_,C,k){return _=+_,C>>>=0,k||ve(this,_,C,2,32767,-32768),this[C]=255&_,this[C+1]=_>>>8,C+2},s.prototype.writeInt16BE=function(_,C,k){return _=+_,C>>>=0,k||ve(this,_,C,2,32767,-32768),this[C]=_>>>8,this[C+1]=255&_,C+2},s.prototype.writeInt32LE=function(_,C,k){return _=+_,C>>>=0,k||ve(this,_,C,4,2147483647,-2147483648),this[C]=255&_,this[C+1]=_>>>8,this[C+2]=_>>>16,this[C+3]=_>>>24,C+4},s.prototype.writeInt32BE=function(_,C,k){return _=+_,C>>>=0,k||ve(this,_,C,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[C]=_>>>24,this[C+1]=_>>>16,this[C+2]=_>>>8,this[C+3]=255&_,C+4},s.prototype.writeBigInt64LE=D(function(_,C=0){return O(this,_,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=D(function(_,C=0){return ne(this,_,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(_,C,k){return Q(this,_,C,!0,k)},s.prototype.writeFloatBE=function(_,C,k){return Q(this,_,C,!1,k)},s.prototype.writeDoubleLE=function(_,C,k){return ue(this,_,C,!0,k)},s.prototype.writeDoubleBE=function(_,C,k){return ue(this,_,C,!1,k)},s.prototype.copy=function(_,C,k,H){if(!s.isBuffer(_))throw new TypeError("argument should be a Buffer");if(k||(k=0),H||H===0||(H=this.length),C>=_.length&&(C=_.length),C||(C=0),H>0&&H<k&&(H=k),H===k||_.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),_.length-C<H-k&&(H=_.length-C+k);let ie=H-k;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(C,k,H):Uint8Array.prototype.set.call(_,this.subarray(k,H),C),ie},s.prototype.fill=function(_,C,k,H){if(typeof _=="string"){if(typeof C=="string"?(H=C,C=0,k=this.length):typeof k=="string"&&(H=k,k=this.length),H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!s.isEncoding(H))throw new TypeError("Unknown encoding: "+H);if(_.length===1){let re=_.charCodeAt(0);(H==="utf8"&&re<128||H==="latin1")&&(_=re)}}else typeof _=="number"?_&=255:typeof _=="boolean"&&(_=Number(_));if(C<0||this.length<C||this.length<k)throw new RangeError("Out of range index");if(k<=C)return this;let ie;if(C>>>=0,k=k===void 0?this.length:k>>>0,_||(_=0),typeof _=="number")for(ie=C;ie<k;++ie)this[ie]=_;else{let re=s.isBuffer(_)?_:s.from(_,H),Se=re.length;if(Se===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(ie=0;ie<k-C;++ie)this[ie+C]=re[ie%Se]}return this};let X={};function ce(_,C,k){X[_]=class extends k{constructor(){super(),Object.defineProperty(this,"message",{value:C.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${_}]`,this.stack,delete this.name}get code(){return _}set code(H){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:H,writable:!0})}toString(){return`${this.name} [${_}]: ${this.message}`}}}function fe(_){let C="",k=_.length,H=_[0]==="-"?1:0;for(;k>=H+4;k-=3)C=`_${_.slice(k-3,k)}${C}`;return`${_.slice(0,k)}${C}`}function Te(_,C,k,H,ie,re){if(_>k||_<C){let Se=typeof C=="bigint"?"n":"",ze;throw ze=re>3?C===0||C===BigInt(0)?`>= 0${Se} and < 2${Se} ** ${8*(re+1)}${Se}`:`>= -(2${Se} ** ${8*(re+1)-1}${Se}) and < 2 ** ${8*(re+1)-1}${Se}`:`>= ${C}${Se} and <= ${k}${Se}`,new X.ERR_OUT_OF_RANGE("value",ze,_)}(function(Se,ze,Ge){we(ze,"offset"),Se[ze]!==void 0&&Se[ze+Ge]!==void 0||me(ze,Se.length-(Ge+1))})(H,ie,re)}function we(_,C){if(typeof _!="number")throw new X.ERR_INVALID_ARG_TYPE(C,"number",_)}function me(_,C,k){throw Math.floor(_)!==_?(we(_,k),new X.ERR_OUT_OF_RANGE(k||"offset","an integer",_)):C<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE(k||"offset",`>= ${k?1:0} and <= ${C}`,_)}ce("ERR_BUFFER_OUT_OF_BOUNDS",function(_){return _?`${_} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ce("ERR_INVALID_ARG_TYPE",function(_,C){return`The "${_}" argument must be of type number. Received type ${typeof C}`},TypeError),ce("ERR_OUT_OF_RANGE",function(_,C,k){let H=`The value of "${_}" is out of range.`,ie=k;return Number.isInteger(k)&&Math.abs(k)>4294967296?ie=fe(String(k)):typeof k=="bigint"&&(ie=String(k),(k>BigInt(2)**BigInt(32)||k<-(BigInt(2)**BigInt(32)))&&(ie=fe(ie)),ie+="n"),H+=` It must be ${C}. Received ${ie}`,H},RangeError);let G=/[^+/0-9A-Za-z-_]/g;function ye(_,C){let k;C=C||1/0;let H=_.length,ie=null,re=[];for(let Se=0;Se<H;++Se){if(k=_.charCodeAt(Se),k>55295&&k<57344){if(!ie){if(k>56319){(C-=3)>-1&&re.push(239,191,189);continue}if(Se+1===H){(C-=3)>-1&&re.push(239,191,189);continue}ie=k;continue}if(k<56320){(C-=3)>-1&&re.push(239,191,189),ie=k;continue}k=65536+(ie-55296<<10|k-56320)}else ie&&(C-=3)>-1&&re.push(239,191,189);if(ie=null,k<128){if((C-=1)<0)break;re.push(k)}else if(k<2048){if((C-=2)<0)break;re.push(k>>6|192,63&k|128)}else if(k<65536){if((C-=3)<0)break;re.push(k>>12|224,k>>6&63|128,63&k|128)}else{if(!(k<1114112))throw new Error("Invalid code point");if((C-=4)<0)break;re.push(k>>18|240,k>>12&63|128,k>>6&63|128,63&k|128)}}return re}function de(_){return o.toByteArray(function(C){if((C=(C=C.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;C.length%4!=0;)C+="=";return C}(_))}function _e(_,C,k,H){let ie;for(ie=0;ie<H&&!(ie+k>=C.length||ie>=_.length);++ie)C[ie+k]=_[ie];return ie}function W(_,C){return _ instanceof C||_!=null&&_.constructor!=null&&_.constructor.name!=null&&_.constructor.name===C.name}function pe(_){return _!=_}let N=function(){let _="0123456789abcdef",C=new Array(256);for(let k=0;k<16;++k){let H=16*k;for(let ie=0;ie<16;++ie)C[H+ie]=_[k]+_[ie]}return C}();function D(_){return typeof BigInt>"u"?Y:_}function Y(){throw new Error("BigInt not supported")}},2341:i=>{i.exports=function n(r){return r===null||typeof r!="object"||r.toJSON!=null?JSON.stringify(r):Array.isArray(r)?"["+r.reduce((o,e,t)=>o+(t===0?"":",")+n(e===void 0||typeof e=="symbol"?null:e),"")+"]":"{"+Object.keys(r).sort().reduce((o,e,t)=>r[e]===void 0||typeof r[e]=="symbol"?o:o+(o.length===0?"":",")+n(e)+":"+n(r[e]),"")+"}"}},7833:(i,n,r)=>{n.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+i.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let a=0,d=0;e[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(a++,s==="%c"&&(d=a))}),e.splice(d,0,t)},n.save=function(e){try{e?n.storage.setItem("debug",e):n.storage.removeItem("debug")}catch{}},n.load=function(){let e;try{e=n.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e},n.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer"&&!window.process.__nwjs)||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage=function(){try{return localStorage}catch{}}(),n.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.log=console.debug||console.log||(()=>{}),i.exports=r(736)(n);let{formatters:o}=i.exports;o.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},736:(i,n,r)=>{i.exports=function(o){function e(d){let s,c,u,p=null;function m(...g){if(!m.enabled)return;let v=m,x=Number(new Date),y=x-(s||x);v.diff=y,v.prev=s,v.curr=x,s=x,g[0]=e.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let w=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(S,P)=>{if(S==="%%")return"%";w++;let j=e.formatters[P];if(typeof j=="function"){let R=g[w];S=j.call(v,R),g.splice(w,1),w--}return S}),e.formatArgs.call(v,g),(v.log||e.log).apply(v,g)}return m.namespace=d,m.useColors=e.useColors(),m.color=e.selectColor(d),m.extend=t,m.destroy=e.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(c!==e.namespaces&&(c=e.namespaces,u=e.enabled(d)),u),set:g=>{p=g}}),typeof e.init=="function"&&e.init(m),m}function t(d,s){let c=e(this.namespace+(s===void 0?":":s)+d);return c.log=this.log,c}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(d){return d instanceof Error?d.stack||d.message:d},e.disable=function(){let d=[...e.names.map(a),...e.skips.map(a).map(s=>"-"+s)].join(",");return e.enable(""),d},e.enable=function(d){let s;e.save(d),e.namespaces=d,e.names=[],e.skips=[];let c=(typeof d=="string"?d:"").split(/[\s,]+/),u=c.length;for(s=0;s<u;s++)c[s]&&((d=c[s].replace(/\*/g,".*?"))[0]==="-"?e.skips.push(new RegExp("^"+d.slice(1)+"$")):e.names.push(new RegExp("^"+d+"$")))},e.enabled=function(d){if(d[d.length-1]==="*")return!0;let s,c;for(s=0,c=e.skips.length;s<c;s++)if(e.skips[s].test(d))return!1;for(s=0,c=e.names.length;s<c;s++)if(e.names[s].test(d))return!0;return!1},e.humanize=r(6585),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(o).forEach(d=>{e[d]=o[d]}),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(d){let s=0;for(let c=0;c<d.length;c++)s=(s<<5)-s+d.charCodeAt(c),s|=0;return e.colors[Math.abs(s)%e.colors.length]},e.enable(e.load()),e}},7007:i=>{var n,r=typeof Reflect=="object"?Reflect:null,o=r&&typeof r.apply=="function"?r.apply:function(y,w,S){return Function.prototype.apply.call(y,w,S)};n=r&&typeof r.ownKeys=="function"?r.ownKeys:Object.getOwnPropertySymbols?function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:function(y){return Object.getOwnPropertyNames(y)};var e=Number.isNaN||function(y){return y!=y};function t(){t.init.call(this)}i.exports=t,i.exports.once=function(y,w){return new Promise(function(S,P){function j(T){y.removeListener(w,R),P(T)}function R(){typeof y.removeListener=="function"&&y.removeListener("error",j),S([].slice.call(arguments))}x(y,w,R,{once:!0}),w!=="error"&&function(T,q,$){typeof T.on=="function"&&x(T,"error",q,{once:!0})}(y,j)})},t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var a=10;function d(y){if(typeof y!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof y)}function s(y){return y._maxListeners===void 0?t.defaultMaxListeners:y._maxListeners}function c(y,w,S,P){var j,R,T,q;if(d(S),(R=y._events)===void 0?(R=y._events=Object.create(null),y._eventsCount=0):(R.newListener!==void 0&&(y.emit("newListener",w,S.listener?S.listener:S),R=y._events),T=R[w]),T===void 0)T=R[w]=S,++y._eventsCount;else if(typeof T=="function"?T=R[w]=P?[S,T]:[T,S]:P?T.unshift(S):T.push(S),(j=s(y))>0&&T.length>j&&!T.warned){T.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+T.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=y,$.type=w,$.count=T.length,q=$,console&&console.warn&&console.warn(q)}return y}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(y,w,S){var P={fired:!1,wrapFn:void 0,target:y,type:w,listener:S},j=u.bind(P);return j.listener=S,P.wrapFn=j,j}function m(y,w,S){var P=y._events;if(P===void 0)return[];var j=P[w];return j===void 0?[]:typeof j=="function"?S?[j.listener||j]:[j]:S?function(R){for(var T=new Array(R.length),q=0;q<T.length;++q)T[q]=R[q].listener||R[q];return T}(j):v(j,j.length)}function g(y){var w=this._events;if(w!==void 0){var S=w[y];if(typeof S=="function")return 1;if(S!==void 0)return S.length}return 0}function v(y,w){for(var S=new Array(w),P=0;P<w;++P)S[P]=y[P];return S}function x(y,w,S,P){if(typeof y.on=="function")P.once?y.once(w,S):y.on(w,S);else{if(typeof y.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof y);y.addEventListener(w,function j(R){P.once&&y.removeEventListener(w,j),S(R)})}}Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(y){if(typeof y!="number"||y<0||e(y))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+y+".");a=y}}),t.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(y){if(typeof y!="number"||y<0||e(y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+y+".");return this._maxListeners=y,this},t.prototype.getMaxListeners=function(){return s(this)},t.prototype.emit=function(y){for(var w=[],S=1;S<arguments.length;S++)w.push(arguments[S]);var P=y==="error",j=this._events;if(j!==void 0)P=P&&j.error===void 0;else if(!P)return!1;if(P){var R;if(w.length>0&&(R=w[0]),R instanceof Error)throw R;var T=new Error("Unhandled error."+(R?" ("+R.message+")":""));throw T.context=R,T}var q=j[y];if(q===void 0)return!1;if(typeof q=="function")o(q,this,w);else{var $=q.length,z=v(q,$);for(S=0;S<$;++S)o(z[S],this,w)}return!0},t.prototype.addListener=function(y,w){return c(this,y,w,!1)},t.prototype.on=t.prototype.addListener,t.prototype.prependListener=function(y,w){return c(this,y,w,!0)},t.prototype.once=function(y,w){return d(w),this.on(y,p(this,y,w)),this},t.prototype.prependOnceListener=function(y,w){return d(w),this.prependListener(y,p(this,y,w)),this},t.prototype.removeListener=function(y,w){var S,P,j,R,T;if(d(w),(P=this._events)===void 0)return this;if((S=P[y])===void 0)return this;if(S===w||S.listener===w)--this._eventsCount==0?this._events=Object.create(null):(delete P[y],P.removeListener&&this.emit("removeListener",y,S.listener||w));else if(typeof S!="function"){for(j=-1,R=S.length-1;R>=0;R--)if(S[R]===w||S[R].listener===w){T=S[R].listener,j=R;break}if(j<0)return this;j===0?S.shift():function(q,$){for(;$+1<q.length;$++)q[$]=q[$+1];q.pop()}(S,j),S.length===1&&(P[y]=S[0]),P.removeListener!==void 0&&this.emit("removeListener",y,T||w)}return this},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(y){var w,S,P;if((S=this._events)===void 0)return this;if(S.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):S[y]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete S[y]),this;if(arguments.length===0){var j,R=Object.keys(S);for(P=0;P<R.length;++P)(j=R[P])!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(w=S[y])=="function")this.removeListener(y,w);else if(w!==void 0)for(P=w.length-1;P>=0;P--)this.removeListener(y,w[P]);return this},t.prototype.listeners=function(y){return m(this,y,!0)},t.prototype.rawListeners=function(y){return m(this,y,!1)},t.listenerCount=function(y,w){return typeof y.listenerCount=="function"?y.listenerCount(w):g.call(y,w)},t.prototype.listenerCount=g,t.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},251:(i,n)=>{n.read=function(r,o,e,t,a){var d,s,c=8*a-t-1,u=(1<<c)-1,p=u>>1,m=-7,g=e?a-1:0,v=e?-1:1,x=r[o+g];for(g+=v,d=x&(1<<-m)-1,x>>=-m,m+=c;m>0;d=256*d+r[o+g],g+=v,m-=8);for(s=d&(1<<-m)-1,d>>=-m,m+=t;m>0;s=256*s+r[o+g],g+=v,m-=8);if(d===0)d=1-p;else{if(d===u)return s?NaN:1/0*(x?-1:1);s+=Math.pow(2,t),d-=p}return(x?-1:1)*s*Math.pow(2,d-t)},n.write=function(r,o,e,t,a,d){var s,c,u,p=8*d-a-1,m=(1<<p)-1,g=m>>1,v=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=t?0:d-1,y=t?1:-1,w=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(c=isNaN(o)?1:0,s=m):(s=Math.floor(Math.log(o)/Math.LN2),o*(u=Math.pow(2,-s))<1&&(s--,u*=2),(o+=s+g>=1?v/u:v*Math.pow(2,1-g))*u>=2&&(s++,u/=2),s+g>=m?(c=0,s=m):s+g>=1?(c=(o*u-1)*Math.pow(2,a),s+=g):(c=o*Math.pow(2,g-1)*Math.pow(2,a),s=0));a>=8;r[e+x]=255&c,x+=y,c/=256,a-=8);for(s=s<<a|c,p+=a;p>0;r[e+x]=255&s,x+=y,s/=256,p-=8);r[e+x-y]|=128*w}},7034:(i,n,r)=>{let{isArray:o,isObject:e,isString:t}=r(7382),{asArray:a}=r(9263),{prependBase:d}=r(470),s=r(2207),c=r(7532);function u(m){throw new s("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:m})}function p({context:m,base:g}){if(!m)return;let v=m["@context"];if(t(v))m["@context"]=d(g,v);else if(o(v))for(let x=0;x<v.length;++x){let y=v[x];t(y)?v[x]=d(g,y):e(y)&&p({context:{"@context":y},base:g})}else if(e(v))for(let x in v)p({context:v[x],base:g})}i.exports=class{constructor({sharedCache:m}){this.perOpCache=new Map,this.sharedCache=m}resolve(w){return Le(this,arguments,function*({activeCtx:m,context:g,documentLoader:v,base:x,cycles:y=new Set}){g&&e(g)&&g["@context"]&&(g=g["@context"]),g=a(g);let S=[];for(let P of g){if(t(P)){let T=this._get(P);T||(T=yield this._resolveRemoteContext({activeCtx:m,url:P,documentLoader:v,base:x,cycles:y})),o(T)?S.push(...T):S.push(T);continue}if(P===null){S.push(new c({document:null}));continue}e(P)||u(g);let j=JSON.stringify(P),R=this._get(j);R||(R=new c({document:P}),this._cacheResolvedContext({key:j,resolved:R,tag:"static"})),S.push(R)}return S})}_get(m){let g=this.perOpCache.get(m);if(!g){let v=this.sharedCache.get(m);v&&(g=v.get("static"),g&&this.perOpCache.set(m,g))}return g}_cacheResolvedContext({key:m,resolved:g,tag:v}){if(this.perOpCache.set(m,g),v!==void 0){let x=this.sharedCache.get(m);x||(x=new Map,this.sharedCache.set(m,x)),x.set(v,g)}return g}_resolveRemoteContext(w){return Le(this,arguments,function*({activeCtx:m,url:g,documentLoader:v,base:x,cycles:y}){g=d(x,g);let{context:S,remoteDoc:P}=yield this._fetchContext({activeCtx:m,url:g,documentLoader:v,cycles:y});p({context:S,base:x=P.documentUrl||g});let j=yield this.resolve({activeCtx:m,context:S,documentLoader:v,base:x,cycles:y});return this._cacheResolvedContext({key:g,resolved:j,tag:P.tag}),j})}_fetchContext(y){return Le(this,arguments,function*({activeCtx:m,url:g,documentLoader:v,cycles:x}){if(x.size>10)throw new s("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:m.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:10});if(x.has(g))throw new s("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:m.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:g});let w,S;x.add(g);try{S=yield v(g),w=S.document||null,t(w)&&(w=JSON.parse(w))}catch(P){throw new s("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:g,cause:P})}if(!e(w))throw new s("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:g});return w="@context"in w?{"@context":w["@context"]}:{"@context":{}},S.contextUrl&&(o(w["@context"])||(w["@context"]=[w["@context"]]),w["@context"].push(S.contextUrl)),{context:w,remoteDoc:S}})}}},2207:i=>{i.exports=class extends Error{constructor(n="An unspecified JSON-LD error occurred.",r="jsonld.Error",o={}){super(n),this.name=r,this.message=n,this.details=o}}},5445:i=>{i.exports=n=>{class r{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(r,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(r.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:r}),r.compact=function(o,e){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):n.compact(o,e)},r.expand=function(o){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):n.expand(o)},r.flatten=function(o){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):n.flatten(o)},r}},8229:(i,n,r)=>{i.exports=r(989).NQuads},3743:i=>{i.exports=class{constructor(){this._requests={}}wrapLoader(n){let r=this;return r._loader=n,function(){return r.add.apply(r,arguments)}}add(n){return Le(this,null,function*(){let r=this._requests[n];if(r)return Promise.resolve(r);r=this._requests[n]=this._loader(n);try{return yield r}finally{delete this._requests[n]}})}}},7532:(i,n,r)=>{let o=r(9749);i.exports=class{constructor({document:e}){this.document=e,this.cache=new o({max:10})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},1058:(i,n,r)=>{let o=r(2207),{isArray:e,isObject:t,isString:a,isUndefined:d}=r(7382),{isList:s,isValue:c,isGraph:u,isSimpleGraph:p,isSubjectReference:m}=r(3978),{expandIri:g,getContextValue:v,isKeyword:x,process:y,processingMode:w}=r(1972),{removeBase:S,prependBase:P}=r(470),{REGEX_KEYWORD:j,addValue:R,asArray:T,compareShortestLeast:q}=r(9263),$={};function z(I,Z,B){if(g(I,Z,{vocab:!0},B)!=="@nest")throw new o("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}i.exports=$,$.compact=ge=>Le(void 0,[ge],function*({activeCtx:I,activeProperty:Z=null,element:B,options:se={}}){if(e(B)){let U=[];for(let ve=0;ve<B.length;++ve){let O=yield $.compact({activeCtx:I,activeProperty:Z,element:B[ve],options:se});O!==null&&U.push(O)}return se.compactArrays&&U.length===1&&(v(I,Z,"@container")||[]).length===0&&(U=U[0]),U}let ae=v(I,Z,"@context");if(d(ae)||(I=yield y({activeCtx:I,localCtx:ae,propagate:!0,overrideProtected:!0,options:se})),t(B)){if(se.link&&"@id"in B&&se.link.hasOwnProperty(B["@id"])){let X=se.link[B["@id"]];for(let ce=0;ce<X.length;++ce)if(X[ce].expanded===B)return X[ce].compacted}if(c(B)||m(B)){let X=$.compactValue({activeCtx:I,activeProperty:Z,value:B,options:se});return se.link&&m(B)&&(se.link.hasOwnProperty(B["@id"])||(se.link[B["@id"]]=[]),se.link[B["@id"]].push({expanded:B,compacted:X})),X}if(s(B)&&(v(I,Z,"@container")||[]).includes("@list"))return $.compact({activeCtx:I,activeProperty:Z,element:B["@list"],options:se});let U=Z==="@reverse",ve={},O=I;c(B)||m(B)||(I=I.revertToPreviousContext());let ne=v(O,Z,"@context");d(ne)||(I=yield y({activeCtx:I,localCtx:ne,propagate:!0,overrideProtected:!0,options:se})),se.link&&"@id"in B&&(se.link.hasOwnProperty(B["@id"])||(se.link[B["@id"]]=[]),se.link[B["@id"]].push({expanded:B,compacted:ve}));let he=B["@type"]||[];he.length>1&&(he=Array.from(he).sort());let Q=I;for(let X of he){let ce=$.compactIri({activeCtx:Q,iri:X,relativeTo:{vocab:!0}}),fe=v(O,ce,"@context");d(fe)||(I=yield y({activeCtx:I,localCtx:fe,options:se,propagate:!1}))}let ue=Object.keys(B).sort();for(let X of ue){let ce=B[X];if(X!=="@id")if(X!=="@type")if(X!=="@reverse")if(X!=="@preserve")if(X!=="@index")if(X!=="@graph"&&X!=="@list"&&X!=="@included"&&x(X)){let fe=$.compactIri({activeCtx:I,iri:X,relativeTo:{vocab:!0}});R(ve,fe,ce)}else{if(!e(ce))throw new o("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(ce.length===0){let fe=$.compactIri({activeCtx:I,iri:X,value:ce,relativeTo:{vocab:!0},reverse:U}),Te=I.mappings.has(fe)?I.mappings.get(fe)["@nest"]:null,we=ve;Te&&(z(I,Te,se),t(ve[Te])||(ve[Te]={}),we=ve[Te]),R(we,fe,ce,{propertyIsArray:!0})}for(let fe of ce){let Te=$.compactIri({activeCtx:I,iri:X,value:fe,relativeTo:{vocab:!0},reverse:U}),we=I.mappings.has(Te)?I.mappings.get(Te)["@nest"]:null,me=ve;we&&(z(I,we,se),t(ve[we])||(ve[we]={}),me=ve[we]);let G=v(I,Te,"@container")||[],ye=u(fe),de=s(fe),_e;de?_e=fe["@list"]:ye&&(_e=fe["@graph"]);let W=yield $.compact({activeCtx:I,activeProperty:Te,element:de||ye?_e:fe,options:se});if(de){if(e(W)||(W=[W]),G.includes("@list")){R(me,Te,W,{valueIsArray:!0,allowDuplicate:!0});continue}W={[$.compactIri({activeCtx:I,iri:"@list",relativeTo:{vocab:!0}})]:W},"@index"in fe&&(W[$.compactIri({activeCtx:I,iri:"@index",relativeTo:{vocab:!0}})]=fe["@index"])}if(ye)if(G.includes("@graph")&&(G.includes("@id")||G.includes("@index")&&p(fe))){let pe;me.hasOwnProperty(Te)?pe=me[Te]:me[Te]=pe={};let N=(G.includes("@id")?fe["@id"]:fe["@index"])||$.compactIri({activeCtx:I,iri:"@none",relativeTo:{vocab:!0}});R(pe,N,W,{propertyIsArray:!se.compactArrays||G.includes("@set")})}else G.includes("@graph")&&p(fe)?(e(W)&&W.length>1&&(W={"@included":W}),R(me,Te,W,{propertyIsArray:!se.compactArrays||G.includes("@set")})):(e(W)&&W.length===1&&se.compactArrays&&(W=W[0]),W={[$.compactIri({activeCtx:I,iri:"@graph",relativeTo:{vocab:!0}})]:W},"@id"in fe&&(W[$.compactIri({activeCtx:I,iri:"@id",relativeTo:{vocab:!0}})]=fe["@id"]),"@index"in fe&&(W[$.compactIri({activeCtx:I,iri:"@index",relativeTo:{vocab:!0}})]=fe["@index"]),R(me,Te,W,{propertyIsArray:!se.compactArrays||G.includes("@set")}));else if(G.includes("@language")||G.includes("@index")||G.includes("@id")||G.includes("@type")){let pe,N;if(me.hasOwnProperty(Te)?pe=me[Te]:me[Te]=pe={},G.includes("@language"))c(W)&&(W=W["@value"]),N=fe["@language"];else if(G.includes("@index")){let D=v(I,Te,"@index")||"@index",Y=$.compactIri({activeCtx:I,iri:D,relativeTo:{vocab:!0}});if(D==="@index")N=fe["@index"],delete W[Y];else{let _;if([N,..._]=T(W[D]||[]),a(N))switch(_.length){case 0:delete W[D];break;case 1:W[D]=_[0];break;default:W[D]=_}else N=null}}else if(G.includes("@id")){let D=$.compactIri({activeCtx:I,iri:"@id",relativeTo:{vocab:!0}});N=W[D],delete W[D]}else if(G.includes("@type")){let D=$.compactIri({activeCtx:I,iri:"@type",relativeTo:{vocab:!0}}),Y;switch([N,...Y]=T(W[D]||[]),Y.length){case 0:delete W[D];break;case 1:W[D]=Y[0];break;default:W[D]=Y}Object.keys(W).length===1&&"@id"in fe&&(W=yield $.compact({activeCtx:I,activeProperty:Te,element:{"@id":fe["@id"]},options:se}))}N||(N=$.compactIri({activeCtx:I,iri:"@none",relativeTo:{vocab:!0}})),R(pe,N,W,{propertyIsArray:G.includes("@set")})}else{let pe=!se.compactArrays||G.includes("@set")||G.includes("@list")||e(W)&&W.length===0||X==="@list"||X==="@graph";R(me,Te,W,{propertyIsArray:pe})}}}else{if((v(I,Z,"@container")||[]).includes("@index"))continue;let fe=$.compactIri({activeCtx:I,iri:X,relativeTo:{vocab:!0}});R(ve,fe,ce)}else{let fe=yield $.compact({activeCtx:I,activeProperty:Z,element:ce,options:se});e(fe)&&fe.length===0||R(ve,X,fe)}else{let fe=yield $.compact({activeCtx:I,activeProperty:"@reverse",element:ce,options:se});for(let Te in fe)if(I.mappings.has(Te)&&I.mappings.get(Te).reverse){let we=fe[Te],me=(v(I,Te,"@container")||[]).includes("@set")||!se.compactArrays;R(ve,Te,we,{propertyIsArray:me}),delete fe[Te]}if(Object.keys(fe).length>0){let Te=$.compactIri({activeCtx:I,iri:X,relativeTo:{vocab:!0}});R(ve,Te,fe)}}else{let fe=T(ce).map(me=>$.compactIri({activeCtx:O,iri:me,relativeTo:{vocab:!0}}));fe.length===1&&(fe=fe[0]);let Te=$.compactIri({activeCtx:I,iri:"@type",relativeTo:{vocab:!0}}),we=(v(I,Te,"@container")||[]).includes("@set")&&w(I,1.1)||e(fe)&&ce.length===0;R(ve,Te,fe,{propertyIsArray:we})}else{let fe=T(ce).map(Te=>$.compactIri({activeCtx:I,iri:Te,relativeTo:{vocab:!1},base:se.base}));fe.length===1&&(fe=fe[0]),ve[$.compactIri({activeCtx:I,iri:"@id",relativeTo:{vocab:!0}})]=fe}}return ve}return B}),$.compactIri=({activeCtx:I,iri:Z,value:B=null,relativeTo:se={vocab:!1},reverse:ge=!1,base:ae=null})=>{if(Z===null)return Z;I.isPropertyTermScoped&&I.previousContext&&(I=I.previousContext);let U=I.getInverse();if(x(Z)&&Z in U&&"@none"in U[Z]&&"@type"in U[Z]["@none"]&&"@none"in U[Z]["@none"]["@type"])return U[Z]["@none"]["@type"]["@none"];if(se.vocab&&Z in U){let Q=I["@language"]||"@none",ue=[];t(B)&&"@index"in B&&!("@graph"in B)&&ue.push("@index","@index@set"),t(B)&&"@preserve"in B&&(B=B["@preserve"][0]),u(B)?("@index"in B&&ue.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in B&&ue.push("@graph@id","@graph@id@set"),ue.push("@graph","@graph@set","@set"),"@index"in B||ue.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in B||ue.push("@graph@id","@graph@id@set")):t(B)&&!c(B)&&ue.push("@id","@id@set","@type","@set@type");let X="@language",ce="@null";if(ge)X="@type",ce="@reverse",ue.push("@set");else if(s(B)){"@index"in B||ue.push("@list");let Te=B["@list"];if(Te.length===0)X="@any",ce="@none";else{let we=Te.length===0?Q:null,me=null;for(let G=0;G<Te.length;++G){let ye=Te[G],de="@none",_e="@none";if(c(ye)?"@direction"in ye?de=`${(ye["@language"]||"").toLowerCase()}_${ye["@direction"]}`:"@language"in ye?de=ye["@language"].toLowerCase():"@type"in ye?_e=ye["@type"]:de="@null":_e="@id",we===null?we=de:de!==we&&c(ye)&&(we="@none"),me===null?me=_e:_e!==me&&(me="@none"),we==="@none"&&me==="@none")break}we=we||"@none",me=me||"@none",me!=="@none"?(X="@type",ce=me):ce=we}}else{if(c(B))if("@language"in B&&!("@index"in B)){ue.push("@language","@language@set"),ce=B["@language"];let Te=B["@direction"];Te&&(ce=`${ce}_${Te}`)}else"@direction"in B&&!("@index"in B)?ce=`_${B["@direction"]}`:"@type"in B&&(X="@type",ce=B["@type"]);else X="@type",ce="@id";ue.push("@set")}ue.push("@none"),t(B)&&!("@index"in B)&&ue.push("@index","@index@set"),c(B)&&Object.keys(B).length===1&&ue.push("@language","@language@set");let fe=function(Te,we,me,G,ye,de){de===null&&(de="@null");let _e=[];if((de==="@id"||de==="@reverse")&&t(me)&&"@id"in me){de==="@reverse"&&_e.push("@reverse");let pe=$.compactIri({activeCtx:Te,iri:me["@id"],relativeTo:{vocab:!0}});Te.mappings.has(pe)&&Te.mappings.get(pe)&&Te.mappings.get(pe)["@id"]===me["@id"]?_e.push.apply(_e,["@vocab","@id"]):_e.push.apply(_e,["@id","@vocab"])}else{_e.push(de);let pe=_e.find(N=>N.includes("_"));pe&&_e.push(pe.replace(/^[^_]+_/,"_"))}_e.push("@none");let W=Te.inverse[we];for(let pe of G){if(!(pe in W))continue;let N=W[pe][ye];for(let D of _e)if(D in N)return N[D]}return null}(I,Z,B,ue,X,ce);if(fe!==null)return fe}if(se.vocab&&"@vocab"in I){let Q=I["@vocab"];if(Z.indexOf(Q)===0&&Z!==Q){let ue=Z.substr(Q.length);if(!I.mappings.has(ue))return ue}}let ve=null,O=[],ne=I.fastCurieMap,he=Z.length-1;for(let Q=0;Q<he&&Z[Q]in ne;++Q)ne=ne[Z[Q]],""in ne&&O.push(ne[""][0]);for(let Q=O.length-1;Q>=0;--Q){let ue=O[Q],X=ue.terms;for(let ce of X){let fe=ce+":"+Z.substr(ue.iri.length);I.mappings.get(ce)._prefix&&(!I.mappings.has(fe)||B===null&&I.mappings.get(fe)["@id"]===Z)&&(ve===null||q(fe,ve)<0)&&(ve=fe)}}if(ve!==null)return ve;for(let[Q,ue]of I.mappings)if(ue&&ue._prefix&&Z.startsWith(Q+":"))throw new o(`Absolute IRI "${Z}" confused with prefix "${Q}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:I});if(!se.vocab){if("@base"in I){if(I["@base"]){let Q=S(P(ae,I["@base"]),Z);return j.test(Q)?`./${Q}`:Q}return Z}return S(ae,Z)}return Z},$.compactValue=({activeCtx:I,activeProperty:Z,value:B,options:se})=>{if(c(B)){let ve=v(I,Z,"@type"),O=v(I,Z,"@language"),ne=v(I,Z,"@direction"),he=v(I,Z,"@container")||[],Q="@index"in B&&!he.includes("@index");if(!Q&&ve!=="@none"&&(B["@type"]===ve||"@language"in B&&B["@language"]===O&&"@direction"in B&&B["@direction"]===ne||"@language"in B&&B["@language"]===O||"@direction"in B&&B["@direction"]===ne))return B["@value"];let ue=Object.keys(B).length,X=ue===1||ue===2&&"@index"in B&&!Q,ce="@language"in I,fe=a(B["@value"]),Te=I.mappings.has(Z)&&I.mappings.get(Z)["@language"]===null;if(X&&ve!=="@none"&&(!ce||!fe||Te))return B["@value"];let we={};return Q&&(we[$.compactIri({activeCtx:I,iri:"@index",relativeTo:{vocab:!0}})]=B["@index"]),"@type"in B?we[$.compactIri({activeCtx:I,iri:"@type",relativeTo:{vocab:!0}})]=$.compactIri({activeCtx:I,iri:B["@type"],relativeTo:{vocab:!0}}):"@language"in B&&(we[$.compactIri({activeCtx:I,iri:"@language",relativeTo:{vocab:!0}})]=B["@language"]),"@direction"in B&&(we[$.compactIri({activeCtx:I,iri:"@direction",relativeTo:{vocab:!0}})]=B["@direction"]),we[$.compactIri({activeCtx:I,iri:"@value",relativeTo:{vocab:!0}})]=B["@value"],we}let ge=g(I,Z,{vocab:!0},se),ae=v(I,Z,"@type"),U=$.compactIri({activeCtx:I,iri:B["@id"],relativeTo:{vocab:ae==="@vocab"},base:se.base});return ae==="@id"||ae==="@vocab"||ge==="@graph"?U:{[$.compactIri({activeCtx:I,iri:"@id",relativeTo:{vocab:!0}})]:U}}},9378:i=>{let n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r="http://www.w3.org/2001/XMLSchema#";i.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:n,RDF_LIST:n+"List",RDF_FIRST:n+"first",RDF_REST:n+"rest",RDF_NIL:n+"nil",RDF_TYPE:n+"type",RDF_PLAIN_LITERAL:n+"PlainLiteral",RDF_XML_LITERAL:n+"XMLLiteral",RDF_JSON_LITERAL:n+"JSON",RDF_OBJECT:n+"object",RDF_LANGSTRING:n+"langString",XSD:r,XSD_BOOLEAN:r+"boolean",XSD_DOUBLE:r+"double",XSD_INTEGER:r+"integer",XSD_STRING:r+"string"}},1972:(i,n,r)=>{let o=r(9263),e=r(2207),{isArray:t,isObject:a,isString:d,isUndefined:s}=r(7382),{isAbsolute:c,isRelative:u,prependBase:p}=r(470),{handleEvent:m}=r(2246),{REGEX_BCP47:g,REGEX_KEYWORD:v,asArray:x,compareShortestLeast:y}=r(9263),w=new Map,S={};function P(R,T,q,$,z,I){if(T===null||!d(T)||S.isKeyword(T))return T;if(T.match(v))return null;if($&&$.hasOwnProperty(T)&&z.get(T)!==!0&&S.createTermDefinition({activeCtx:R,localCtx:$,term:T,defined:z,options:I}),(q=q||{}).vocab){let B=R.mappings.get(T);if(B===null)return null;if(a(B)&&"@id"in B)return B["@id"]}let Z=T.indexOf(":");if(Z>0){let B=T.substr(0,Z),se=T.substr(Z+1);if(B==="_"||se.indexOf("//")===0)return T;$&&$.hasOwnProperty(B)&&S.createTermDefinition({activeCtx:R,localCtx:$,term:B,defined:z,options:I});let ge=R.mappings.get(B);if(ge&&ge._prefix)return ge["@id"]+se;if(c(T))return T}if(q.vocab&&"@vocab"in R)T=R["@vocab"]+T;else if(q.base){let B,se;"@base"in R?R["@base"]?(se=p(I.base,R["@base"]),B=p(se,T)):(se=R["@base"],B=T):(se=I.base,B=p(I.base,T)),T=B}return T}function j(R,T){if(!R||typeof R!="object"||!T||typeof T!="object")return R===T;let q=Array.isArray(R);if(q!==Array.isArray(T))return!1;if(q){if(R.length!==T.length)return!1;for(let I=0;I<R.length;++I)if(!j(R[I],T[I]))return!1;return!0}let $=Object.keys(R),z=Object.keys(T);if($.length!==z.length)return!1;for(let I in R){let Z=R[I],B=T[I];if(I==="@container"&&Array.isArray(Z)&&Array.isArray(B)&&(Z=Z.slice().sort(),B=B.slice().sort()),!j(Z,B))return!1}return!0}i.exports=S,S.process=Z=>Le(void 0,[Z],function*({activeCtx:R,localCtx:T,options:q,propagate:$=!0,overrideProtected:z=!1,cycles:I=new Set}){if(a(T)&&"@context"in T&&t(T["@context"])&&(T=T["@context"]),x(T).length===0)return R;let B=[],se=[({event:ve,next:O})=>{B.push(ve),O()}];q.eventHandler&&se.push(q.eventHandler);let ge=q;q=st(Pe({},q),{eventHandler:se});let ae=yield q.contextResolver.resolve({activeCtx:R,context:T,documentLoader:q.documentLoader,base:q.base});a(ae[0].document)&&typeof ae[0].document["@propagate"]=="boolean"&&($=ae[0].document["@propagate"]);let U=R;$||U.previousContext||(U=U.clone(),U.previousContext=R);for(let ve of ae){let{document:O}=ve;if(R=U,O===null){if(!z&&Object.keys(R.protected).length!==0)throw new e("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});U=R=S.getInitialContext(q).clone();continue}let ne=ve.getProcessed(R);if(ne){if(ge.eventHandler)for(let Q of ne.events)m({event:Q,options:ge});U=R=ne.context;continue}if(a(O)&&"@context"in O&&(O=O["@context"]),!a(O))throw new e("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:O});U=U.clone();let he=new Map;if("@version"in O){if(O["@version"]!==1.1)throw new e("Unsupported JSON-LD version: "+O["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:O});if(R.processingMode&&R.processingMode==="json-ld-1.0")throw new e("@version: "+O["@version"]+" not compatible with "+R.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:O});U.processingMode="json-ld-1.1",U["@version"]=O["@version"],he.set("@version",!0)}if(U.processingMode=U.processingMode||R.processingMode,"@base"in O){let Q=O["@base"];if(!(Q===null||c(Q))){if(!u(Q))throw new e('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:O});Q=p(U["@base"],Q)}U["@base"]=Q,he.set("@base",!0)}if("@vocab"in O){let Q=O["@vocab"];if(Q===null)delete U["@vocab"];else{if(!d(Q))throw new e('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:O});if(!c(Q)&&S.processingMode(U,1))throw new e('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:O});{let ue=P(U,Q,{vocab:!0,base:!0},void 0,void 0,q);c(ue)||q.eventHandler&&m({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:ue}},options:q}),U["@vocab"]=ue}}he.set("@vocab",!0)}if("@language"in O){let Q=O["@language"];if(Q===null)delete U["@language"];else{if(!d(Q))throw new e('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:O});Q.match(g)||q.eventHandler&&m({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Q}},options:q}),U["@language"]=Q.toLowerCase()}he.set("@language",!0)}if("@direction"in O){let Q=O["@direction"];if(R.processingMode==="json-ld-1.0")throw new e("Invalid JSON-LD syntax; @direction not compatible with "+R.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:O});if(Q===null)delete U["@direction"];else{if(Q!=="ltr"&&Q!=="rtl")throw new e('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:O});U["@direction"]=Q}he.set("@direction",!0)}if("@propagate"in O){let Q=O["@propagate"];if(R.processingMode==="json-ld-1.0")throw new e("Invalid JSON-LD syntax; @propagate not compatible with "+R.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:O});if(typeof Q!="boolean")throw new e("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:T});he.set("@propagate",!0)}if("@import"in O){let Q=O["@import"];if(R.processingMode==="json-ld-1.0")throw new e("Invalid JSON-LD syntax; @import not compatible with "+R.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:O});if(!d(Q))throw new e("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:T});let ue=yield q.contextResolver.resolve({activeCtx:R,context:Q,documentLoader:q.documentLoader,base:q.base});if(ue.length!==1)throw new e("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:T});let X=ue[0].getProcessed(R);if(X)O=X;else{let ce=ue[0].document;if("@import"in ce)throw new e("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:T});for(let fe in ce)O.hasOwnProperty(fe)||(O[fe]=ce[fe]);ue[0].setProcessed(R,O)}he.set("@import",!0)}he.set("@protected",O["@protected"]||!1);for(let Q in O)if(S.createTermDefinition({activeCtx:U,localCtx:O,term:Q,defined:he,options:q,overrideProtected:z}),a(O[Q])&&"@context"in O[Q]){let ue=O[Q]["@context"],X=!0;if(d(ue)){let ce=p(q.base,ue);I.has(ce)?X=!1:I.add(ce)}if(X)try{yield S.process({activeCtx:U.clone(),localCtx:O[Q]["@context"],overrideProtected:!0,options:q,cycles:I})}catch{throw new e("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:O[Q]["@context"],term:Q})}}ve.setProcessed(R,{context:U,events:B})}return U}),S.createTermDefinition=({activeCtx:R,localCtx:T,term:q,defined:$,options:z,overrideProtected:I=!1})=>{if($.has(q)){if($.get(q))return;throw new e("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:T,term:q})}let Z;if($.set(q,!1),T.hasOwnProperty(q)&&(Z=T[q]),q==="@type"&&a(Z)&&(Z["@container"]||"@set")==="@set"&&S.processingMode(R,1.1)){let O=["@container","@id","@protected"],ne=Object.keys(Z);if(ne.length===0||ne.some(he=>!O.includes(he)))throw new e("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:T,term:q})}else{if(S.isKeyword(q))throw new e("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:T,term:q});if(q.match(v))return void(z.eventHandler&&m({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:q}},options:z}));if(q==="")throw new e("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:T})}let B=R.mappings.get(q);R.mappings.has(q)&&R.mappings.delete(q);let se=!1;if((d(Z)||Z===null)&&(se=!0,Z={"@id":Z}),!a(Z))throw new e("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:T});let ge={};R.mappings.set(q,ge),ge.reverse=!1;let ae=["@container","@id","@language","@reverse","@type"];S.processingMode(R,1.1)&&ae.push("@context","@direction","@index","@nest","@prefix","@protected");for(let O in Z)if(!ae.includes(O))throw new e("Invalid JSON-LD syntax; a term definition must not contain "+O,"jsonld.SyntaxError",{code:"invalid term definition",context:T});let U=q.indexOf(":");if(ge._termHasColon=U>0,"@reverse"in Z){if("@id"in Z)throw new e("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:T});if("@nest"in Z)throw new e("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:T});let O=Z["@reverse"];if(!d(O))throw new e("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:T});if(O.match(v))return z.eventHandler&&m({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:O}},options:z}),void(B?R.mappings.set(q,B):R.mappings.delete(q));let ne=P(R,O,{vocab:!0,base:!1},T,$,z);if(!c(ne))throw new e("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:T});ge["@id"]=ne,ge.reverse=!0}else if("@id"in Z){let O=Z["@id"];if(O&&!d(O))throw new e("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:T});if(O===null)ge["@id"]=null;else{if(!S.isKeyword(O)&&O.match(v))return z.eventHandler&&m({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:O}},options:z}),void(B?R.mappings.set(q,B):R.mappings.delete(q));if(O!==q){if(O=P(R,O,{vocab:!0,base:!1},T,$,z),!c(O)&&!S.isKeyword(O))throw new e("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:T});if(q.match(/(?::[^:])|\//)&&P(R,q,{vocab:!0,base:!1},T,new Map($).set(q,!0),z)!==O)throw new e("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:T});ge["@id"]=O,ge._prefix=se&&!ge._termHasColon&&O.match(/[:\/\?#\[\]@]$/)!==null}}}if(!("@id"in ge))if(ge._termHasColon){let O=q.substr(0,U);if(T.hasOwnProperty(O)&&S.createTermDefinition({activeCtx:R,localCtx:T,term:O,defined:$,options:z}),R.mappings.has(O)){let ne=q.substr(U+1);ge["@id"]=R.mappings.get(O)["@id"]+ne}else ge["@id"]=q}else if(q==="@type")ge["@id"]=q;else{if(!("@vocab"in R))throw new e("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:T,term:q});ge["@id"]=R["@vocab"]+q}if((Z["@protected"]===!0||$.get("@protected")===!0&&Z["@protected"]!==!1)&&(R.protected[q]=!0,ge.protected=!0),$.set(q,!0),"@type"in Z){let O=Z["@type"];if(!d(O))throw new e("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:T});if(O==="@json"||O==="@none"){if(S.processingMode(R,1))throw new e(`Invalid JSON-LD syntax; an @context @type value must not be "${O}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:T})}else if(O!=="@id"&&O!=="@vocab"){if(O=P(R,O,{vocab:!0,base:!1},T,$,z),!c(O))throw new e("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:T});if(O.indexOf("_:")===0)throw new e("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:T})}ge["@type"]=O}if("@container"in Z){let O=d(Z["@container"])?[Z["@container"]]:Z["@container"]||[],ne=["@list","@set","@index","@language"],he=!0,Q=O.includes("@set");if(S.processingMode(R,1.1)){if(ne.push("@graph","@id","@type"),O.includes("@list")){if(O.length!==1)throw new e("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:T})}else if(O.includes("@graph")){if(O.some(ue=>ue!=="@graph"&&ue!=="@id"&&ue!=="@index"&&ue!=="@set"))throw new e("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:T})}else he&=O.length<=(Q?2:1);if(O.includes("@type")&&(ge["@type"]=ge["@type"]||"@id",!["@id","@vocab"].includes(ge["@type"])))throw new e("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:T})}else he&=!t(Z["@container"]),he&=O.length<=1;if(he&=O.every(ue=>ne.includes(ue)),he&=!(Q&&O.includes("@list")),!he)throw new e("Invalid JSON-LD syntax; @context @container value must be one of the following: "+ne.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:T});if(ge.reverse&&!O.every(ue=>["@index","@set"].includes(ue)))throw new e("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:T});ge["@container"]=O}if("@index"in Z){if(!("@container"in Z)||!ge["@container"].includes("@index"))throw new e(`Invalid JSON-LD syntax; @index without @index in @container: "${Z["@index"]}" on term "${q}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:T});if(!d(Z["@index"])||Z["@index"].indexOf("@")===0)throw new e(`Invalid JSON-LD syntax; @index must expand to an IRI: "${Z["@index"]}" on term "${q}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:T});ge["@index"]=Z["@index"]}if("@context"in Z&&(ge["@context"]=Z["@context"]),"@language"in Z&&!("@type"in Z)){let O=Z["@language"];if(O!==null&&!d(O))throw new e("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:T});O!==null&&(O=O.toLowerCase()),ge["@language"]=O}if("@prefix"in Z){if(q.match(/:|\//))throw new e("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:T});if(S.isKeyword(ge["@id"]))throw new e("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:T});if(typeof Z["@prefix"]!="boolean")throw new e("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:T});ge._prefix=Z["@prefix"]===!0}if("@direction"in Z){let O=Z["@direction"];if(O!==null&&O!=="ltr"&&O!=="rtl")throw new e('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:T});ge["@direction"]=O}if("@nest"in Z){let O=Z["@nest"];if(!d(O)||O!=="@nest"&&O.indexOf("@")===0)throw new e("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:T});ge["@nest"]=O}let ve=ge["@id"];if(ve==="@context"||ve==="@preserve")throw new e("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:T});if(B&&B.protected&&!I&&(R.protected[q]=!0,ge.protected=!0,!j(B,ge)))throw new e("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:T,term:q})},S.expandIri=(R,T,q,$)=>P(R,T,q,void 0,void 0,$),S.getInitialContext=R=>{let T=JSON.stringify({processingMode:R.processingMode}),q=w.get(T);if(q)return q;let $={processingMode:R.processingMode,mappings:new Map,inverse:null,getInverse:function(){let Z=this;if(Z.inverse)return Z.inverse;let B=Z.inverse={},se=Z.fastCurieMap={},ge={},ae=(Z["@language"]||"@none").toLowerCase(),U=Z["@direction"],ve=Z.mappings,O=[...ve.keys()].sort(y);for(let ne of O){let he=ve.get(ne);if(he===null)continue;let Q=he["@container"]||"@none";if(Q=[].concat(Q).sort().join(""),he["@id"]===null)continue;let ue=x(he["@id"]);for(let X of ue){let ce=B[X],fe=S.isKeyword(X);if(ce)fe||he._termHasColon||ge[X].push(ne);else if(B[X]=ce={},!fe&&!he._termHasColon){ge[X]=[ne];let Te={iri:X,terms:ge[X]};X[0]in se?se[X[0]].push(Te):se[X[0]]=[Te]}if(ce[Q]||(ce[Q]={"@language":{},"@type":{},"@any":{}}),ce=ce[Q],I(ne,ce["@any"],"@none"),he.reverse)I(ne,ce["@type"],"@reverse");else if(he["@type"]==="@none")I(ne,ce["@any"],"@none"),I(ne,ce["@language"],"@none"),I(ne,ce["@type"],"@none");else if("@type"in he)I(ne,ce["@type"],he["@type"]);else if("@language"in he&&"@direction"in he){let Te=he["@language"],we=he["@direction"];I(ne,ce["@language"],Te&&we?`${Te}_${we}`.toLowerCase():Te?Te.toLowerCase():we?`_${we}`:"@null")}else"@language"in he?I(ne,ce["@language"],(he["@language"]||"@null").toLowerCase()):"@direction"in he?he["@direction"]?I(ne,ce["@language"],`_${he["@direction"]}`):I(ne,ce["@language"],"@none"):U?(I(ne,ce["@language"],`_${U}`),I(ne,ce["@language"],"@none"),I(ne,ce["@type"],"@none")):(I(ne,ce["@language"],ae),I(ne,ce["@language"],"@none"),I(ne,ce["@type"],"@none"))}}for(let ne in se)z(se,ne,1);return B},clone:function(){let Z={};return Z.mappings=o.clone(this.mappings),Z.clone=this.clone,Z.inverse=null,Z.getInverse=this.getInverse,Z.protected=o.clone(this.protected),this.previousContext&&(Z.previousContext=this.previousContext.clone()),Z.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(Z["@base"]=this["@base"]),"@language"in this&&(Z["@language"]=this["@language"]),"@vocab"in this&&(Z["@vocab"]=this["@vocab"]),Z},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return w.size===1e4&&w.clear(),w.set(T,$),$;function z(Z,B,se){let ge=Z[B],ae=Z[B]={},U,ve;for(let O of ge)U=O.iri,ve=se>=U.length?"":U[se],ve in ae?ae[ve].push(O):ae[ve]=[O];for(let O in ae)O!==""&&z(ae,O,se+1)}function I(Z,B,se){B.hasOwnProperty(se)||(B[se]=Z)}},S.getContextValue=(R,T,q)=>{if(T===null)return q==="@context"?void 0:null;if(R.mappings.has(T)){let $=R.mappings.get(T);if(s(q))return $;if($.hasOwnProperty(q))return $[q]}return q==="@language"&&q in R||q==="@direction"&&q in R?R[q]:q!=="@context"?null:void 0},S.processingMode=(R,T)=>T.toString()>="1.1"?!R.processingMode||R.processingMode>="json-ld-"+T.toString():R.processingMode==="json-ld-1.0",S.isKeyword=R=>{if(!d(R)||R[0]!=="@")return!1;switch(R){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},6957:(i,n,r)=>{let{parseLinkHeader:o,buildHeaders:e}=r(9263),{LINK_HEADER_CONTEXT:t}=r(9378),a=r(2207),d=r(3743),{prependBase:s}=r(470),c=/(^|(\r\n))link:/i;i.exports=({secure:u,headers:p={},xhr:m}={headers:{}})=>(p=e(p),new d().wrapLoader(function g(v){return Le(this,null,function*(){if(v.indexOf("http:")!==0&&v.indexOf("https:")!==0)throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:v});if(u&&v.indexOf("https")!==0)throw new a(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:v});let x;try{x=yield function(j,R,T){let q=new(j=j||XMLHttpRequest);return new Promise(($,z)=>{q.onload=()=>$(q),q.onerror=I=>z(I),q.open("GET",R,!0);for(let I in T)q.setRequestHeader(I,T[I]);q.send()})}(m,v,p)}catch(j){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:v,cause:j})}if(x.status>=400)throw new a("URL could not be dereferenced: "+x.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:v,httpStatusCode:x.status});let y={contextUrl:null,documentUrl:v,document:x.response},w=null,S=x.getResponseHeader("Content-Type"),P;if(c.test(x.getAllResponseHeaders())&&(P=x.getResponseHeader("Link")),P&&S!=="application/ld+json"){let j=o(P),R=j[t];if(Array.isArray(R))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:v});R&&(y.contextUrl=R.target),w=j.alternate,w&&w.type=="application/ld+json"&&!(S||"").match(/^application\/(\w*\+)?json$/)&&(y=yield g(s(v,w.target)))}return y})}))},2246:(i,n,r)=>{let o=r(2207),{isArray:e}=r(7382),{asArray:t}=r(9263),a={};function d({event:c,handlers:u}){let p=!0;for(let m=0;p&&m<u.length;++m){p=!1;let g=u[m];if(e(g))p=d({event:c,handlers:g});else if(typeof g=="function")g({event:c,next:()=>{p=!0}});else{if(typeof g!="object")throw new o("Invalid event handler.","jsonld.InvalidEventHandler",{event:c});c.code in g?g[c.code]({event:c,next:()=>{p=!0}}):p=!0}}return p}i.exports=a,a.defaultEventHandler=null,a.setupEventHandler=({options:c={}})=>{let u=[].concat(c.safe?a.safeEventHandler:[],c.eventHandler?t(c.eventHandler):[],a.defaultEventHandler?a.defaultEventHandler:[]);return u.length===0?null:u},a.handleEvent=({event:c,options:u})=>{d({event:c,handlers:u.eventHandler})};let s=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);a.safeEventHandler=function({event:c,next:u}){if(c.level==="warning"&&s.has(c.code))throw new o("Safe mode validation error.","jsonld.ValidationError",{event:c});u()},a.logEventHandler=function({event:c,next:u}){console.log(`EVENT: ${c.message}`,{event:c}),u()},a.logWarningEventHandler=function({event:c,next:u}){c.level==="warning"&&console.warn(`WARNING: ${c.message}`,{event:c}),u()},a.unhandledEventHandler=function({event:c}){throw new o("No handler for event.","jsonld.UnhandledEvent",{event:c})},a.setDefaultEventHandler=function({eventHandler:c}={}){a.defaultEventHandler=c?t(c):null}},4019:(i,n,r)=>{let o=r(2207),{isArray:e,isObject:t,isEmptyObject:a,isString:d,isUndefined:s}=r(7382),{isList:c,isValue:u,isGraph:p,isSubject:m}=r(3978),{expandIri:g,getContextValue:v,isKeyword:x,process:y,processingMode:w}=r(1972),{isAbsolute:S}=r(470),{REGEX_BCP47:P,REGEX_KEYWORD:j,addValue:R,asArray:T,getValues:q,validateTypeValue:$}=r(9263),{handleEvent:z}=r(2246),I={};function Z({value:U,count:ve,options:O}){if(ve===0||"@value"in U||"@list"in U||ve===1&&"@id"in U){if(O.eventHandler){let ne,he;ve===0?(ne="empty object",he="Dropping empty object."):"@value"in U?(ne="object with only @value",he="Dropping object with only @value."):"@list"in U?(ne="object with only @list",he="Dropping object with only @list."):ve===1&&"@id"in U&&(ne="object with only @id",he="Dropping object with only @id."),z({event:{type:["JsonLdEvent"],code:ne,level:"warning",message:he,details:{value:U}},options:O})}return null}return U}function B(fe){return Le(this,arguments,function*({activeCtx:U,activeProperty:ve,expandedActiveProperty:O,element:ne,expandedParent:he,options:Q={},insideList:ue,typeKey:X,typeScopedContext:ce}){let Te=Object.keys(ne).sort(),we=[],me,G=ne[X]&&g(U,e(ne[X])?ne[X][0]:ne[X],{vocab:!0},st(Pe({},Q),{typeExpansion:!0}))==="@json";for(let ye of Te){let de,_e=ne[ye];if(ye==="@context")continue;let W=g(U,ye,{vocab:!0},Q);if(W===null||!S(W)&&!x(W)){Q.eventHandler&&z({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:ye,expandedProperty:W}},options:Q});continue}if(x(W)){if(O==="@reverse")throw new o("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:_e});if(W in he&&W!=="@included"&&W!=="@type")throw new o("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:W})}if(W==="@id"){if(!d(_e)){if(!Q.isFrame)throw new o('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:_e});if(t(_e)){if(!a(_e))throw new o('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:_e})}else{if(!e(_e))throw new o('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:_e});if(!_e.every(Y=>d(Y)))throw new o('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:_e})}}R(he,"@id",T(_e).map(Y=>{if(d(Y)){let _=g(U,Y,{base:!0},Q);return Q.eventHandler&&(_===null?z(Y===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:Y}},options:Q}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:Y}},options:Q}):S(_)||z({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:Y,expandedId:_}},options:Q})),_}return Y}),{propertyIsArray:Q.isFrame});continue}if(W==="@type"){t(_e)&&(_e=Object.fromEntries(Object.entries(_e).map(([Y,_])=>[g(ce,Y,{vocab:!0}),T(_).map(C=>g(ce,C,{base:!0,vocab:!0},st(Pe({},Q),{typeExpansion:!0})))]))),$(_e,Q.isFrame),R(he,"@type",T(_e).map(Y=>{if(d(Y)){let _=g(ce,Y,{base:!0,vocab:!0},st(Pe({},Q),{typeExpansion:!0}));return _==="@json"||S(_)||Q.eventHandler&&z({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:Y}},options:Q}),_}return Y}),{propertyIsArray:!!Q.isFrame});continue}if(W==="@included"&&w(U,1.1)){let Y=T(yield I.expand({activeCtx:U,activeProperty:ve,element:_e,options:Q}));if(!Y.every(_=>m(_)))throw new o("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:_e});R(he,"@included",Y,{propertyIsArray:!0});continue}if(W==="@graph"&&!t(_e)&&!e(_e))throw new o('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:_e});if(W==="@value"){me=_e,G&&w(U,1.1)?he["@value"]=_e:R(he,"@value",_e,{propertyIsArray:Q.isFrame});continue}if(W==="@language"){if(_e===null)continue;if(!d(_e)&&!Q.isFrame)throw new o('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:_e});_e=T(_e).map(Y=>d(Y)?Y.toLowerCase():Y);for(let Y of _e)d(Y)&&!Y.match(P)&&Q.eventHandler&&z({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Y}},options:Q});R(he,"@language",_e,{propertyIsArray:Q.isFrame});continue}if(W==="@direction"){if(!d(_e)&&!Q.isFrame)throw new o('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:_e});_e=T(_e);for(let Y of _e)if(d(Y)&&Y!=="ltr"&&Y!=="rtl")throw new o('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:_e});R(he,"@direction",_e,{propertyIsArray:Q.isFrame});continue}if(W==="@index"){if(!d(_e))throw new o('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:_e});R(he,"@index",_e);continue}if(W==="@reverse"){if(!t(_e))throw new o('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:_e});if(de=yield I.expand({activeCtx:U,activeProperty:"@reverse",element:_e,options:Q}),"@reverse"in de)for(let _ in de["@reverse"])R(he,_,de["@reverse"][_],{propertyIsArray:!0});let Y=he["@reverse"]||null;for(let _ in de){if(_==="@reverse")continue;Y===null&&(Y=he["@reverse"]={}),R(Y,_,[],{propertyIsArray:!0});let C=de[_];for(let k=0;k<C.length;++k){let H=C[k];if(u(H)||c(H))throw new o('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:de});R(Y,_,H,{propertyIsArray:!0})}}continue}if(W==="@nest"){we.push(ye);continue}let pe=U,N=v(U,ye,"@context");s(N)||(pe=yield y({activeCtx:U,localCtx:N,propagate:!0,overrideProtected:!0,options:Q}));let D=v(U,ye,"@container")||[];if(D.includes("@language")&&t(_e))de=ge(pe,_e,v(pe,ye,"@direction"),Q);else if(D.includes("@index")&&t(_e)){let Y=D.includes("@graph"),_=v(pe,ye,"@index")||"@index",C=_!=="@index"&&g(U,_,{vocab:!0},Q);de=yield ae({activeCtx:pe,options:Q,activeProperty:ye,value:_e,asGraph:Y,indexKey:_,propertyIndex:C})}else if(D.includes("@id")&&t(_e)){let Y=D.includes("@graph");de=yield ae({activeCtx:pe,options:Q,activeProperty:ye,value:_e,asGraph:Y,indexKey:"@id"})}else if(D.includes("@type")&&t(_e))de=yield ae({activeCtx:pe.revertToPreviousContext(),options:Q,activeProperty:ye,value:_e,asGraph:!1,indexKey:"@type"});else{let Y=W==="@list";if(Y||W==="@set"){let _=ve;Y&&O==="@graph"&&(_=null),de=yield I.expand({activeCtx:pe,activeProperty:_,element:_e,options:Q,insideList:Y})}else de=v(U,ye,"@type")==="@json"?{"@type":"@json","@value":_e}:yield I.expand({activeCtx:pe,activeProperty:ye,element:_e,options:Q,insideList:!1})}if(de!==null||W==="@value"){if(W!=="@list"&&!c(de)&&D.includes("@list")&&(de={"@list":T(de)}),D.includes("@graph")&&!D.some(Y=>Y==="@id"||Y==="@index")){if(de=T(de),Q.isFrame||(de=de.filter(Y=>Z({value:Y,count:Object.keys(Y).length,options:Q})!==null)),de.length===0)continue;de=de.map(Y=>({"@graph":T(Y)}))}if(pe.mappings.has(ye)&&pe.mappings.get(ye).reverse){let Y=he["@reverse"]=he["@reverse"]||{};de=T(de);for(let _=0;_<de.length;++_){let C=de[_];if(u(C)||c(C))throw new o('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:de});R(Y,W,C,{propertyIsArray:!0})}}else R(he,W,de,{propertyIsArray:!0})}}if("@value"in he&&!(he["@type"]==="@json"&&w(U,1.1))){if((t(me)||e(me))&&!Q.isFrame)throw new o('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:me})}for(let ye of we){let de=e(ne[ye])?ne[ye]:[ne[ye]];for(let _e of de){if(!t(_e)||Object.keys(_e).some(W=>g(U,W,{vocab:!0},Q)==="@value"))throw new o("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:_e});yield B({activeCtx:U,activeProperty:ve,expandedActiveProperty:O,element:_e,expandedParent:he,options:Q,insideList:ue,typeScopedContext:ce,typeKey:X})}}})}function se({activeCtx:U,activeProperty:ve,value:O,options:ne}){if(O==null)return null;let he=g(U,ve,{vocab:!0},ne);if(he==="@id")return g(U,O,{base:!0},ne);if(he==="@type")return g(U,O,{vocab:!0,base:!0},st(Pe({},ne),{typeExpansion:!0}));let Q=v(U,ve,"@type");if((Q==="@id"||he==="@graph")&&d(O)){let X=g(U,O,{base:!0},ne);return X===null&&O.match(j)&&ne.eventHandler&&z({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:ve}},options:ne}),{"@id":X}}if(Q==="@vocab"&&d(O))return{"@id":g(U,O,{vocab:!0,base:!0},ne)};if(x(he))return O;let ue={};if(Q&&!["@id","@vocab","@none"].includes(Q))ue["@type"]=Q;else if(d(O)){let X=v(U,ve,"@language");X!==null&&(ue["@language"]=X);let ce=v(U,ve,"@direction");ce!==null&&(ue["@direction"]=ce)}return["boolean","number","string"].includes(typeof O)||(O=O.toString()),ue["@value"]=O,ue}function ge(U,ve,O,ne){let he=[],Q=Object.keys(ve).sort();for(let ue of Q){let X=g(U,ue,{vocab:!0},ne),ce=ve[ue];e(ce)||(ce=[ce]);for(let fe of ce){if(fe===null)continue;if(!d(fe))throw new o("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:ve});let Te={"@value":fe};X!=="@none"&&(ue.match(P)||ne.eventHandler&&z({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:ue}},options:ne}),Te["@language"]=ue.toLowerCase()),O&&(Te["@direction"]=O),he.push(Te)}}return he}function ae(X){return Le(this,arguments,function*({activeCtx:U,options:ve,activeProperty:O,value:ne,asGraph:he,indexKey:Q,propertyIndex:ue}){let ce=[],fe=Object.keys(ne).sort(),Te=Q==="@type";for(let we of fe){if(Te){let ye=v(U,we,"@context");s(ye)||(U=yield y({activeCtx:U,localCtx:ye,propagate:!1,options:ve}))}let me,G=ne[we];e(G)||(G=[G]),G=yield I.expand({activeCtx:U,activeProperty:O,element:G,options:ve,insideList:!1,insideIndex:!0}),me=ue?we==="@none"?"@none":se({activeCtx:U,activeProperty:Q,value:we,options:ve}):g(U,we,{vocab:!0},ve),Q==="@id"?we=g(U,we,{base:!0},ve):Te&&(we=me);for(let ye of G){if(he&&!p(ye)&&(ye={"@graph":[ye]}),Q==="@type")me==="@none"||(ye["@type"]?ye["@type"]=[we].concat(ye["@type"]):ye["@type"]=[we]);else{if(u(ye)&&!["@language","@type","@index"].includes(Q))throw new o(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${Q}".`,"jsonld.SyntaxError",{code:"invalid value object",value:ye});ue?me!=="@none"&&R(ye,ue,me,{propertyIsArray:!0,prependValue:!0}):me==="@none"||Q in ye||(ye[Q]=we)}ce.push(ye)}}return ce})}i.exports=I,I.expand=X=>Le(void 0,[X],function*({activeCtx:U,activeProperty:ve=null,element:O,options:ne={},insideList:he=!1,insideIndex:Q=!1,typeScopedContext:ue=null}){if(O==null)return null;if(ve==="@default"&&(ne=Object.assign({},ne,{isFrame:!1})),!e(O)&&!t(O))return he||ve!==null&&g(U,ve,{vocab:!0},ne)!=="@graph"?se({activeCtx:U,activeProperty:ve,value:O,options:ne}):(ne.eventHandler&&z({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:O}},options:ne}),null);if(e(O)){let de=[],_e=v(U,ve,"@container")||[];he=he||_e.includes("@list");for(let W=0;W<O.length;++W){let pe=yield I.expand({activeCtx:U,activeProperty:ve,element:O[W],options:ne,insideIndex:Q,typeScopedContext:ue});he&&e(pe)&&(pe={"@list":pe}),pe!==null&&(e(pe)?de=de.concat(pe):de.push(pe))}return de}let ce=g(U,ve,{vocab:!0},ne),fe=v(U,ve,"@context");ue=ue||(U.previousContext?U:null);let Te=Object.keys(O).sort(),we=!Q;if(we&&ue&&Te.length<=2&&!Te.includes("@context"))for(let de of Te){let _e=g(ue,de,{vocab:!0},ne);if(_e==="@value"){we=!1,U=ue;break}if(_e==="@id"&&Te.length===1){we=!1;break}}we&&(U=U.revertToPreviousContext()),s(fe)||(U=yield y({activeCtx:U,localCtx:fe,propagate:!0,overrideProtected:!0,options:ne})),"@context"in O&&(U=yield y({activeCtx:U,localCtx:O["@context"],options:ne})),ue=U;let me=null;for(let de of Te)if(g(U,de,{vocab:!0},ne)==="@type"){me=me||de;let _e=O[de],W=Array.isArray(_e)?_e.length>1?_e.slice().sort():_e:[_e];for(let pe of W){let N=v(ue,pe,"@context");s(N)||(U=yield y({activeCtx:U,localCtx:N,options:ne,propagate:!1}))}}let G={};yield B({activeCtx:U,activeProperty:ve,expandedActiveProperty:ce,element:O,expandedParent:G,options:ne,insideList:he,typeKey:me,typeScopedContext:ue}),Te=Object.keys(G);let ye=Te.length;if("@value"in G){if("@type"in G&&("@language"in G||"@direction"in G))throw new o('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:G});let de=ye-1;if("@type"in G&&(de-=1),"@index"in G&&(de-=1),"@language"in G&&(de-=1),"@direction"in G&&(de-=1),de!==0)throw new o('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:G});let _e=G["@value"]===null?[]:T(G["@value"]),W=q(G,"@type");if(!(w(U,1.1)&&W.includes("@json")&&W.length===1))if(_e.length===0)ne.eventHandler&&z({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:G}},options:ne}),G=null;else{if(!_e.every(pe=>d(pe)||a(pe))&&"@language"in G)throw new o("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:G});if(!W.every(pe=>S(pe)&&!(d(pe)&&pe.indexOf("_:")===0)||a(pe)))throw new o('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:G})}}else if("@type"in G&&!e(G["@type"]))G["@type"]=[G["@type"]];else if("@set"in G||"@list"in G){if(ye>1&&(ye!==2||!("@index"in G)))throw new o('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:G});"@set"in G&&(G=G["@set"],Te=Object.keys(G),ye=Te.length)}else ye===1&&"@language"in G&&(ne.eventHandler&&z({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:G}},options:ne}),G=null);return!t(G)||ne.keepFreeFloatingNodes||he||ve!==null&&ce!=="@graph"&&!(v(U,ve,"@container")||[]).includes("@graph")||(G=Z({value:G,count:ye,options:ne})),G})},5229:(i,n,r)=>{let{isSubjectReference:o}=r(3978),{createMergedNodeMap:e}=r(9233),t={};i.exports=t,t.flatten=a=>{let d=e(a),s=[],c=Object.keys(d).sort();for(let u=0;u<c.length;++u){let p=d[c[u]];o(p)||s.push(p)}return s}},7946:(i,n,r)=>{let{isKeyword:o}=r(1972),e=r(3978),t=r(7382),a=r(9263),d=r(470),s=r(2207),{createNodeMap:c,mergeNodeMapGraphs:u}=r(9233),p={};function m(T){let q={};for(let $ in T)T[$]!==void 0&&(q["@"+$]=[T[$]]);return[q]}function g(T,q,$){for(let z=$.length-1;z>=0;--z){let I=$[z];if(I.graph===q&&I.subject["@id"]===T["@id"])return!0}return!1}function v(T,q,$){let z="@"+$,I=z in T?T[z][0]:q[$];if($==="embed"){if(I===!0)I="@once";else if(I===!1)I="@never";else if(I!=="@always"&&I!=="@never"&&I!=="@link"&&I!=="@first"&&I!=="@last"&&I!=="@once")throw new s("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:T})}return I}function x(T){if(!t.isArray(T)||T.length!==1||!t.isObject(T[0]))throw new s("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:T});if("@id"in T[0]){for(let q of a.asArray(T[0]["@id"]))if(!t.isObject(q)&&!d.isAbsolute(q)||t.isString(q)&&q.indexOf("_:")===0)throw new s("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:T})}if("@type"in T[0]){for(let q of a.asArray(T[0]["@type"]))if(!t.isObject(q)&&!d.isAbsolute(q)&&q!=="@json"||t.isString(q)&&q.indexOf("_:")===0)throw new s("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:T})}}function y(T,q,$,z){let I=!0,Z=!1;for(let B in $){let se=!1,ge=a.getValues(q,B),ae=a.getValues($,B).length===0;if(B==="@id"){if(t.isEmptyObject($["@id"][0]||{})?se=!0:$["@id"].length>=0&&(se=$["@id"].includes(ge[0])),!z.requireAll)return se}else if(B==="@type"){if(I=!1,ae){if(ge.length>0)return!1;se=!0}else if($["@type"].length===1&&t.isEmptyObject($["@type"][0]))se=ge.length>0;else for(let U of $["@type"])se=!(!t.isObject(U)||!("@default"in U))||se||ge.some(ve=>ve===U);if(!z.requireAll)return se}else{if(o(B))continue;{let U=a.getValues($,B)[0],ve=!1;if(U&&(x([U]),ve="@default"in U),I=!1,ge.length===0&&ve)continue;if(ge.length>0&&ae)return!1;if(U===void 0){if(ge.length>0)return!1;se=!0}else if(e.isList(U)){let O=U["@list"][0];if(e.isList(ge[0])){let ne=ge[0]["@list"];e.isValue(O)?se=ne.some(he=>R(O,he)):(e.isSubject(O)||e.isSubjectReference(O))&&(se=ne.some(he=>j(T,O,he,z)))}}else se=e.isValue(U)?ge.some(O=>R(U,O)):e.isSubjectReference(U)?ge.some(O=>j(T,U,O,z)):!!t.isObject(U)&&ge.length>0}}if(!se&&z.requireAll)return!1;Z=Z||se}return I||Z}function w(T,q){let $=T.uniqueEmbeds[T.graph],z=$[q],I=z.parent,Z=z.property,B={"@id":q};if(t.isArray(I)){for(let ge=0;ge<I.length;++ge)if(a.compareValues(I[ge],B)){I[ge]=B;break}}else{let ge=t.isArray(I[Z]);a.removeValue(I,Z,B,{propertyIsArray:ge}),a.addValue(I,Z,B,{propertyIsArray:ge})}let se=ge=>{let ae=Object.keys($);for(let U of ae)U in $&&t.isObject($[U].parent)&&$[U].parent["@id"]===ge&&(delete $[U],se(U))};se(q)}function S(T,q){if(t.isArray(T))return T.map($=>S($,q));if(t.isObject(T)){if("@preserve"in T)return T["@preserve"][0];if(e.isValue(T))return T;if(e.isList(T))return T["@list"]=S(T["@list"],q),T;if("@id"in T){let $=T["@id"];if(q.link.hasOwnProperty($)){let z=q.link[$].indexOf(T);if(z!==-1)return q.link[$][z];q.link[$].push(T)}else q.link[$]=[T]}for(let $ in T)$==="@id"&&q.bnodesToClear.includes(T[$])?delete T["@id"]:T[$]=S(T[$],q)}return T}function P(T,q,$){t.isObject(T)?a.addValue(T,q,$,{propertyIsArray:!0}):T.push($)}function j(T,q,$,z){if(!("@id"in $))return!1;let I=T.subjects[$["@id"]];return I&&y(T,I,q,z)}function R(T,q){let $=q["@value"],z=q["@type"],I=q["@language"],Z=T["@value"]?t.isArray(T["@value"])?T["@value"]:[T["@value"]]:[],B=T["@type"]?t.isArray(T["@type"])?T["@type"]:[T["@type"]]:[],se=T["@language"]?t.isArray(T["@language"])?T["@language"]:[T["@language"]]:[];return Z.length===0&&B.length===0&&se.length===0||!(!Z.includes($)&&!t.isEmptyObject(Z[0]))&&!!(!z&&B.length===0||B.includes(z)||z&&t.isEmptyObject(B[0]))&&!!(!I&&se.length===0||se.includes(I)||I&&t.isEmptyObject(se[0]))}i.exports=p,p.frameMergedOrDefault=(T,q,$)=>{let z={options:$,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},I=new a.IdentifierIssuer("_:b");c(T,z.graphMap,"@default",I),$.merged&&(z.graphMap["@merged"]=u(z.graphMap),z.graph="@merged"),z.subjects=z.graphMap[z.graph];let Z=[];return p.frame(z,Object.keys(z.subjects).sort(),q,Z),$.pruneBlankNodeIdentifiers&&($.bnodesToClear=Object.keys(z.bnodeMap).filter(B=>z.bnodeMap[B].length===1)),$.link={},S(Z,$)},p.frame=(T,q,$,z,I=null)=>{x($),$=$[0];let Z=T.options,B={embed:v($,Z,"embed"),explicit:v($,Z,"explicit"),requireAll:v($,Z,"requireAll")};T.link.hasOwnProperty(T.graph)||(T.link[T.graph]={});let se=T.link[T.graph],ge=function(U,ve,O,ne){let he={};for(let Q of ve){let ue=U.graphMap[U.graph][Q];y(U,ue,O,ne)&&(he[Q]=ue)}return he}(T,q,$,B),ae=Object.keys(ge).sort();for(let U of ae){let ve=ge[U];if(I===null?T.uniqueEmbeds={[T.graph]:{}}:T.uniqueEmbeds[T.graph]=T.uniqueEmbeds[T.graph]||{},B.embed==="@link"&&U in se){P(z,I,se[U]);continue}let O={"@id":U};if(U.indexOf("_:")===0&&a.addValue(T.bnodeMap,U,O,{propertyIsArray:!0}),se[U]=O,(B.embed==="@first"||B.embed==="@last")&&T.is11)throw new s("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:$});if(T.embedded||!T.uniqueEmbeds[T.graph].hasOwnProperty(U))if(!T.embedded||B.embed!=="@never"&&!g(ve,T.graph,T.subjectStack))if(!T.embedded||B.embed!="@first"&&B.embed!="@once"||!T.uniqueEmbeds[T.graph].hasOwnProperty(U)){if(B.embed==="@last"&&U in T.uniqueEmbeds[T.graph]&&w(T,U),T.uniqueEmbeds[T.graph][U]={parent:z,property:I},T.subjectStack.push({subject:ve,graph:T.graph}),U in T.graphMap){let ne=!1,he=null;"@graph"in $?(he=$["@graph"][0],ne=!(U==="@merged"||U==="@default"),t.isObject(he)||(he={})):(ne=T.graph!=="@merged",he={}),ne&&p.frame(st(Pe({},T),{graph:U,embedded:!1}),Object.keys(T.graphMap[U]).sort(),[he],O,"@graph")}"@included"in $&&p.frame(st(Pe({},T),{embedded:!1}),q,$["@included"],O,"@included");for(let ne of Object.keys(ve).sort())if(o(ne)){if(O[ne]=a.clone(ve[ne]),ne==="@type")for(let he of ve["@type"])he.indexOf("_:")===0&&a.addValue(T.bnodeMap,he,O,{propertyIsArray:!0})}else if(!B.explicit||ne in $)for(let he of ve[ne]){let Q=ne in $?$[ne]:m(B);if(e.isList(he)){let ue=$[ne]&&$[ne][0]&&$[ne][0]["@list"]?$[ne][0]["@list"]:m(B),X={"@list":[]};P(O,ne,X);let ce=he["@list"];for(let fe of ce)e.isSubjectReference(fe)?p.frame(st(Pe({},T),{embedded:!0}),[fe["@id"]],ue,X,"@list"):P(X,"@list",a.clone(fe))}else e.isSubjectReference(he)?p.frame(st(Pe({},T),{embedded:!0}),[he["@id"]],Q,O,ne):R(Q[0],he)&&P(O,ne,a.clone(he))}for(let ne of Object.keys($).sort()){if(ne==="@type"){if(!t.isObject($[ne][0])||!("@default"in $[ne][0]))continue}else if(o(ne))continue;let he=$[ne][0]||{};if(!v(he,Z,"omitDefault")&&!(ne in O)){let Q="@null";"@default"in he&&(Q=a.clone(he["@default"])),t.isArray(Q)||(Q=[Q]),O[ne]=[{"@preserve":Q}]}}for(let ne of Object.keys($["@reverse"]||{}).sort()){let he=$["@reverse"][ne];for(let Q of Object.keys(T.subjects))a.getValues(T.subjects[Q],ne).some(ue=>ue["@id"]===U)&&(O["@reverse"]=O["@reverse"]||{},a.addValue(O["@reverse"],ne,[],{propertyIsArray:!0}),p.frame(st(Pe({},T),{embedded:!0}),[Q],he,O["@reverse"][ne],I))}P(z,I,O),T.subjectStack.pop()}else P(z,I,O);else P(z,I,O)}},p.cleanupNull=(T,q)=>{if(t.isArray(T))return T.map($=>p.cleanupNull($,q)).filter($=>$);if(T==="@null")return null;if(t.isObject(T)){if("@id"in T){let $=T["@id"];if(q.link.hasOwnProperty($)){let z=q.link[$].indexOf(T);if(z!==-1)return q.link[$][z];q.link[$].push(T)}else q.link[$]=[T]}for(let $ in T)T[$]=p.cleanupNull(T[$],q)}return T}},3947:(i,n,r)=>{let o=r(2207),e=r(3978),t=r(7382),{REGEX_BCP47:a,addValue:d}=r(9263),{handleEvent:s}=r(2246),{RDF_LIST:c,RDF_FIRST:u,RDF_REST:p,RDF_NIL:m,RDF_TYPE:g,RDF_JSON_LITERAL:v,XSD_BOOLEAN:x,XSD_DOUBLE:y,XSD_INTEGER:w,XSD_STRING:S}=r(9378),P={};function j(R,T,q,$){if(R.termType.endsWith("Node"))return{"@id":R.value};let z={"@value":R.value};if(R.language)R.language.match(a)||$.eventHandler&&s({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:R.language}},options:$}),z["@language"]=R.language;else{let I=R.datatype.value;if(I||(I=S),I===v){I="@json";try{z["@value"]=JSON.parse(z["@value"])}catch(Z){throw new o("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:z["@value"],cause:Z})}}if(T){if(I===x)z["@value"]==="true"?z["@value"]=!0:z["@value"]==="false"&&(z["@value"]=!1);else if(t.isNumeric(z["@value"]))if(I===w){let Z=parseInt(z["@value"],10);Z.toFixed(0)===z["@value"]&&(z["@value"]=Z)}else I===y&&(z["@value"]=parseFloat(z["@value"]));[x,w,y,S].includes(I)||(z["@type"]=I)}else if(q==="i18n-datatype"&&I.startsWith("https://www.w3.org/ns/i18n#")){let[,Z,B]=I.split(/[#_]/);Z.length>0&&(z["@language"]=Z,Z.match(a)||$.eventHandler&&s({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Z}},options:$})),z["@direction"]=B}else I!==S&&(z["@type"]=I)}return z}i.exports=P,P.fromRDF=(R,T)=>Le(void 0,null,function*(){let{useRdfType:q=!1,useNativeTypes:$=!1,rdfDirection:z=null}=T,I={},Z={"@default":I},B={};if(z){if(z==="compound-literal")throw new o("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:z});if(z!=="i18n-datatype")throw new o("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:z})}for(let ae of R){let U=ae.graph.termType==="DefaultGraph"?"@default":ae.graph.value;U in Z||(Z[U]={}),U==="@default"||U in I||(I[U]={"@id":U});let ve=Z[U],O=ae.subject.value,ne=ae.predicate.value,he=ae.object;O in ve||(ve[O]={"@id":O});let Q=ve[O],ue=he.termType.endsWith("Node");if(ue&&!(he.value in ve)&&(ve[he.value]={"@id":he.value}),ne===g&&!q&&ue){d(Q,"@type",he.value,{propertyIsArray:!0});continue}let X=j(he,$,z,T);if(d(Q,ne,X,{propertyIsArray:!0}),ue)if(he.value===m){let ce=ve[he.value];"usages"in ce||(ce.usages=[]),ce.usages.push({node:Q,property:ne,value:X})}else he.value in B?B[he.value]=!1:B[he.value]={node:Q,property:ne,value:X}}for(let ae in Z){let U=Z[ae];if(!(m in U))continue;let ve=U[m];if(ve.usages){for(let O of ve.usages){let ne=O.node,he=O.property,Q=O.value,ue=[],X=[],ce=Object.keys(ne).length;for(;he===p&&t.isObject(B[ne["@id"]])&&t.isArray(ne[u])&&ne[u].length===1&&t.isArray(ne[p])&&ne[p].length===1&&(ce===3||ce===4&&t.isArray(ne["@type"])&&ne["@type"].length===1&&ne["@type"][0]===c)&&(ue.push(ne[u][0]),X.push(ne["@id"]),O=B[ne["@id"]],ne=O.node,he=O.property,Q=O.value,ce=Object.keys(ne).length,e.isBlankNode(ne)););delete Q["@id"],Q["@list"]=ue.reverse();for(let fe of X)delete U[fe]}delete ve.usages}}let se=[],ge=Object.keys(I).sort();for(let ae of ge){let U=I[ae];if(ae in Z){let ve=U["@graph"]=[],O=Z[ae],ne=Object.keys(O).sort();for(let he of ne){let Q=O[he];e.isSubjectReference(Q)||ve.push(Q)}}e.isSubjectReference(U)||se.push(U)}return se})},3978:(i,n,r)=>{let o=r(7382),e={};i.exports=e,e.isSubject=t=>!(!o.isObject(t)||"@value"in t||"@set"in t||"@list"in t)&&(Object.keys(t).length>1||!("@id"in t)),e.isSubjectReference=t=>o.isObject(t)&&Object.keys(t).length===1&&"@id"in t,e.isValue=t=>o.isObject(t)&&"@value"in t,e.isList=t=>o.isObject(t)&&"@list"in t,e.isGraph=t=>o.isObject(t)&&"@graph"in t&&Object.keys(t).filter(a=>a!=="@id"&&a!=="@index").length===1,e.isSimpleGraph=t=>e.isGraph(t)&&!("@id"in t),e.isBlankNode=t=>{if(o.isObject(t)){if("@id"in t){let a=t["@id"];return!o.isString(a)||a.indexOf("_:")===0}return Object.keys(t).length===0||!("@value"in t||"@set"in t||"@list"in t)}return!1}},4841:(i,n,r)=>{let o=r(989),e=r(701),t=r(9263),a=r(7034),d=t.IdentifierIssuer,s=r(2207),c=r(9749),u=r(8229),{expand:p}=r(4019),{flatten:m}=r(5229),{fromRDF:g}=r(3947),{toRDF:v}=r(9180),{frameMergedOrDefault:x,cleanupNull:y}=r(7946),{isArray:w,isObject:S,isString:P}=r(7382),{isSubjectReference:j}=r(3978),{expandIri:R,getInitialContext:T,process:q,processingMode:$}=r(1972),{compact:z,compactIri:I}=r(1058),{createNodeMap:Z,createMergedNodeMap:B,mergeNodeMaps:se}=r(9233),{logEventHandler:ge,logWarningEventHandler:ae,safeEventHandler:U,setDefaultEventHandler:ve,setupEventHandler:O,strictEventHandler:ne,unhandledEventHandler:he}=r(2246),Q=function(X){let ce={},fe=new c({max:100});function Te(we,ye){var de=ye,{documentLoader:me=X.documentLoader}=de,G=Ki(de,["documentLoader"]);if(we&&"compactionMap"in we)throw new s('"compactionMap" not supported.',"jsonld.OptionsError");if(we&&"expansionMap"in we)throw new s('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:me},G,we,{eventHandler:O({options:we})})}return X.compact=function(ye,de,_e){return Le(this,arguments,function*(we,me,G){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(me===null)throw new s("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(we===null)return null;let W;(G=Te(G,{base:P(we)?we:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new d("_:b"),contextResolver:new a({sharedCache:fe})})).link&&(G.skipExpansion=!0),G.compactToRelative||delete G.base,W=G.skipExpansion?we:yield X.expand(we,G);let pe=yield X.processContext(T(G),me,G),N=yield z({activeCtx:pe,element:W,options:G});G.compactArrays&&!G.graph&&w(N)?N.length===1?N=N[0]:N.length===0&&(N={}):G.graph&&S(N)&&(N=[N]),S(me)&&"@context"in me&&(me=me["@context"]),me=t.clone(me),w(me)||(me=[me]);let D=me;me=[];for(let _=0;_<D.length;++_)(!S(D[_])||Object.keys(D[_]).length>0)&&me.push(D[_]);let Y=me.length>0;if(me.length===1&&(me=me[0]),w(N)){let _=I({activeCtx:pe,iri:"@graph",relativeTo:{vocab:!0}}),C=N;N={},Y&&(N["@context"]=me),N[_]=C}else if(S(N)&&Y){let _=N;N={"@context":me};for(let C in _)N[C]=_[C]}return N})},X.expand=function(G,ye){return Le(this,arguments,function*(we,me){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");let de={},_e=[];if("expandContext"in(me=Te(me,{keepFreeFloatingNodes:!1,contextResolver:new a({sharedCache:fe})}))){let D=t.clone(me.expandContext);S(D)&&"@context"in D?de.expandContext=D:de.expandContext={"@context":D},_e.push(de.expandContext)}let W;if(P(we)){let D=yield X.get(we,me);W=D.documentUrl,de.input=D.document,D.contextUrl&&(de.remoteContext={"@context":D.contextUrl},_e.push(de.remoteContext))}else de.input=t.clone(we);"base"in me||(me.base=W||"");let pe=T(me);for(let D of _e)pe=yield q({activeCtx:pe,localCtx:D,options:me});let N=yield p({activeCtx:pe,element:de.input,options:me});return S(N)&&"@graph"in N&&Object.keys(N).length===1?N=N["@graph"]:N===null&&(N=[]),w(N)||(N=[N]),N})},X.flatten=function(ye,de,_e){return Le(this,arguments,function*(we,me,G){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");me=typeof me=="function"?null:me||null,G=Te(G,{base:P(we)?we:"",contextResolver:new a({sharedCache:fe})});let W=yield X.expand(we,G),pe=m(W);return me===null?pe:(G.graph=!0,G.skipExpansion=!0,yield X.compact(pe,me,G))})},X.frame=function(ye,de,_e){return Le(this,arguments,function*(we,me,G){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(G=Te(G,{base:P(we)?we:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new a({sharedCache:fe})}),P(me)){let H=yield X.get(me,G);if(me=H.document,H.contextUrl){let ie=me["@context"];ie?w(ie)?ie.push(H.contextUrl):ie=[ie,H.contextUrl]:ie=H.contextUrl,me["@context"]=ie}}let W=me&&me["@context"]||{},pe=yield X.processContext(T(G),W,G);G.hasOwnProperty("omitGraph")||(G.omitGraph=$(pe,1.1)),G.hasOwnProperty("pruneBlankNodeIdentifiers")||(G.pruneBlankNodeIdentifiers=$(pe,1.1));let N=yield X.expand(we,G),D=Pe({},G);D.isFrame=!0,D.keepFreeFloatingNodes=!0;let Y=yield X.expand(me,D),_=Object.keys(me).map(H=>R(pe,H,{vocab:!0}));D.merged=!_.includes("@graph"),D.is11=$(pe,1.1);let C=x(N,Y,D);D.graph=!G.omitGraph,D.skipExpansion=!0,D.link={},D.framing=!0;let k=yield X.compact(C,W,D);return D.link={},k=y(k,D),k})},X.link=function(we,me,G){return Le(this,null,function*(){let ye={};return me&&(ye["@context"]=me),ye["@embed"]="@link",X.frame(we,ye,G)})},X.normalize=X.canonize=function(G,ye){return Le(this,arguments,function*(we,me){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(me=Te(me,{base:P(we)?we:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new a({sharedCache:fe})}))){if(me.inputFormat!=="application/n-quads"&&me.inputFormat!=="application/nquads")throw new s("Unknown canonicalization input format.","jsonld.CanonizeError");let W=u.parse(we);return o.canonize(W,me)}let de=Pe({},me);delete de.format,de.produceGeneralizedRdf=!1;let _e=yield X.toRDF(we,de);return o.canonize(_e,me)})},X.fromRDF=function(G,ye){return Le(this,arguments,function*(we,me){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");me=Te(me,{format:P(we)?"application/n-quads":void 0});let{format:de}=me,{rdfParser:_e}=me;if(de){if(_e=_e||ce[de],!_e)throw new s("Unknown input format.","jsonld.UnknownFormat",{format:de})}else _e=()=>we;let W=yield _e(we);return g(W,me)})},X.toRDF=function(G,ye){return Le(this,arguments,function*(we,me){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let de;de=(me=Te(me,{base:P(we)?we:"",skipExpansion:!1,contextResolver:new a({sharedCache:fe})})).skipExpansion?we:yield X.expand(we,me);let _e=v(de,me);if(me.format){if(me.format==="application/n-quads"||me.format==="application/nquads")return u.serialize(_e);throw new s("Unknown output format.","jsonld.UnknownFormat",{format:me.format})}return _e})},X.createNodeMap=function(G,ye){return Le(this,arguments,function*(we,me){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");me=Te(me,{base:P(we)?we:"",contextResolver:new a({sharedCache:fe})});let de=yield X.expand(we,me);return B(de,me)})},X.merge=function(ye,de,_e){return Le(this,arguments,function*(we,me,G){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!w(we))throw new TypeError('Could not merge, "docs" must be an array.');me=typeof me=="function"?null:me||null,G=Te(G,{contextResolver:new a({sharedCache:fe})});let W=yield Promise.all(we.map(k=>{let H=Pe({},G);return X.expand(k,H)})),pe=!0;"mergeNodes"in G&&(pe=G.mergeNodes);let N=G.issuer||new d("_:b"),D={"@default":{}};for(let k=0;k<W.length;++k){let H=t.relabelBlankNodes(W[k],{issuer:new d("_:b"+k+"-")}),ie=pe||k===0?D:{"@default":{}};if(Z(H,ie,"@default",N),ie!==D)for(let re in ie){let Se=ie[re];if(!(re in D)){D[re]=Se;continue}let ze=D[re];for(let Ge in Se)Ge in ze||(ze[Ge]=Se[Ge])}}let Y=se(D),_=[],C=Object.keys(Y).sort();for(let k=0;k<C.length;++k){let H=Y[C[k]];j(H)||_.push(H)}return me===null?_:(G.graph=!0,G.skipExpansion=!0,yield X.compact(_,me,G))})},Object.defineProperty(X,"documentLoader",{get:()=>X._documentLoader,set:we=>X._documentLoader=we}),X.documentLoader=we=>Le(this,null,function*(){throw new s("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:we})}),X.get=function(we,me){return Le(this,null,function*(){let G;G=typeof me.documentLoader=="function"?me.documentLoader:X.documentLoader;let ye=yield G(we);try{if(!ye.document)throw new s("No remote document found at the given URL.","jsonld.NullRemoteDocument");P(ye.document)&&(ye.document=JSON.parse(ye.document))}catch(de){throw new s("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:de,remoteDoc:ye})}return ye})},X.processContext=function(we,me,G){return Le(this,null,function*(){return G=Te(G,{base:"",contextResolver:new a({sharedCache:fe})}),me===null?T(G):(me=t.clone(me),S(me)&&"@context"in me||(me={"@context":me}),q({activeCtx:we,localCtx:me,options:G}))})},X.getContextValue=r(1972).getContextValue,X.documentLoaders={},X.useDocumentLoader=function(we){if(!(we in X.documentLoaders))throw new s('Unknown document loader type: "'+we+'"',"jsonld.UnknownDocumentLoader",{type:we});X.documentLoader=X.documentLoaders[we].apply(X,Array.prototype.slice.call(arguments,1))},X.registerRDFParser=function(we,me){ce[we]=me},X.unregisterRDFParser=function(we){delete ce[we]},X.registerRDFParser("application/n-quads",u.parse),X.registerRDFParser("application/nquads",u.parse),X.url=r(470),X.logEventHandler=ge,X.logWarningEventHandler=ae,X.safeEventHandler=U,X.setDefaultEventHandler=ve,X.strictEventHandler=ne,X.unhandledEventHandler=he,X.util=t,Object.assign(X,t),X.promises=X,X.RequestQueue=r(3743),X.JsonLdProcessor=r(5445)(X),e.setupGlobals(X),e.setupDocumentLoaders(X),X},ue=function(){return Q(function(){return ue()})};Q(ue),i.exports=ue},9233:(i,n,r)=>{let{isKeyword:o}=r(1972),e=r(3978),t=r(7382),a=r(9263),d=r(2207),s={};i.exports=s,s.createMergedNodeMap=(c,u)=>{let p=(u=u||{}).issuer||new a.IdentifierIssuer("_:b"),m={"@default":{}};return s.createNodeMap(c,m,"@default",p),s.mergeNodeMaps(m)},s.createNodeMap=(c,u,p,m,g,v)=>{if(t.isArray(c)){for(let S of c)s.createNodeMap(S,u,p,m,void 0,v);return}if(!t.isObject(c))return void(v&&v.push(c));if(e.isValue(c)){if("@type"in c){let S=c["@type"];S.indexOf("_:")===0&&(c["@type"]=S=m.getId(S))}return void(v&&v.push(c))}if(v&&e.isList(c)){let S=[];return s.createNodeMap(c["@list"],u,p,m,g,S),void v.push({"@list":S})}if("@type"in c){let S=c["@type"];for(let P of S)P.indexOf("_:")===0&&m.getId(P)}t.isUndefined(g)&&(g=e.isBlankNode(c)?m.getId(c["@id"]):c["@id"]),v&&v.push({"@id":g});let x=u[p],y=x[g]=x[g]||{};y["@id"]=g;let w=Object.keys(c).sort();for(let S of w){if(S==="@id")continue;if(S==="@reverse"){let j={"@id":g},R=c["@reverse"];for(let T in R){let q=R[T];for(let $ of q){let z=$["@id"];e.isBlankNode($)&&(z=m.getId(z)),s.createNodeMap($,u,p,m,z),a.addValue(x[z],T,j,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(S==="@graph"){g in u||(u[g]={}),s.createNodeMap(c[S],u,g,m);continue}if(S==="@included"){s.createNodeMap(c[S],u,p,m);continue}if(S!=="@type"&&o(S)){if(S==="@index"&&S in y&&(c[S]!==y[S]||c[S]["@id"]!==y[S]["@id"]))throw new d("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:y});y[S]=c[S];continue}let P=c[S];if(S.indexOf("_:")===0&&(S=m.getId(S)),P.length!==0)for(let j of P)if(S==="@type"&&(j=j.indexOf("_:")===0?m.getId(j):j),e.isSubject(j)||e.isSubjectReference(j)){if("@id"in j&&!j["@id"])continue;let R=e.isBlankNode(j)?m.getId(j["@id"]):j["@id"];a.addValue(y,S,{"@id":R},{propertyIsArray:!0,allowDuplicate:!1}),s.createNodeMap(j,u,p,m,R)}else if(e.isValue(j))a.addValue(y,S,j,{propertyIsArray:!0,allowDuplicate:!1});else if(e.isList(j)){let R=[];s.createNodeMap(j["@list"],u,p,m,g,R),j={"@list":R},a.addValue(y,S,j,{propertyIsArray:!0,allowDuplicate:!1})}else s.createNodeMap(j,u,p,m,g),a.addValue(y,S,j,{propertyIsArray:!0,allowDuplicate:!1});else a.addValue(y,S,[],{propertyIsArray:!0})}},s.mergeNodeMapGraphs=c=>{let u={};for(let p of Object.keys(c).sort())for(let m of Object.keys(c[p]).sort()){let g=c[p][m];m in u||(u[m]={"@id":m});let v=u[m];for(let x of Object.keys(g).sort())if(o(x)&&x!=="@type")v[x]=a.clone(g[x]);else for(let y of g[x])a.addValue(v,x,a.clone(y),{propertyIsArray:!0,allowDuplicate:!1})}return u},s.mergeNodeMaps=c=>{let u=c["@default"],p=Object.keys(c).sort();for(let m of p){if(m==="@default")continue;let g=c[m],v=u[m];v?"@graph"in v||(v["@graph"]=[]):u[m]=v={"@id":m,"@graph":[]};let x=v["@graph"];for(let y of Object.keys(g).sort()){let w=g[y];e.isSubjectReference(w)||x.push(w)}}return u}},701:(i,n,r)=>{let o=r(6957),e={};i.exports=e,e.setupDocumentLoaders=function(t){typeof XMLHttpRequest<"u"&&(t.documentLoaders.xhr=o,t.useDocumentLoader("xhr"))},e.setupGlobals=function(t){globalThis.JsonLdProcessor===void 0&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:t.JsonLdProcessor})}},9180:(i,n,r)=>{let{createNodeMap:o}=r(9233),{isKeyword:e}=r(1972),t=r(3978),a=r(2341),d=r(2207),s=r(7382),c=r(9263),{handleEvent:u}=r(2246),{RDF_FIRST:p,RDF_REST:m,RDF_NIL:g,RDF_TYPE:v,RDF_JSON_LITERAL:x,RDF_LANGSTRING:y,XSD_BOOLEAN:w,XSD_DOUBLE:S,XSD_INTEGER:P,XSD_STRING:j}=r(9378),{isAbsolute:R}=r(470),T={};function q(z,I,Z,B,se){let ge=Object.keys(I).sort();for(let ae of ge){let U=I[ae],ve=Object.keys(U).sort();for(let O of ve){let ne=U[O];if(O==="@type")O=v;else if(e(O))continue;for(let he of ne){let Q={termType:ae.startsWith("_:")?"BlankNode":"NamedNode",value:ae};if(!R(ae)){se.eventHandler&&u({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:ae}},options:se});continue}let ue={termType:O.startsWith("_:")?"BlankNode":"NamedNode",value:O};if(!R(O)){se.eventHandler&&u({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:O}},options:se});continue}if(ue.termType==="BlankNode"&&!se.produceGeneralizedRdf){se.eventHandler&&u({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:B.getOldIds().find(ce=>B.getId(ce)===O)}},options:se});continue}let X=$(he,B,z,Z,se.rdfDirection,se);X&&z.push({subject:Q,predicate:ue,object:X,graph:Z})}}}}function $(z,I,Z,B,se,ge){let ae={};if(t.isValue(z)){ae.termType="Literal",ae.value=void 0,ae.datatype={termType:"NamedNode"};let U=z["@value"],ve=z["@type"]||null;if(ve==="@json")ae.value=a(U),ae.datatype.value=x;else if(s.isBoolean(U))ae.value=U.toString(),ae.datatype.value=ve||w;else if(s.isDouble(U)||ve===S)s.isDouble(U)||(U=parseFloat(U)),ae.value=U.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),ae.datatype.value=ve||S;else if(s.isNumber(U))ae.value=U.toFixed(0),ae.datatype.value=ve||P;else if("@direction"in z&&se==="i18n-datatype"){let O=`https://www.w3.org/ns/i18n#${(z["@language"]||"").toLowerCase()}_${z["@direction"]}`;ae.datatype.value=O,ae.value=U}else{if("@direction"in z&&se==="compound-literal")throw new d("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:se});if("@direction"in z&&se)throw new d("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:se});"@language"in z?("@direction"in z&&!se&&ge.eventHandler&&u({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:ae.value}},options:ge}),ae.value=U,ae.datatype.value=ve||y,ae.language=z["@language"]):("@direction"in z&&!se&&ge.eventHandler&&u({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:ae.value}},options:ge}),ae.value=U,ae.datatype.value=ve||j)}}else if(t.isList(z)){let U=function(ve,O,ne,he,Q,ue){let X={termType:"NamedNode",value:p},ce={termType:"NamedNode",value:m},fe={termType:"NamedNode",value:g},Te=ve.pop(),we=Te?{termType:"BlankNode",value:O.getId()}:fe,me=we;for(let G of ve){let ye=$(G,O,ne,he,Q,ue),de={termType:"BlankNode",value:O.getId()};ne.push({subject:me,predicate:X,object:ye,graph:he}),ne.push({subject:me,predicate:ce,object:de,graph:he}),me=de}if(Te){let G=$(Te,O,ne,he,Q,ue);ne.push({subject:me,predicate:X,object:G,graph:he}),ne.push({subject:me,predicate:ce,object:fe,graph:he})}return we}(z["@list"],I,Z,B,se,ge);ae.termType=U.termType,ae.value=U.value}else{let U=s.isObject(z)?z["@id"]:z;ae.termType=U.startsWith("_:")?"BlankNode":"NamedNode",ae.value=U}return ae.termType!=="NamedNode"||R(ae.value)?ae:(ge.eventHandler&&u({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:ae.value}},options:ge}),null)}i.exports=T,T.toRDF=(z,I)=>{let Z=new c.IdentifierIssuer("_:b"),B={"@default":{}};o(z,B,"@default",Z);let se=[],ge=Object.keys(B).sort();for(let ae of ge){let U;if(ae==="@default")U={termType:"DefaultGraph",value:""};else{if(!R(ae)){I.eventHandler&&u({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:ae}},options:I});continue}U=ae.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},U.value=ae}q(se,B[ae],U,Z,I)}return se}},7382:i=>{let n={};i.exports=n,n.isArray=Array.isArray,n.isBoolean=r=>typeof r=="boolean"||Object.prototype.toString.call(r)==="[object Boolean]",n.isDouble=r=>n.isNumber(r)&&(String(r).indexOf(".")!==-1||Math.abs(r)>=1e21),n.isEmptyObject=r=>n.isObject(r)&&Object.keys(r).length===0,n.isNumber=r=>typeof r=="number"||Object.prototype.toString.call(r)==="[object Number]",n.isNumeric=r=>!isNaN(parseFloat(r))&&isFinite(r),n.isObject=r=>Object.prototype.toString.call(r)==="[object Object]",n.isString=r=>typeof r=="string"||Object.prototype.toString.call(r)==="[object String]",n.isUndefined=r=>r===void 0},470:(i,n,r)=>{let o=r(7382),e={};i.exports=e,e.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},e.parse=(a,d)=>{let s={},c=e.parsers[d||"full"],u=c.regex.exec(a),p=c.keys.length;for(;p--;)s[c.keys[p]]=u[p]===void 0?null:u[p];return(s.scheme==="https"&&s.port==="443"||s.scheme==="http"&&s.port==="80")&&(s.href=s.href.replace(":"+s.port,""),s.authority=s.authority.replace(":"+s.port,""),s.port=null),s.normalizedPath=e.removeDotSegments(s.path),s},e.prependBase=(a,d)=>{if(a===null||e.isAbsolute(d))return d;a&&!o.isString(a)||(a=e.parse(a||""));let s=e.parse(d),c={protocol:a.protocol||""};if(s.authority!==null)c.authority=s.authority,c.path=s.path,c.query=s.query;else if(c.authority=a.authority,s.path==="")c.path=a.path,s.query!==null?c.query=s.query:c.query=a.query;else{if(s.path.indexOf("/")===0)c.path=s.path;else{let p=a.path;p=p.substr(0,p.lastIndexOf("/")+1),(p.length>0||a.authority)&&p.substr(-1)!=="/"&&(p+="/"),p+=s.path,c.path=p}c.query=s.query}s.path!==""&&(c.path=e.removeDotSegments(c.path));let u=c.protocol;return c.authority!==null&&(u+="//"+c.authority),u+=c.path,c.query!==null&&(u+="?"+c.query),s.fragment!==null&&(u+="#"+s.fragment),u===""&&(u="./"),u},e.removeBase=(a,d)=>{if(a===null)return d;a&&!o.isString(a)||(a=e.parse(a||""));let s="";if(a.href!==""?s+=(a.protocol||"")+"//"+(a.authority||""):d.indexOf("//")&&(s+="//"),d.indexOf(s)!==0)return d;let c=e.parse(d.substr(s.length)),u=a.normalizedPath.split("/"),p=c.normalizedPath.split("/"),m=c.fragment||c.query?0:1;for(;u.length>0&&p.length>m&&u[0]===p[0];)u.shift(),p.shift();let g="";if(u.length>0){u.pop();for(let v=0;v<u.length;++v)g+="../"}return g+=p.join("/"),c.query!==null&&(g+="?"+c.query),c.fragment!==null&&(g+="#"+c.fragment),g===""&&(g="./"),g},e.removeDotSegments=a=>{if(a.length===0)return"";let d=a.split("/"),s=[];for(;d.length>0;){let c=d.shift(),u=d.length===0;c!=="."?c!==".."?s.push(c):(s.pop(),u&&s.push("")):u&&s.push("")}return a[0]==="/"&&s.length>0&&s[0]!==""&&s.unshift(""),s.length===1&&s[0]===""?"/":s.join("/")};let t=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;e.isAbsolute=a=>o.isString(a)&&t.test(a),e.isRelative=a=>o.isString(a)},9263:(i,n,r)=>{let o=r(3978),e=r(7382),t=r(989).IdentifierIssuer,a=r(2207),d=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,s=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,c=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,u="application/ld+json, application/json",p={};function m(g,v){if(e.isArray(v))for(let x=0;x<v.length;++x)v[x]=m(g,v[x]);else if(o.isList(v))v["@list"]=m(g,v["@list"]);else if(e.isObject(v)){o.isBlankNode(v)&&(v["@id"]=g.getId(v["@id"]));let x=Object.keys(v).sort();for(let y=0;y<x.length;++y){let w=x[y];w!=="@id"&&(v[w]=m(g,v[w]))}}return v}i.exports=p,p.IdentifierIssuer=t,p.REGEX_BCP47=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,p.REGEX_KEYWORD=/^@[a-zA-Z]+$/,p.clone=function(g){if(g&&typeof g=="object"){let v;if(e.isArray(g)){v=[];for(let x=0;x<g.length;++x)v[x]=p.clone(g[x])}else if(g instanceof Map){v=new Map;for(let[x,y]of g)v.set(x,p.clone(y))}else if(g instanceof Set){v=new Set;for(let x of g)v.add(p.clone(x))}else if(e.isObject(g)){v={};for(let x in g)v[x]=p.clone(g[x])}else v=g.toString();return v}return g},p.asArray=function(g){return Array.isArray(g)?g:[g]},p.buildHeaders=(g={})=>{if(Object.keys(g).some(v=>v.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+u+'" is supported.');return Object.assign({Accept:u},g)},p.parseLinkHeader=g=>{let v={},x=g.match(d);for(let y=0;y<x.length;++y){let w=x[y].match(s);if(!w)continue;let S={target:w[1]},P=w[2];for(;w=c.exec(P);)S[w[1]]=w[2]===void 0?w[3]:w[2];let j=S.rel||"";Array.isArray(v[j])?v[j].push(S):v.hasOwnProperty(j)?v[j]=[v[j],S]:v[j]=S}return v},p.validateTypeValue=(g,v)=>{if(!(e.isString(g)||e.isArray(g)&&g.every(x=>e.isString(x)))){if(v&&e.isObject(g))switch(Object.keys(g).length){case 0:return;case 1:if("@default"in g&&p.asArray(g["@default"]).every(x=>e.isString(x)))return}throw new a('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:g})}},p.hasProperty=(g,v)=>{if(g.hasOwnProperty(v)){let x=g[v];return!e.isArray(x)||x.length>0}return!1},p.hasValue=(g,v,x)=>{if(p.hasProperty(g,v)){let y=g[v],w=o.isList(y);if(e.isArray(y)||w){w&&(y=y["@list"]);for(let S=0;S<y.length;++S)if(p.compareValues(x,y[S]))return!0}else if(!e.isArray(x))return p.compareValues(x,y)}return!1},p.addValue=(g,v,x,y)=>{if("propertyIsArray"in(y=y||{})||(y.propertyIsArray=!1),"valueIsArray"in y||(y.valueIsArray=!1),"allowDuplicate"in y||(y.allowDuplicate=!0),"prependValue"in y||(y.prependValue=!1),y.valueIsArray)g[v]=x;else if(e.isArray(x)){x.length===0&&y.propertyIsArray&&!g.hasOwnProperty(v)&&(g[v]=[]),y.prependValue&&(x=x.concat(g[v]),g[v]=[]);for(let w=0;w<x.length;++w)p.addValue(g,v,x[w],y)}else if(g.hasOwnProperty(v)){let w=!y.allowDuplicate&&p.hasValue(g,v,x);e.isArray(g[v])||w&&!y.propertyIsArray||(g[v]=[g[v]]),w||(y.prependValue?g[v].unshift(x):g[v].push(x))}else g[v]=y.propertyIsArray?[x]:x},p.getValues=(g,v)=>[].concat(g[v]||[]),p.removeProperty=(g,v)=>{delete g[v]},p.removeValue=(g,v,x,y)=>{"propertyIsArray"in(y=y||{})||(y.propertyIsArray=!1);let w=p.getValues(g,v).filter(S=>!p.compareValues(S,x));w.length===0?p.removeProperty(g,v):w.length!==1||y.propertyIsArray?g[v]=w:g[v]=w[0]},p.relabelBlankNodes=(g,v)=>m((v=v||{}).issuer||new t("_:b"),g),p.compareValues=(g,v)=>g===v||!(!o.isValue(g)||!o.isValue(v)||g["@value"]!==v["@value"]||g["@type"]!==v["@type"]||g["@language"]!==v["@language"]||g["@index"]!==v["@index"])||!!(e.isObject(g)&&"@id"in g&&e.isObject(v)&&"@id"in v)&&g["@id"]===v["@id"],p.compareShortestLeast=(g,v)=>g.length<v.length?-1:v.length<g.length?1:g===v?0:g<v?-1:1},9749:(i,n,r)=>{let o=r(8799),e=Symbol("max"),t=Symbol("length"),a=Symbol("lengthCalculator"),d=Symbol("allowStale"),s=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),p=Symbol("lruList"),m=Symbol("cache"),g=Symbol("updateAgeOnGet"),v=()=>1,x=(R,T,q)=>{let $=R[m].get(T);if($){let z=$.value;if(y(R,z)){if(S(R,$),!R[d])return}else q&&(R[g]&&($.value.now=Date.now()),R[p].unshiftNode($));return z.value}},y=(R,T)=>{if(!T||!T.maxAge&&!R[s])return!1;let q=Date.now()-T.now;return T.maxAge?q>T.maxAge:R[s]&&q>R[s]},w=R=>{if(R[t]>R[e])for(let T=R[p].tail;R[t]>R[e]&&T!==null;){let q=T.prev;S(R,T),T=q}},S=(R,T)=>{if(T){let q=T.value;R[c]&&R[c](q.key,q.value),R[t]-=q.length,R[m].delete(q.key),R[p].removeNode(T)}};class P{constructor(T,q,$,z,I){this.key=T,this.value=q,this.length=$,this.now=z,this.maxAge=I||0}}let j=(R,T,q,$)=>{let z=q.value;y(R,z)&&(S(R,q),R[d]||(z=void 0)),z&&T.call($,z.value,z.key,R)};i.exports=class{constructor(R){if(typeof R=="number"&&(R={max:R}),R||(R={}),R.max&&(typeof R.max!="number"||R.max<0))throw new TypeError("max must be a non-negative number");this[e]=R.max||1/0;let T=R.length||v;if(this[a]=typeof T!="function"?v:T,this[d]=R.stale||!1,R.maxAge&&typeof R.maxAge!="number")throw new TypeError("maxAge must be a number");this[s]=R.maxAge||0,this[c]=R.dispose,this[u]=R.noDisposeOnSet||!1,this[g]=R.updateAgeOnGet||!1,this.reset()}set max(R){if(typeof R!="number"||R<0)throw new TypeError("max must be a non-negative number");this[e]=R||1/0,w(this)}get max(){return this[e]}set allowStale(R){this[d]=!!R}get allowStale(){return this[d]}set maxAge(R){if(typeof R!="number")throw new TypeError("maxAge must be a non-negative number");this[s]=R,w(this)}get maxAge(){return this[s]}set lengthCalculator(R){typeof R!="function"&&(R=v),R!==this[a]&&(this[a]=R,this[t]=0,this[p].forEach(T=>{T.length=this[a](T.value,T.key),this[t]+=T.length})),w(this)}get lengthCalculator(){return this[a]}get length(){return this[t]}get itemCount(){return this[p].length}rforEach(R,T){T=T||this;for(let q=this[p].tail;q!==null;){let $=q.prev;j(this,R,q,T),q=$}}forEach(R,T){T=T||this;for(let q=this[p].head;q!==null;){let $=q.next;j(this,R,q,T),q=$}}keys(){return this[p].toArray().map(R=>R.key)}values(){return this[p].toArray().map(R=>R.value)}reset(){this[c]&&this[p]&&this[p].length&&this[p].forEach(R=>this[c](R.key,R.value)),this[m]=new Map,this[p]=new o,this[t]=0}dump(){return this[p].map(R=>!y(this,R)&&{k:R.key,v:R.value,e:R.now+(R.maxAge||0)}).toArray().filter(R=>R)}dumpLru(){return this[p]}set(R,T,q){if((q=q||this[s])&&typeof q!="number")throw new TypeError("maxAge must be a number");let $=q?Date.now():0,z=this[a](T,R);if(this[m].has(R)){if(z>this[e])return S(this,this[m].get(R)),!1;let Z=this[m].get(R).value;return this[c]&&(this[u]||this[c](R,Z.value)),Z.now=$,Z.maxAge=q,Z.value=T,this[t]+=z-Z.length,Z.length=z,this.get(R),w(this),!0}let I=new P(R,T,z,$,q);return I.length>this[e]?(this[c]&&this[c](R,T),!1):(this[t]+=I.length,this[p].unshift(I),this[m].set(R,this[p].head),w(this),!0)}has(R){if(!this[m].has(R))return!1;let T=this[m].get(R).value;return!y(this,T)}get(R){return x(this,R,!0)}peek(R){return x(this,R,!1)}pop(){let R=this[p].tail;return R?(S(this,R),R.value):null}del(R){S(this,this[m].get(R))}load(R){this.reset();let T=Date.now();for(let q=R.length-1;q>=0;q--){let $=R[q],z=$.e||0;if(z===0)this.set($.k,$.v);else{let I=z-T;I>0&&this.set($.k,$.v,I)}}}prune(){this[m].forEach((R,T)=>x(this,T,!1))}}},6585:i=>{var n=1e3,r=60*n,o=60*r,e=24*o,t=7*e;function a(d,s,c,u){var p=s>=1.5*c;return Math.round(d/c)+" "+u+(p?"s":"")}i.exports=function(d,s){s=s||{};var c,u,p=typeof d;if(p==="string"&&d.length>0)return function(m){if(!((m=String(m)).length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(g){var v=parseFloat(g[1]);switch((g[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*v;case"weeks":case"week":case"w":return v*t;case"days":case"day":case"d":return v*e;case"hours":case"hour":case"hrs":case"hr":case"h":return v*o;case"minutes":case"minute":case"mins":case"min":case"m":return v*r;case"seconds":case"second":case"secs":case"sec":case"s":return v*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}(d);if(p==="number"&&isFinite(d))return s.long?(c=d,(u=Math.abs(c))>=e?a(c,u,e,"day"):u>=o?a(c,u,o,"hour"):u>=r?a(c,u,r,"minute"):u>=n?a(c,u,n,"second"):c+" ms"):function(m){var g=Math.abs(m);return g>=e?Math.round(m/e)+"d":g>=o?Math.round(m/o)+"h":g>=r?Math.round(m/r)+"m":g>=n?Math.round(m/n)+"s":m+"ms"}(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))}},5606:i=>{var n,r,o=i.exports={};function e(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}function a(x){if(n===setTimeout)return setTimeout(x,0);if((n===e||!n)&&setTimeout)return n=setTimeout,setTimeout(x,0);try{return n(x,0)}catch{try{return n.call(null,x,0)}catch{return n.call(this,x,0)}}}(function(){try{n=typeof setTimeout=="function"?setTimeout:e}catch{n=e}try{r=typeof clearTimeout=="function"?clearTimeout:t}catch{r=t}})();var d,s=[],c=!1,u=-1;function p(){c&&d&&(c=!1,d.length?s=d.concat(s):u=-1,s.length&&m())}function m(){if(!c){var x=a(p);c=!0;for(var y=s.length;y;){for(d=s,s=[];++u<y;)d&&d[u].run();u=-1,y=s.length}d=null,c=!1,function(w){if(r===clearTimeout)return clearTimeout(w);if((r===t||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(w);try{return r(w)}catch{try{return r.call(null,w)}catch{return r.call(this,w)}}}(x)}}function g(x,y){this.fun=x,this.array=y}function v(){}o.nextTick=function(x){var y=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)y[w-1]=arguments[w];s.push(new g(x,y)),s.length!==1||c||a(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(x){return[]},o.binding=function(x){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(x){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},9596:(i,n,r)=>{let o;i.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:r.g):e=>(o||(o=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))},989:(i,n,r)=>{i.exports=r(4005)},2985:i=>{i.exports=class q1{constructor(r,o=new Map,e=0){this.prefix=r,this._existing=o,this.counter=e}clone(){let{prefix:r,_existing:o,counter:e}=this;return new q1(r,new Map(o),e)}getId(r){let o=r&&this._existing.get(r);if(o)return o;let e=this.prefix+this.counter;return this.counter++,r&&this._existing.set(r,e),e}hasId(r){return this._existing.has(r)}getOldIds(){return[...this._existing.keys()]}}},3751:(i,n,r)=>{r(2791);let o=self.crypto||self.msCrypto;i.exports=class{constructor(e){if(!o||!o.subtle)throw new Error("crypto.subtle not found.");if(e==="sha256")this.algorithm={name:"SHA-256"};else{if(e!=="sha1")throw new Error(`Unsupported algorithm "${e}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(e){this._content+=e}digest(){return Le(this,null,function*(){let e=new TextEncoder().encode(this._content),t=new Uint8Array(yield o.subtle.digest(this.algorithm,e)),a="";for(let d=0;d<t.length;++d)a+=t[d].toString(16).padStart(2,"0");return a})}}},1227:i=>{let n="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",r="http://www.w3.org/2001/XMLSchema#string",o="NamedNode",e="BlankNode",t="Literal",a="DefaultGraph",d={};(()=>{let u="(?:<([^:]+:[^>]*)>)",p="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD_",m=p+"0-9-\xB7\u0300-\u036F\u203F-\u2040",g="(_:(?:["+p+"0-9])(?:(?:["+m+".])*(?:["+m+"]))?)",v="[ \\t]+",x="[ \\t]*",y="(?:"+u+"|"+g+")"+v,w=u+v,S="(?:"+u+"|"+g+'|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+u+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+x,P="(?:\\.|(?:(?:"+u+"|"+g+")"+x+"\\.))";d.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,d.empty=new RegExp("^"+x+"$"),d.quad=new RegExp("^"+x+y+w+S+P+x+"$")})(),i.exports=class $d{static parse(p){let m=[],g={},v=p.split(d.eoln),x=0;for(let S of v){if(x++,d.empty.test(S))continue;let P=S.match(d.quad);if(P===null)throw new Error("N-Quads parse error on line "+x+".");let j={subject:null,predicate:null,object:null,graph:null};if(P[1]!==void 0?j.subject={termType:o,value:P[1]}:j.subject={termType:e,value:P[2]},j.predicate={termType:o,value:P[3]},P[4]!==void 0?j.object={termType:o,value:P[4]}:P[5]!==void 0?j.object={termType:e,value:P[5]}:(j.object={termType:t,value:void 0,datatype:{termType:o}},P[7]!==void 0?j.object.datatype.value=P[7]:P[8]!==void 0?(j.object.datatype.value=n,j.object.language=P[8]):j.object.datatype.value=r,j.object.value=P[6].replace(c,function(R,T,q,$){if(T)switch(T){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(q)return String.fromCharCode(parseInt(q,16));if($)throw new Error("Unsupported U escape")})),P[9]!==void 0?j.graph={termType:o,value:P[9]}:P[10]!==void 0?j.graph={termType:e,value:P[10]}:j.graph={termType:a,value:""},j.graph.value in g){let R=!0,T=g[j.graph.value];for(let q of T)if(w=j,(y=q).subject.termType===w.subject.termType&&y.object.termType===w.object.termType&&y.subject.value===w.subject.value&&y.predicate.value===w.predicate.value&&y.object.value===w.object.value&&(y.object.termType!==t||y.object.datatype.termType===w.object.datatype.termType&&y.object.language===w.object.language&&y.object.datatype.value===w.object.datatype.value)){R=!1;break}R&&(T.push(j),m.push(j))}else g[j.graph.value]=[j],m.push(j)}var y,w;return m}static serialize(p){Array.isArray(p)||(p=$d.legacyDatasetToQuads(p));let m=[];for(let g of p)m.push($d.serializeQuad(g));return m.sort().join("")}static serializeQuadComponents(p,m,g,v){let x="";return p.termType===o?x+=`<${p.value}>`:x+=`${p.value}`,x+=` <${m.value}> `,g.termType===o?x+=`<${g.value}>`:g.termType===e?x+=g.value:(x+=`"${function(y){return y.replace(s,function(w){switch(w){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}(g.value)}"`,g.datatype.value===n?g.language&&(x+=`@${g.language}`):g.datatype.value!==r&&(x+=`^^<${g.datatype.value}>`)),v.termType===o?x+=` <${v.value}>`:v.termType===e&&(x+=` ${v.value}`),x+=` .
`,x}static serializeQuad(p){return $d.serializeQuadComponents(p.subject,p.predicate,p.object,p.graph)}static legacyDatasetToQuads(p){let m=[],g={"blank node":e,IRI:o,literal:t};for(let v in p)p[v].forEach(x=>{let y={};for(let w in x){let S=x[w],P={termType:g[S.type],value:S.value};P.termType===t&&(P.datatype={termType:o},"datatype"in S&&(P.datatype.value=S.datatype),"language"in S?("datatype"in S||(P.datatype.value=n),P.language=S.language):"datatype"in S||(P.datatype.value=r)),y[w]=P}y.graph=v==="@default"?{termType:a,value:""}:{termType:v.startsWith("_:")?e:o,value:v},m.push(y)});return m}};let s=/["\\\n\r]/g,c=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},9925:i=>{i.exports=class{constructor(n){this.current=n.sort(),this.done=!1,this.dir=new Map;for(let r=0;r<n.length;++r)this.dir.set(n[r],!0)}hasNext(){return!this.done}next(){let{current:n,dir:r}=this,o=n.slice(),e=null,t=0,a=n.length;for(let d=0;d<a;++d){let s=n[d],c=r.get(s);(e===null||s>e)&&(c&&d>0&&s>n[d-1]||!c&&d<a-1&&s>n[d+1])&&(e=s,t=d)}if(e===null)this.done=!0;else{let d=r.get(e)?t-1:t+1;n[t]=n[d],n[d]=e;for(let s of n)s>e&&r.set(s,!r.get(s))}return o}}},3513:(i,n,r)=>{let o=r(2985),e=r(3751),t=r(9925),a=r(1227);function d(s,c){return s.hash<c.hash?-1:s.hash>c.hash?1:0}i.exports=class{constructor({createMessageDigest:s=()=>new e("sha256"),canonicalIdMap:c=new Map,maxDeepIterations:u=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new o("_:c14n",c),this.createMessageDigest=s,this.maxDeepIterations=u,this.quads=null,this.deepIterations=null}main(s){return Le(this,null,function*(){this.deepIterations=new Map,this.quads=s;for(let x of s)this._addBlankNodeQuadInfo({quad:x,component:x.subject}),this._addBlankNodeQuadInfo({quad:x,component:x.object}),this._addBlankNodeQuadInfo({quad:x,component:x.graph});let c=new Map,u=[...this.blankNodeInfo.keys()],p=0;for(let x of u)++p%100==0&&(yield this._yield()),yield this._hashAndTrackBlankNode({id:x,hashToBlankNodes:c});let m=[...c.keys()].sort(),g=[];for(let x of m){let y=c.get(x);if(y.length>1){g.push(y);continue}let w=y[0];this.canonicalIssuer.getId(w)}for(let x of g){let y=[];for(let w of x){if(this.canonicalIssuer.hasId(w))continue;let S=new o("_:b");S.getId(w);let P=yield this.hashNDegreeQuads(w,S);y.push(P)}y.sort(d);for(let w of y){let S=w.issuer.getOldIds();for(let P of S)this.canonicalIssuer.getId(P)}}let v=[];for(let x of this.quads){let y=a.serializeQuadComponents(this._componentWithCanonicalId(x.subject),x.predicate,this._componentWithCanonicalId(x.object),this._componentWithCanonicalId(x.graph));v.push(y)}return v.sort(),v.join("")})}hashFirstDegreeQuads(s){return Le(this,null,function*(){let c=[],u=this.blankNodeInfo.get(s),p=u.quads;for(let g of p){let v={subject:null,predicate:g.predicate,object:null,graph:null};v.subject=this.modifyFirstDegreeComponent(s,g.subject,"subject"),v.object=this.modifyFirstDegreeComponent(s,g.object,"object"),v.graph=this.modifyFirstDegreeComponent(s,g.graph,"graph"),c.push(a.serializeQuad(v))}c.sort();let m=this.createMessageDigest();for(let g of c)m.update(g);return u.hash=yield m.digest(),u.hash})}hashRelatedBlankNode(s,c,u,p){return Le(this,null,function*(){let m;m=this.canonicalIssuer.hasId(s)?this.canonicalIssuer.getId(s):u.hasId(s)?u.getId(s):this.blankNodeInfo.get(s).hash;let g=this.createMessageDigest();return g.update(p),p!=="g"&&g.update(this.getRelatedPredicate(c)),g.update(m),g.digest()})}hashNDegreeQuads(s,c){return Le(this,null,function*(){let u=this.deepIterations.get(s)||0;if(u>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(s,u+1);let p=this.createMessageDigest(),m=yield this.createHashToRelated(s,c),g=[...m.keys()].sort();for(let v of g){p.update(v);let x,y="",w=new t(m.get(v)),S=0;for(;w.hasNext();){let P=w.next();++S%3==0&&(yield this._yield());let j=c.clone(),R="",T=[],q=!1;for(let $ of P)if(this.canonicalIssuer.hasId($)?R+=this.canonicalIssuer.getId($):(j.hasId($)||T.push($),R+=j.getId($)),y.length!==0&&R>y){q=!0;break}if(!q){for(let $ of T){let z=yield this.hashNDegreeQuads($,j);if(R+=j.getId($),R+=`<${z.hash}>`,j=z.issuer,y.length!==0&&R>y){q=!0;break}}q||(y.length===0||R<y)&&(y=R,x=j)}}p.update(y),c=x}return{hash:yield p.digest(),issuer:c}})}modifyFirstDegreeComponent(s,c){return c.termType!=="BlankNode"?c:{termType:"BlankNode",value:c.value===s?"_:a":"_:z"}}getRelatedPredicate(s){return`<${s.predicate.value}>`}createHashToRelated(s,c){return Le(this,null,function*(){let u=new Map,p=this.blankNodeInfo.get(s).quads,m=0;for(let g of p)++m%100==0&&(yield this._yield()),yield Promise.all([this._addRelatedBlankNodeHash({quad:g,component:g.subject,position:"s",id:s,issuer:c,hashToRelated:u}),this._addRelatedBlankNodeHash({quad:g,component:g.object,position:"o",id:s,issuer:c,hashToRelated:u}),this._addRelatedBlankNodeHash({quad:g,component:g.graph,position:"g",id:s,issuer:c,hashToRelated:u})]);return u})}_hashAndTrackBlankNode(u){return Le(this,arguments,function*({id:s,hashToBlankNodes:c}){let p=yield this.hashFirstDegreeQuads(s),m=c.get(p);m?m.push(s):c.set(p,[s])})}_addBlankNodeQuadInfo({quad:s,component:c}){if(c.termType!=="BlankNode")return;let u=c.value,p=this.blankNodeInfo.get(u);p?p.quads.add(s):this.blankNodeInfo.set(u,{quads:new Set([s]),hash:null})}_addRelatedBlankNodeHash(v){return Le(this,arguments,function*({quad:s,component:c,position:u,id:p,issuer:m,hashToRelated:g}){if(c.termType!=="BlankNode"||c.value===p)return;let x=c.value,y=yield this.hashRelatedBlankNode(x,s,m,u),w=g.get(y);w?w.push(x):g.set(y,[x])})}_componentWithCanonicalId(s){return s.termType!=="BlankNode"||s.value.startsWith(this.canonicalIssuer.prefix)?s:{termType:"BlankNode",value:this.canonicalIssuer.getId(s.value)}}_yield(){return Le(this,null,function*(){return new Promise(s=>setImmediate(s))})}}},2438:(i,n,r)=>{let o=r(2985),e=r(3751),t=r(9925),a=r(1227);function d(s,c){return s.hash<c.hash?-1:s.hash>c.hash?1:0}i.exports=class{constructor({createMessageDigest:s=()=>new e("sha256"),canonicalIdMap:c=new Map,maxDeepIterations:u=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new o("_:c14n",c),this.createMessageDigest=s,this.maxDeepIterations=u,this.quads=null,this.deepIterations=null}main(s){this.deepIterations=new Map,this.quads=s;for(let v of s)this._addBlankNodeQuadInfo({quad:v,component:v.subject}),this._addBlankNodeQuadInfo({quad:v,component:v.object}),this._addBlankNodeQuadInfo({quad:v,component:v.graph});let c=new Map,u=[...this.blankNodeInfo.keys()];for(let v of u)this._hashAndTrackBlankNode({id:v,hashToBlankNodes:c});let p=[...c.keys()].sort(),m=[];for(let v of p){let x=c.get(v);if(x.length>1){m.push(x);continue}let y=x[0];this.canonicalIssuer.getId(y)}for(let v of m){let x=[];for(let y of v){if(this.canonicalIssuer.hasId(y))continue;let w=new o("_:b");w.getId(y);let S=this.hashNDegreeQuads(y,w);x.push(S)}x.sort(d);for(let y of x){let w=y.issuer.getOldIds();for(let S of w)this.canonicalIssuer.getId(S)}}let g=[];for(let v of this.quads){let x=a.serializeQuadComponents(this._componentWithCanonicalId({component:v.subject}),v.predicate,this._componentWithCanonicalId({component:v.object}),this._componentWithCanonicalId({component:v.graph}));g.push(x)}return g.sort(),g.join("")}hashFirstDegreeQuads(s){let c=[],u=this.blankNodeInfo.get(s),p=u.quads;for(let g of p){let v={subject:null,predicate:g.predicate,object:null,graph:null};v.subject=this.modifyFirstDegreeComponent(s,g.subject,"subject"),v.object=this.modifyFirstDegreeComponent(s,g.object,"object"),v.graph=this.modifyFirstDegreeComponent(s,g.graph,"graph"),c.push(a.serializeQuad(v))}c.sort();let m=this.createMessageDigest();for(let g of c)m.update(g);return u.hash=m.digest(),u.hash}hashRelatedBlankNode(s,c,u,p){let m;m=this.canonicalIssuer.hasId(s)?this.canonicalIssuer.getId(s):u.hasId(s)?u.getId(s):this.blankNodeInfo.get(s).hash;let g=this.createMessageDigest();return g.update(p),p!=="g"&&g.update(this.getRelatedPredicate(c)),g.update(m),g.digest()}hashNDegreeQuads(s,c){let u=this.deepIterations.get(s)||0;if(u>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(s,u+1);let p=this.createMessageDigest(),m=this.createHashToRelated(s,c),g=[...m.keys()].sort();for(let v of g){p.update(v);let x,y="",w=new t(m.get(v));for(;w.hasNext();){let S=w.next(),P=c.clone(),j="",R=[],T=!1;for(let q of S)if(this.canonicalIssuer.hasId(q)?j+=this.canonicalIssuer.getId(q):(P.hasId(q)||R.push(q),j+=P.getId(q)),y.length!==0&&j>y){T=!0;break}if(!T){for(let q of R){let $=this.hashNDegreeQuads(q,P);if(j+=P.getId(q),j+=`<${$.hash}>`,P=$.issuer,y.length!==0&&j>y){T=!0;break}}T||(y.length===0||j<y)&&(y=j,x=P)}}p.update(y),c=x}return{hash:p.digest(),issuer:c}}modifyFirstDegreeComponent(s,c){return c.termType!=="BlankNode"?c:{termType:"BlankNode",value:c.value===s?"_:a":"_:z"}}getRelatedPredicate(s){return`<${s.predicate.value}>`}createHashToRelated(s,c){let u=new Map,p=this.blankNodeInfo.get(s).quads;for(let m of p)this._addRelatedBlankNodeHash({quad:m,component:m.subject,position:"s",id:s,issuer:c,hashToRelated:u}),this._addRelatedBlankNodeHash({quad:m,component:m.object,position:"o",id:s,issuer:c,hashToRelated:u}),this._addRelatedBlankNodeHash({quad:m,component:m.graph,position:"g",id:s,issuer:c,hashToRelated:u});return u}_hashAndTrackBlankNode({id:s,hashToBlankNodes:c}){let u=this.hashFirstDegreeQuads(s),p=c.get(u);p?p.push(s):c.set(u,[s])}_addBlankNodeQuadInfo({quad:s,component:c}){if(c.termType!=="BlankNode")return;let u=c.value,p=this.blankNodeInfo.get(u);p?p.quads.add(s):this.blankNodeInfo.set(u,{quads:new Set([s]),hash:null})}_addRelatedBlankNodeHash({quad:s,component:c,position:u,id:p,issuer:m,hashToRelated:g}){if(c.termType!=="BlankNode"||c.value===p)return;let v=c.value,x=this.hashRelatedBlankNode(v,s,m,u),y=g.get(x);y?y.push(v):g.set(x,[v])}_componentWithCanonicalId({component:s}){return s.termType!=="BlankNode"||s.value.startsWith(this.canonicalIssuer.prefix)?s:{termType:"BlankNode",value:this.canonicalIssuer.getId(s.value)}}}},3845:(i,n,r)=>{let o=r(3751),e=r(3513);i.exports=class extends e{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new o("sha1")}modifyFirstDegreeComponent(t,a,d){return a.termType!=="BlankNode"?a:d==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:a.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,a){return Le(this,null,function*(){let d=new Map,s=this.blankNodeInfo.get(t).quads,c=0;for(let u of s){let p,m;if(u.subject.termType==="BlankNode"&&u.subject.value!==t)m=u.subject.value,p="p";else{if(u.object.termType!=="BlankNode"||u.object.value===t)continue;m=u.object.value,p="r"}++c%100==0&&(yield this._yield());let g=yield this.hashRelatedBlankNode(m,u,a,p),v=d.get(g);v?v.push(m):d.set(g,[m])}return d})}}},378:(i,n,r)=>{let o=r(3751),e=r(2438);i.exports=class extends e{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new o("sha1")}modifyFirstDegreeComponent(t,a,d){return a.termType!=="BlankNode"?a:d==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:a.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,a){let d=new Map,s=this.blankNodeInfo.get(t).quads;for(let c of s){let u,p;if(c.subject.termType==="BlankNode"&&c.subject.value!==t)p=c.subject.value,u="p";else{if(c.object.termType!=="BlankNode"||c.object.value===t)continue;p=c.object.value,u="r"}let m=this.hashRelatedBlankNode(p,c,a,u),g=d.get(m);g?g.push(p):d.set(m,[p])}return d}}},4005:(i,n,r)=>{let o=r(3513),e=r(3845),t=r(2438),a=r(378),d;try{d=r(7789)}catch{}function s(c){return Array.isArray(c)?c:n.NQuads.legacyDatasetToQuads(c)}n.NQuads=r(1227),n.IdentifierIssuer=r(2985),n._rdfCanonizeNative=function(c){return c&&(d=c),d},n.canonize=function(c,u){return Le(this,null,function*(){let p=s(c);if(u.useNative){if(!d)throw new Error("rdf-canonize-native not available");if(u.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((m,g)=>d.canonize(p,u,(v,x)=>v?g(v):m(x)))}if(u.algorithm==="URDNA2015")return new o(u).main(p);if(u.algorithm==="URGNA2012"){if(u.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new e(u).main(p)}throw"algorithm"in u?new Error("Invalid RDF Dataset Canonicalization algorithm: "+u.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")})},n._canonizeSync=function(c,u){let p=s(c);if(u.useNative){if(!d)throw new Error("rdf-canonize-native not available");if(u.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return d.canonizeSync(p,u)}if(u.algorithm==="URDNA2015")return new t(u).main(p);if(u.algorithm==="URGNA2012"){if(u.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new a(u).main(p)}throw"algorithm"in u?new Error("Invalid RDF Dataset Canonicalization algorithm: "+u.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}},7793:function(i,n,r){var o=this&&this.__createBinding||(Object.create?function(t,a,d,s){s===void 0&&(s=d),Object.defineProperty(t,s,{enumerable:!0,get:function(){return a[d]}})}:function(t,a,d,s){s===void 0&&(s=d),t[s]=a[d]}),e=this&&this.__exportStar||function(t,a){for(var d in t)d==="default"||Object.prototype.hasOwnProperty.call(a,d)||o(a,t,d)};Object.defineProperty(n,"__esModule",{value:!0}),e(r(9931),n),e(r(8483),n),e(r(2142),n),e(r(2426),n),e(r(3988),n),e(r(6754),n),e(r(8401),n)},9931:(i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BlankNode=void 0,n.BlankNode=class{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}},8483:(i,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DataFactory=void 0;let o=r(9931),e=r(2142),t=r(2426),a=r(3988),d=r(6754),s=r(8401),c=0;n.DataFactory=class{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${c++}_`}namedNode(u){return new a.NamedNode(u)}blankNode(u){return new o.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,p){return new t.Literal(u,p)}variable(u){return new s.Variable(u)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(u,p,m,g){return new d.Quad(u,p,m,g||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(t.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},2142:(i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultGraph=void 0;class r{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&e.termType==="DefaultGraph"}}n.DefaultGraph=r,r.INSTANCE=new r},2426:(i,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Literal=void 0;let o=r(3988);class e{constructor(a,d){this.termType="Literal",this.value=a,typeof d=="string"?(this.language=d,this.datatype=e.RDF_LANGUAGE_STRING):d?(this.language="",this.datatype=d):(this.language="",this.datatype=e.XSD_STRING)}equals(a){return!!a&&a.termType==="Literal"&&a.value===this.value&&a.language===this.language&&this.datatype.equals(a.datatype)}}n.Literal=e,e.RDF_LANGUAGE_STRING=new o.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.XSD_STRING=new o.NamedNode("http://www.w3.org/2001/XMLSchema#string")},3988:(i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.NamedNode=void 0,n.NamedNode=class{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}},6754:(i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Quad=void 0,n.Quad=class{constructor(r,o,e,t){this.termType="Quad",this.value="",this.subject=r,this.predicate=o,this.object=e,this.graph=t}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}},8401:(i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Variable=void 0,n.Variable=class{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}},9349:function(i,n,r){var o=this&&this.__createBinding||(Object.create?function(p,m,g,v){v===void 0&&(v=g);var x=Object.getOwnPropertyDescriptor(m,g);x&&!("get"in x?!m.__esModule:x.writable||x.configurable)||(x={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(p,v,x)}:function(p,m,g,v){v===void 0&&(v=g),p[v]=m[g]}),e=this&&this.__exportStar||function(p,m){for(var g in p)g==="default"||Object.prototype.hasOwnProperty.call(m,g)||o(m,p,g)};Object.defineProperty(n,"__esModule",{value:!0}),n.getSupportedJavaScriptPrimitives=n.getSupportedRdfDatatypes=n.getTermRaw=n.toRdf=n.fromRdf=void 0;let t=r(7793),a=r(4802),d=r(103);e(r(4802),n),e(r(5448),n),e(r(103),n);let s=new t.DataFactory,c=new d.Translator;function u(p,m){return c.fromRdf(p,m)}c.registerHandler(new a.TypeHandlerString,a.TypeHandlerString.TYPES.map(p=>s.namedNode(p)),["string"]),c.registerHandler(new a.TypeHandlerBoolean,[a.TypeHandlerBoolean.TYPE].map(p=>s.namedNode(p)),["boolean"]),c.registerHandler(new a.TypeHandlerNumberDouble,a.TypeHandlerNumberDouble.TYPES.map(p=>s.namedNode(p)),["number"]),c.registerHandler(new a.TypeHandlerNumberInteger,a.TypeHandlerNumberInteger.TYPES.map(p=>s.namedNode(p)),["number"]),c.registerHandler(new a.TypeHandlerDate,a.TypeHandlerDate.TYPES.map(p=>s.namedNode(p)),["object"]),n.fromRdf=u,n.toRdf=function(p,m){return m&&"namedNode"in m&&(m={dataFactory:m}),(m=m||{})&&!m.dataFactory&&(m.dataFactory=s),c.toRdf(p,m)},n.getTermRaw=function(p,m){return p.termType==="Literal"?u(p,m):p.value},n.getSupportedRdfDatatypes=function(){return c.getSupportedRdfDatatypes()},n.getSupportedJavaScriptPrimitives=function(){return c.getSupportedJavaScriptPrimitives()}},5448:(i,n)=>{Object.defineProperty(n,"__esModule",{value:!0})},103:(i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Translator=void 0,n.Translator=class{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(r){throw new Error(`Invalid RDF ${r.datatype.value} value: '${r.value}'`)}registerHandler(r,o,e){for(let t of o)this.supportedRdfDatatypes.push(t),this.fromRdfHandlers[t.value]=r;for(let t of e){let a=this.toRdfHandlers[t];a||(this.toRdfHandlers[t]=a=[]),a.push(r)}}fromRdf(r,o){let e=this.fromRdfHandlers[r.datatype.value];return e?e.fromRdf(r,o):r.value}toRdf(r,o){let e=this.toRdfHandlers[typeof r];if(e)for(let t of e){let a=t.toRdf(r,o);if(a)return a}throw new Error(`Invalid JavaScript value: '${r}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}}},92:(i,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TypeHandlerBoolean=void 0;let o=r(103);class e{fromRdf(a,d){switch(a.value){case"true":case"1":return!0;case"false":case"0":return!1}return d&&o.Translator.incorrectRdfDataType(a),!1}toRdf(a,{datatype:d,dataFactory:s}){return s.literal(a?"true":"false",d||s.namedNode(e.TYPE))}}e.TYPE="http://www.w3.org/2001/XMLSchema#boolean",n.TypeHandlerBoolean=e},7258:(i,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TypeHandlerDate=void 0;let o=r(103);class e{fromRdf(a,d){switch(d&&!a.value.match(e.VALIDATORS[a.datatype.value.substr(33,a.datatype.value.length)])&&o.Translator.incorrectRdfDataType(a),a.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(a.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":let s=a.value.split("-");return new Date(0,parseInt(s[0],10)-1,parseInt(s[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(a.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(a.value+"-01");default:return new Date(a.value)}}toRdf(a,{datatype:d,dataFactory:s}){if(d=d||s.namedNode(e.TYPES[0]),!(a instanceof Date))return null;let c=a,u;switch(d.value){case"http://www.w3.org/2001/XMLSchema#gDay":u=String(c.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":u=c.getUTCMonth()+1+"-"+c.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":u=String(c.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":u=c.getUTCFullYear()+"-"+(c.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":u=c.toISOString().replace(/T.*$/,"");break;default:u=c.toISOString()}return s.literal(u,d)}}e.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],e.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/},n.TypeHandlerDate=e},2406:(i,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TypeHandlerNumberDouble=void 0;let o=r(103);class e{fromRdf(a,d){let s=parseFloat(a.value);return d&&isNaN(s)&&o.Translator.incorrectRdfDataType(a),s}toRdf(a,{datatype:d,dataFactory:s}){return d=d||s.namedNode(e.TYPES[0]),isNaN(a)?s.literal("NaN",d):isFinite(a)?a%1==0?null:s.literal(a.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),d):s.literal(a>0?"INF":"-INF",d)}}e.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"],n.TypeHandlerNumberDouble=e},6925:(i,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TypeHandlerNumberInteger=void 0;let o=r(103);class e{fromRdf(a,d){let s=parseInt(a.value,10);return d&&(isNaN(s)||a.value.indexOf(".")>=0)&&o.Translator.incorrectRdfDataType(a),s}toRdf(a,{datatype:d,dataFactory:s}){return s.literal(String(a),d||(a<=e.MAX_INT&&a>=e.MIN_INT?s.namedNode(e.TYPES[0]):s.namedNode(e.TYPES[1])))}}e.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],e.MAX_INT=2147483647,e.MIN_INT=-2147483648,n.TypeHandlerNumberInteger=e},4191:(i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TypeHandlerString=void 0;class r{fromRdf(e){return e.value}toRdf(e,{datatype:t,dataFactory:a}){return a.literal(e,t)}}r.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"],n.TypeHandlerString=r},4802:function(i,n,r){var o=this&&this.__createBinding||(Object.create?function(t,a,d,s){s===void 0&&(s=d);var c=Object.getOwnPropertyDescriptor(a,d);c&&!("get"in c?!a.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return a[d]}}),Object.defineProperty(t,s,c)}:function(t,a,d,s){s===void 0&&(s=d),t[s]=a[d]}),e=this&&this.__exportStar||function(t,a){for(var d in t)d==="default"||Object.prototype.hasOwnProperty.call(a,d)||o(a,t,d)};Object.defineProperty(n,"__esModule",{value:!0}),e(r(92),n),e(r(7258),n),e(r(2406),n),e(r(6925),n),e(r(4191),n)},4147:(i,n,r)=>{let{SymbolDispose:o}=r(4134),{AbortError:e,codes:t}=r(6371),{isNodeStream:a,isWebStream:d,kControllerErrorFunction:s}=r(6115),c=r(6238),{ERR_INVALID_ARG_TYPE:u}=t,p;i.exports.addAbortSignal=function(m,g){if(((v,x)=>{if(typeof v!="object"||!("aborted"in v))throw new u("signal","AbortSignal",v)})(m),!a(g)&&!d(g))throw new u("stream",["ReadableStream","WritableStream","Stream"],g);return i.exports.addAbortSignalNoValidate(m,g)},i.exports.addAbortSignalNoValidate=function(m,g){if(typeof m!="object"||!("aborted"in m))return g;let v=a(g)?()=>{g.destroy(new e(void 0,{cause:m.reason}))}:()=>{g[s](new e(void 0,{cause:m.reason}))};if(m.aborted)v();else{p=p||r(7760).addAbortListener;let x=p(m,v);c(g,x[o])}return g}},345:(i,n,r)=>{let{StringPrototypeSlice:o,SymbolIterator:e,TypedArrayPrototypeSet:t,Uint8Array:a}=r(4134),{Buffer:d}=r(8287),{inspect:s}=r(7760);i.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(c){let u={data:c,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}unshift(c){let u={data:c,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}shift(){if(this.length===0)return;let c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}clear(){this.head=this.tail=null,this.length=0}join(c){if(this.length===0)return"";let u=this.head,p=""+u.data;for(;(u=u.next)!==null;)p+=c+u.data;return p}concat(c){if(this.length===0)return d.alloc(0);let u=d.allocUnsafe(c>>>0),p=this.head,m=0;for(;p;)t(u,p.data,m),m+=p.data.length,p=p.next;return u}consume(c,u){let p=this.head.data;if(c<p.length){let m=p.slice(0,c);return this.head.data=p.slice(c),m}return c===p.length?this.shift():u?this._getString(c):this._getBuffer(c)}first(){return this.head.data}*[e](){for(let c=this.head;c;c=c.next)yield c.data}_getString(c){let u="",p=this.head,m=0;do{let g=p.data;if(!(c>g.length)){c===g.length?(u+=g,++m,p.next?this.head=p.next:this.head=this.tail=null):(u+=o(g,0,c),this.head=p,p.data=o(g,c));break}u+=g,c-=g.length,++m}while((p=p.next)!==null);return this.length-=m,u}_getBuffer(c){let u=d.allocUnsafe(c),p=c,m=this.head,g=0;do{let v=m.data;if(!(c>v.length)){c===v.length?(t(u,v,p-c),++g,m.next?this.head=m.next:this.head=this.tail=null):(t(u,new a(v.buffer,v.byteOffset,c),p-c),this.head=m,m.data=v.slice(c));break}t(u,v,p-c),c-=v.length,++g}while((m=m.next)!==null);return this.length-=g,u}[Symbol.for("nodejs.util.inspect.custom")](c,u){return s(this,st(Pe({},u),{depth:0,customInspect:!1}))}}},7830:(i,n,r)=>{let{pipeline:o}=r(7758),e=r(3370),{destroyer:t}=r(5896),{isNodeStream:a,isReadable:d,isWritable:s,isWebStream:c,isTransformStream:u,isWritableStream:p,isReadableStream:m}=r(6115),{AbortError:g,codes:{ERR_INVALID_ARG_VALUE:v,ERR_MISSING_ARGS:x}}=r(6371),y=r(6238);i.exports=function(...w){if(w.length===0)throw new x("streams");if(w.length===1)return e.from(w[0]);let S=[...w];if(typeof w[0]=="function"&&(w[0]=e.from(w[0])),typeof w[w.length-1]=="function"){let B=w.length-1;w[B]=e.from(w[B])}for(let B=0;B<w.length;++B)if(a(w[B])||c(w[B])){if(B<w.length-1&&!(d(w[B])||m(w[B])||u(w[B])))throw new v(`streams[${B}]`,S[B],"must be readable");if(B>0&&!(s(w[B])||p(w[B])||u(w[B])))throw new v(`streams[${B}]`,S[B],"must be writable")}let P,j,R,T,q,$=w[0],z=o(w,function(B){let se=T;T=null,se?se(B):B?q.destroy(B):Z||I||q.destroy()}),I=!!(s($)||p($)||u($)),Z=!!(d(z)||m(z)||u(z));if(q=new e({writableObjectMode:!($==null||!$.writableObjectMode),readableObjectMode:!(z==null||!z.readableObjectMode),writable:I,readable:Z}),I){if(a($))q._write=function(se,ge,ae){$.write(se,ge)?ae():P=ae},q._final=function(se){$.end(),j=se},$.on("drain",function(){if(P){let se=P;P=null,se()}});else if(c($)){let se=(u($)?$.writable:$).getWriter();q._write=function(ge,ae,U){return Le(this,null,function*(){try{yield se.ready,se.write(ge).catch(()=>{}),U()}catch(ve){U(ve)}})},q._final=function(ge){return Le(this,null,function*(){try{yield se.ready,se.close().catch(()=>{}),j=ge}catch(ae){ge(ae)}})}}let B=u(z)?z.readable:z;y(B,()=>{if(j){let se=j;j=null,se()}})}if(Z){if(a(z))z.on("readable",function(){if(R){let B=R;R=null,B()}}),z.on("end",function(){q.push(null)}),q._read=function(){for(;;){let B=z.read();if(B===null)return void(R=q._read);if(!q.push(B))return}};else if(c(z)){let B=(u(z)?z.readable:z).getReader();q._read=function(){return Le(this,null,function*(){for(;;)try{let{value:se,done:ge}=yield B.read();if(!q.push(se))return;if(ge)return void q.push(null)}catch{return}})}}}return q._destroy=function(B,se){B||T===null||(B=new g),R=null,P=null,j=null,T===null?se(B):(T=se,a(z)&&t(z,B))},q}},5896:(i,n,r)=>{let o=r(5606),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:t},AbortError:a}=r(6371),{Symbol:d}=r(4134),{kIsDestroyed:s,isDestroyed:c,isFinished:u,isServerRequest:p}=r(6115),m=d("kDestroy"),g=d("kConstruct");function v(z,I,Z){z&&(z.stack,I&&!I.errored&&(I.errored=z),Z&&!Z.errored&&(Z.errored=z))}function x(z,I,Z){let B=!1;function se(ge){if(B)return;B=!0;let ae=z._readableState,U=z._writableState;v(ge,U,ae),U&&(U.closed=!0),ae&&(ae.closed=!0),typeof Z=="function"&&Z(ge),ge?o.nextTick(y,z,ge):o.nextTick(w,z)}try{z._destroy(I||null,se)}catch(ge){se(ge)}}function y(z,I){S(z,I),w(z)}function w(z){let I=z._readableState,Z=z._writableState;Z&&(Z.closeEmitted=!0),I&&(I.closeEmitted=!0),(Z!=null&&Z.emitClose||I!=null&&I.emitClose)&&z.emit("close")}function S(z,I){let Z=z._readableState,B=z._writableState;B!=null&&B.errorEmitted||Z!=null&&Z.errorEmitted||(B&&(B.errorEmitted=!0),Z&&(Z.errorEmitted=!0),z.emit("error",I))}function P(z,I,Z){let B=z._readableState,se=z._writableState;if(se!=null&&se.destroyed||B!=null&&B.destroyed)return this;B!=null&&B.autoDestroy||se!=null&&se.autoDestroy?z.destroy(I):I&&(I.stack,se&&!se.errored&&(se.errored=I),B&&!B.errored&&(B.errored=I),Z?o.nextTick(S,z,I):S(z,I))}function j(z){let I=!1;function Z(B){if(I)return void P(z,B??new t);I=!0;let se=z._readableState,ge=z._writableState,ae=ge||se;se&&(se.constructed=!0),ge&&(ge.constructed=!0),ae.destroyed?z.emit(m,B):B?P(z,B,!0):o.nextTick(R,z)}try{z._construct(B=>{o.nextTick(Z,B)})}catch(B){o.nextTick(Z,B)}}function R(z){z.emit(g)}function T(z){return z?.setHeader&&typeof z.abort=="function"}function q(z){z.emit("close")}function $(z,I){z.emit("error",I),o.nextTick(q,z)}i.exports={construct:function(z,I){if(typeof z._construct!="function")return;let Z=z._readableState,B=z._writableState;Z&&(Z.constructed=!1),B&&(B.constructed=!1),z.once(g,I),z.listenerCount(g)>1||o.nextTick(j,z)},destroyer:function(z,I){z&&!c(z)&&(I||u(z)||(I=new a),p(z)?(z.socket=null,z.destroy(I)):T(z)?z.abort():T(z.req)?z.req.abort():typeof z.destroy=="function"?z.destroy(I):typeof z.close=="function"?z.close():I?o.nextTick($,z,I):o.nextTick(q,z),z.destroyed||(z[s]=!0))},destroy:function(z,I){let Z=this._readableState,B=this._writableState,se=B||Z;return B!=null&&B.destroyed||Z!=null&&Z.destroyed?(typeof I=="function"&&I(),this):(v(z,B,Z),B&&(B.destroyed=!0),Z&&(Z.destroyed=!0),se.constructed?x(this,z,I):this.once(m,function(ge){x(this,e(ge,z),I)}),this)},undestroy:function(){let z=this._readableState,I=this._writableState;z&&(z.constructed=!0,z.closed=!1,z.closeEmitted=!1,z.destroyed=!1,z.errored=null,z.errorEmitted=!1,z.reading=!1,z.ended=z.readable===!1,z.endEmitted=z.readable===!1),I&&(I.constructed=!0,I.destroyed=!1,I.closed=!1,I.closeEmitted=!1,I.errored=null,I.errorEmitted=!1,I.finalCalled=!1,I.prefinished=!1,I.ended=I.writable===!1,I.ending=I.writable===!1,I.finished=I.writable===!1)},errorOrDestroy:P}},3370:(i,n,r)=>{let{ObjectDefineProperties:o,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:t,ObjectSetPrototypeOf:a}=r(4134);i.exports=c;let d=r(7576),s=r(8584);a(c.prototype,d.prototype),a(c,d);{let g=t(s.prototype);for(let v=0;v<g.length;v++){let x=g[v];c.prototype[x]||(c.prototype[x]=s.prototype[x])}}function c(g){if(!(this instanceof c))return new c(g);d.call(this,g),s.call(this,g),g?(this.allowHalfOpen=g.allowHalfOpen!==!1,g.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),g.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let u,p;function m(){return u===void 0&&(u={}),u}o(c.prototype,{writable:Pe({__proto__:null},e(s.prototype,"writable")),writableHighWaterMark:Pe({__proto__:null},e(s.prototype,"writableHighWaterMark")),writableObjectMode:Pe({__proto__:null},e(s.prototype,"writableObjectMode")),writableBuffer:Pe({__proto__:null},e(s.prototype,"writableBuffer")),writableLength:Pe({__proto__:null},e(s.prototype,"writableLength")),writableFinished:Pe({__proto__:null},e(s.prototype,"writableFinished")),writableCorked:Pe({__proto__:null},e(s.prototype,"writableCorked")),writableEnded:Pe({__proto__:null},e(s.prototype,"writableEnded")),writableNeedDrain:Pe({__proto__:null},e(s.prototype,"writableNeedDrain")),destroyed:{__proto__:null,get(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set(g){this._readableState&&this._writableState&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}}),c.fromWeb=function(g,v){return m().newStreamDuplexFromReadableWritablePair(g,v)},c.toWeb=function(g){return m().newReadableWritablePairFromDuplex(g)},c.from=function(g){return p||(p=r(6706)),p(g,"body")}},6706:(i,n,r)=>{let o=r(5606),e=r(8287),{isReadable:t,isWritable:a,isIterable:d,isNodeStream:s,isReadableNodeStream:c,isWritableNodeStream:u,isDuplexNodeStream:p,isReadableStream:m,isWritableStream:g}=r(6115),v=r(6238),{AbortError:x,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:w}}=r(6371),{destroyer:S}=r(5896),P=r(3370),j=r(7576),R=r(8584),{createDeferredPromise:T}=r(7760),q=r(6532),$=globalThis.Blob||e.Blob,z=$!==void 0?function(ge){return ge instanceof $}:function(ge){return!1},I=globalThis.AbortController||r(5568).AbortController,{FunctionPrototypeCall:Z}=r(4134);class B extends P{constructor(ae){super(ae),ae?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),ae?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function se(ge){let ae=ge.readable&&typeof ge.readable.read!="function"?j.wrap(ge.readable):ge.readable,U=ge.writable,ve,O,ne,he,Q,ue=!!t(ae),X=!!a(U);function ce(fe){let Te=he;he=null,Te?Te(fe):fe&&Q.destroy(fe)}return Q=new B({readableObjectMode:!(ae==null||!ae.readableObjectMode),writableObjectMode:!(U==null||!U.writableObjectMode),readable:ue,writable:X}),X&&(v(U,fe=>{X=!1,fe&&S(ae,fe),ce(fe)}),Q._write=function(fe,Te,we){U.write(fe,Te)?we():ve=we},Q._final=function(fe){U.end(),O=fe},U.on("drain",function(){if(ve){let fe=ve;ve=null,fe()}}),U.on("finish",function(){if(O){let fe=O;O=null,fe()}})),ue&&(v(ae,fe=>{ue=!1,fe&&S(ae,fe),ce(fe)}),ae.on("readable",function(){if(ne){let fe=ne;ne=null,fe()}}),ae.on("end",function(){Q.push(null)}),Q._read=function(){for(;;){let fe=ae.read();if(fe===null)return void(ne=Q._read);if(!Q.push(fe))return}}),Q._destroy=function(fe,Te){fe||he===null||(fe=new x),ne=null,ve=null,O=null,he===null?Te(fe):(he=Te,S(U,fe),S(ae,fe))},Q}i.exports=function ge(ae,U){if(p(ae))return ae;if(c(ae))return se({readable:ae});if(u(ae))return se({writable:ae});if(s(ae))return se({writable:!1,readable:!1});if(m(ae))return se({readable:j.fromWeb(ae)});if(g(ae))return se({writable:R.fromWeb(ae)});if(typeof ae=="function"){let{value:O,write:ne,final:he,destroy:Q}=function(X){let{promise:ce,resolve:fe}=T(),Te=new I,we=Te.signal;return{value:X(function(){return Xi(this,null,function*(){for(;;){let me=ce;ce=null;let{chunk:G,done:ye,cb:de}=yield new jn(me);if(o.nextTick(de),ye)return;if(we.aborted)throw new x(void 0,{cause:we.reason});({promise:ce,resolve:fe}=T()),yield G}})}(),{signal:we}),write(me,G,ye){let de=fe;fe=null,de({chunk:me,done:!1,cb:ye})},final(me){let G=fe;fe=null,G({done:!0,cb:me})},destroy(me,G){Te.abort(),G(me)}}}(ae);if(d(O))return q(B,O,{objectMode:!0,write:ne,final:he,destroy:Q});let ue=O?.then;if(typeof ue=="function"){let X,ce=Z(ue,O,fe=>{if(fe!=null)throw new w("nully","body",fe)},fe=>{S(X,fe)});return X=new B({objectMode:!0,readable:!1,write:ne,final(fe){he(()=>Le(this,null,function*(){try{yield ce,o.nextTick(fe,null)}catch(Te){o.nextTick(fe,Te)}}))},destroy:Q})}throw new w("Iterable, AsyncIterable or AsyncFunction",U,O)}if(z(ae))return ge(ae.arrayBuffer());if(d(ae))return q(B,ae,{objectMode:!0,writable:!1});if(m(ae?.readable)&&g(ae?.writable))return B.fromWeb(ae);if(typeof ae?.writable=="object"||typeof ae?.readable=="object")return se({readable:ae!=null&&ae.readable?c(ae?.readable)?ae?.readable:ge(ae.readable):void 0,writable:ae!=null&&ae.writable?u(ae?.writable)?ae?.writable:ge(ae.writable):void 0});let ve=ae?.then;if(typeof ve=="function"){let O;return Z(ve,ae,ne=>{ne!=null&&O.push(ne),O.push(null)},ne=>{S(O,ne)}),O=new B({objectMode:!0,writable:!1,read(){}})}throw new y(U,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],ae)}},6238:(i,n,r)=>{let o=r(5606),{AbortError:e,codes:t}=r(6371),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:d}=t,{kEmptyObject:s,once:c}=r(7760),{validateAbortSignal:u,validateFunction:p,validateObject:m,validateBoolean:g}=r(277),{Promise:v,PromisePrototypeThen:x,SymbolDispose:y}=r(4134),{isClosed:w,isReadable:S,isReadableNodeStream:P,isReadableStream:j,isReadableFinished:R,isReadableErrored:T,isWritable:q,isWritableNodeStream:$,isWritableStream:z,isWritableFinished:I,isWritableErrored:Z,isNodeStream:B,willEmitClose:se,kIsClosedPromise:ge}=r(6115),ae,U=()=>{};function ve(O,ne,he){var Q,ue;if(arguments.length===2?(he=ne,ne=s):ne==null?ne=s:m(ne,"options"),p(he,"callback"),u(ne.signal,"options.signal"),he=c(he),j(O)||z(O))return function(C,k,H){let ie=!1,re=U;if(k.signal)if(re=()=>{ie=!0,H.call(C,new e(void 0,{cause:k.signal.reason}))},k.signal.aborted)o.nextTick(re);else{ae=ae||r(7760).addAbortListener;let ze=ae(k.signal,re),Ge=H;H=c((...Qe)=>{ze[y](),Ge.apply(C,Qe)})}let Se=(...ze)=>{ie||o.nextTick(()=>H.apply(C,ze))};return x(C[ge].promise,Se,Se),U}(O,ne,he);if(!B(O))throw new a("stream",["ReadableStream","WritableStream","Stream"],O);let X=(Q=ne.readable)!==null&&Q!==void 0?Q:P(O),ce=(ue=ne.writable)!==null&&ue!==void 0?ue:$(O),fe=O._writableState,Te=O._readableState,we=()=>{O.writable||ye()},me=se(O)&&P(O)===X&&$(O)===ce,G=I(O,!1),ye=()=>{G=!0,O.destroyed&&(me=!1),(!me||O.readable&&!X)&&(X&&!de||he.call(O))},de=R(O,!1),_e=()=>{de=!0,O.destroyed&&(me=!1),(!me||O.writable&&!ce)&&(ce&&!G||he.call(O))},W=C=>{he.call(O,C)},pe=w(O),N=()=>{pe=!0;let C=Z(O)||T(O);return C&&typeof C!="boolean"?he.call(O,C):X&&!de&&P(O,!0)&&!R(O,!1)?he.call(O,new d):!ce||G||I(O,!1)?void he.call(O):he.call(O,new d)},D=()=>{pe=!0;let C=Z(O)||T(O);if(C&&typeof C!="boolean")return he.call(O,C);he.call(O)},Y=()=>{O.req.on("finish",ye)};(function(C){return C.setHeader&&typeof C.abort=="function"})(O)?(O.on("complete",ye),me||O.on("abort",N),O.req?Y():O.on("request",Y)):ce&&!fe&&(O.on("end",we),O.on("close",we)),me||typeof O.aborted!="boolean"||O.on("aborted",N),O.on("end",_e),O.on("finish",ye),ne.error!==!1&&O.on("error",W),O.on("close",N),pe?o.nextTick(N):fe!=null&&fe.errorEmitted||Te!=null&&Te.errorEmitted?me||o.nextTick(D):(X||me&&!S(O)||!G&&q(O)!==!1)&&(ce||me&&!q(O)||!de&&S(O)!==!1)?Te&&O.req&&O.aborted&&o.nextTick(D):o.nextTick(D);let _=()=>{he=U,O.removeListener("aborted",N),O.removeListener("complete",ye),O.removeListener("abort",N),O.removeListener("request",Y),O.req&&O.req.removeListener("finish",ye),O.removeListener("end",we),O.removeListener("close",we),O.removeListener("finish",ye),O.removeListener("end",_e),O.removeListener("error",W),O.removeListener("close",N)};if(ne.signal&&!pe){let C=()=>{let k=he;_(),k.call(O,new e(void 0,{cause:ne.signal.reason}))};if(ne.signal.aborted)o.nextTick(C);else{ae=ae||r(7760).addAbortListener;let k=ae(ne.signal,C),H=he;he=c((...ie)=>{k[y](),H.apply(O,ie)})}}return _}i.exports=ve,i.exports.finished=function(O,ne){var he;let Q=!1;return ne===null&&(ne=s),(he=ne)!==null&&he!==void 0&&he.cleanup&&(g(ne.cleanup,"cleanup"),Q=ne.cleanup),new v((ue,X)=>{let ce=ve(O,ne,fe=>{Q&&ce(),fe?X(fe):ue()})})}},6532:(i,n,r)=>{let o=r(5606),{PromisePrototypeThen:e,SymbolAsyncIterator:t,SymbolIterator:a}=r(4134),{Buffer:d}=r(8287),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_NULL_VALUES:c}=r(6371).codes;i.exports=function(u,p,m){let g,v;if(typeof p=="string"||p instanceof d)return new u(st(Pe({objectMode:!0},m),{read(){this.push(p),this.push(null)}}));if(p&&p[t])v=!0,g=p[t]();else{if(!p||!p[a])throw new s("iterable",["Iterable"],p);v=!1,g=p[a]()}let x=new u(Pe({objectMode:!0,highWaterMark:1},m)),y=!1;return x._read=function(){y||(y=!0,function(){return Le(this,null,function*(){for(;;){try{let{value:w,done:S}=v?yield g.next():g.next();if(S)x.push(null);else{let P=w&&typeof w.then=="function"?yield w:w;if(P===null)throw y=!1,new c;if(x.push(P))continue;y=!1}}catch(w){x.destroy(w)}break}})}())},x._destroy=function(w,S){e(function(P){return Le(this,null,function*(){let j=P!=null,R=typeof g.throw=="function";if(j&&R){let{value:T,done:q}=yield g.throw(P);if(yield T,q)return}if(typeof g.return=="function"){let{value:T}=yield g.return();yield T}})}(w),()=>o.nextTick(S,w),P=>o.nextTick(S,P||w))},x}},4259:(i,n,r)=>{let{ArrayIsArray:o,ObjectSetPrototypeOf:e}=r(4134),{EventEmitter:t}=r(7007);function a(s){t.call(this,s)}function d(s,c,u){if(typeof s.prependListener=="function")return s.prependListener(c,u);s._events&&s._events[c]?o(s._events[c])?s._events[c].unshift(u):s._events[c]=[u,s._events[c]]:s.on(c,u)}e(a.prototype,t.prototype),e(a,t),a.prototype.pipe=function(s,c){let u=this;function p(S){s.writable&&s.write(S)===!1&&u.pause&&u.pause()}function m(){u.readable&&u.resume&&u.resume()}u.on("data",p),s.on("drain",m),s._isStdio||c&&c.end===!1||(u.on("end",v),u.on("close",x));let g=!1;function v(){g||(g=!0,s.end())}function x(){g||(g=!0,typeof s.destroy=="function"&&s.destroy())}function y(S){w(),t.listenerCount(this,"error")===0&&this.emit("error",S)}function w(){u.removeListener("data",p),s.removeListener("drain",m),u.removeListener("end",v),u.removeListener("close",x),u.removeListener("error",y),s.removeListener("error",y),u.removeListener("end",w),u.removeListener("close",w),s.removeListener("close",w)}return d(u,"error",y),d(s,"error",y),u.on("end",w),u.on("close",w),s.on("close",w),s.emit("pipe",u),s},i.exports={Stream:a,prependListener:d}},823:(i,n,r)=>{let o=globalThis.AbortController||r(5568).AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:t,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:d},AbortError:s}=r(6371),{validateAbortSignal:c,validateInteger:u,validateObject:p}=r(277),m=r(4134).Symbol("kWeak"),g=r(4134).Symbol("kResistStopPropagation"),{finished:v}=r(6238),x=r(7830),{addAbortSignalNoValidate:y}=r(4147),{isWritable:w,isNodeStream:S}=r(6115),{deprecate:P}=r(7760),{ArrayPrototypePush:j,Boolean:R,MathFloor:T,Number:q,NumberIsNaN:$,Promise:z,PromiseReject:I,PromiseResolve:Z,PromisePrototypeThen:B,Symbol:se}=r(4134),ge=se("kEmpty"),ae=se("kEof");function U(Q,ue){if(typeof Q!="function")throw new t("fn",["Function","AsyncFunction"],Q);ue!=null&&p(ue,"options"),ue?.signal!=null&&c(ue.signal,"options.signal");let X=1;ue?.concurrency!=null&&(X=T(ue.concurrency));let ce=X-1;return ue?.highWaterMark!=null&&(ce=T(ue.highWaterMark)),u(X,"options.concurrency",1),u(ce,"options.highWaterMark",0),ce+=X,(function(){return Xi(this,null,function*(){let fe=r(7760).AbortSignalAny([ue?.signal].filter(R)),Te=this,we=[],me={signal:fe},G,ye,de=!1,_e=0;function W(){de=!0,pe()}function pe(){_e-=1,N()}function N(){ye&&!de&&_e<X&&we.length<ce&&(ye(),ye=null)}(function(){return Le(this,null,function*(){try{try{for(var D=qn(Te),Y,_,C;Y=!(_=yield D.next()).done;Y=!1){let k=_.value;if(de)return;if(fe.aborted)throw new s;try{if(k=Q(k,me),k===ge)continue;k=Z(k)}catch(H){k=I(H)}_e+=1,B(k,pe,W),we.push(k),G&&(G(),G=null),!de&&(we.length>=ce||_e>=X)&&(yield new z(H=>{ye=H}))}}catch{C=[_]}finally{try{Y&&(_=D.return)&&(yield _.call(D))}finally{if(C)throw C[0]}}we.push(ae)}catch(k){let H=I(k);B(H,pe,W),we.push(H)}finally{de=!0,G&&(G(),G=null)}})})();try{for(;;){for(;we.length>0;){let D=yield new jn(we[0]);if(D===ae)return;if(fe.aborted)throw new s;D!==ge&&(yield D),we.shift(),N()}yield new jn(new z(D=>{G=D}))}}finally{de=!0,ye&&(ye(),ye=null)}})}).call(this)}function ve(Q,ue=void 0){return Le(this,null,function*(){try{for(var X=qn(O.call(this,Q,ue)),ce,fe,Te;ce=!(fe=yield X.next()).done;ce=!1){let we=fe.value;return!0}}catch{Te=[fe]}finally{try{ce&&(fe=X.return)&&(yield fe.call(X))}finally{if(Te)throw Te[0]}}return!1})}function O(Q,ue){if(typeof Q!="function")throw new t("fn",["Function","AsyncFunction"],Q);return U.call(this,function(X,ce){return Le(this,null,function*(){return(yield Q(X,ce))?X:ge})},ue)}class ne extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function he(Q){if(Q=q(Q),$(Q))return 0;if(Q<0)throw new d("number",">= 0",Q);return Q}i.exports.streamReturningOperators={asIndexedPairs:P(function(Q=void 0){return Q!=null&&p(Q,"options"),Q?.signal!=null&&c(Q.signal,"options.signal"),(function(){return Xi(this,null,function*(){let ue=0;try{for(var ce=qn(this),fe,Te,we;fe=!(Te=yield new jn(ce.next())).done;fe=!1){let me=Te.value;var X;if(Q!=null&&(X=Q.signal)!==null&&X!==void 0&&X.aborted)throw new s({cause:Q.signal.reason});yield[ue++,me]}}catch{we=[Te]}finally{try{fe&&(Te=ce.return)&&(yield new jn(Te.call(ce)))}finally{if(we)throw we[0]}}})}).call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(Q,ue=void 0){return ue!=null&&p(ue,"options"),ue?.signal!=null&&c(ue.signal,"options.signal"),Q=he(Q),(function(){return Xi(this,null,function*(){var X;if(ue!=null&&(X=ue.signal)!==null&&X!==void 0&&X.aborted)throw new s;try{for(var fe=qn(this),Te,we,me;Te=!(we=yield new jn(fe.next())).done;Te=!1){let G=we.value;var ce;if(ue!=null&&(ce=ue.signal)!==null&&ce!==void 0&&ce.aborted)throw new s;Q--<=0&&(yield G)}}catch{me=[we]}finally{try{Te&&(we=fe.return)&&(yield new jn(we.call(fe)))}finally{if(me)throw me[0]}}})}).call(this)},filter:O,flatMap:function(Q,ue){let X=U.call(this,Q,ue);return(function(){return Xi(this,null,function*(){try{for(var ce=qn(X),fe,Te,we;fe=!(Te=yield new jn(ce.next())).done;fe=!1){let me=Te.value;yield*ni(me)}}catch{we=[Te]}finally{try{fe&&(Te=ce.return)&&(yield new jn(Te.call(ce)))}finally{if(we)throw we[0]}}})}).call(this)},map:U,take:function(Q,ue=void 0){return ue!=null&&p(ue,"options"),ue?.signal!=null&&c(ue.signal,"options.signal"),Q=he(Q),(function(){return Xi(this,null,function*(){var X;if(ue!=null&&(X=ue.signal)!==null&&X!==void 0&&X.aborted)throw new s;try{for(var fe=qn(this),Te,we,me;Te=!(we=yield new jn(fe.next())).done;Te=!1){let G=we.value;var ce;if(ue!=null&&(ce=ue.signal)!==null&&ce!==void 0&&ce.aborted)throw new s;if(Q-- >0&&(yield G),Q<=0)return}}catch{me=[we]}finally{try{Te&&(we=fe.return)&&(yield new jn(we.call(fe)))}finally{if(me)throw me[0]}}})}).call(this)},compose:function(Q,ue){if(ue!=null&&p(ue,"options"),ue?.signal!=null&&c(ue.signal,"options.signal"),S(Q)&&!w(Q))throw new e("stream",Q,"must be writable");let X=x(this,Q);return ue!=null&&ue.signal&&y(ue.signal,X),X}},i.exports.promiseReturningOperators={every:function(Q,ue=void 0){return Le(this,null,function*(){if(typeof Q!="function")throw new t("fn",["Function","AsyncFunction"],Q);return!(yield ve.call(this,(...X)=>Le(this,null,function*(){return!(yield Q(...X))}),ue))})},forEach:function(Q,ue){return Le(this,null,function*(){if(typeof Q!="function")throw new t("fn",["Function","AsyncFunction"],Q);try{for(var X=qn(U.call(this,function(me,G){return Le(this,null,function*(){return yield Q(me,G),ge})},ue)),ce,fe,Te;ce=!(fe=yield X.next()).done;ce=!1){let we=fe.value;;}}catch{Te=[fe]}finally{try{ce&&(fe=X.return)&&(yield fe.call(X))}finally{if(Te)throw Te[0]}}})},reduce:function(ce,fe,Te){return Le(this,arguments,function*(Q,ue,X){var we;if(typeof Q!="function")throw new t("reducer",["Function","AsyncFunction"],Q);X!=null&&p(X,"options"),X?.signal!=null&&c(X.signal,"options.signal");let me=arguments.length>1;if(X!=null&&(we=X.signal)!==null&&we!==void 0&&we.aborted){let Y=new s(void 0,{cause:X.signal.reason});throw this.once("error",()=>{}),yield v(this.destroy(Y)),Y}let G=new o,ye=G.signal;if(X!=null&&X.signal){let Y={once:!0,[m]:this,[g]:!0};X.signal.addEventListener("abort",()=>G.abort(),Y)}let de=!1;try{try{for(var W=qn(this),pe,N,D;pe=!(N=yield W.next()).done;pe=!1){let Y=N.value;var _e;if(de=!0,X!=null&&(_e=X.signal)!==null&&_e!==void 0&&_e.aborted)throw new s;me?ue=yield Q(ue,Y,{signal:ye}):(ue=Y,me=!0)}}catch{D=[N]}finally{try{pe&&(N=W.return)&&(yield N.call(W))}finally{if(D)throw D[0]}}if(!de&&!me)throw new ne}finally{G.abort()}return ue})},toArray:function(Q){return Le(this,null,function*(){Q!=null&&p(Q,"options"),Q?.signal!=null&&c(Q.signal,"options.signal");let ue=[];try{for(var ce=qn(this),fe,Te,we;fe=!(Te=yield ce.next()).done;fe=!1){let me=Te.value;var X;if(Q!=null&&(X=Q.signal)!==null&&X!==void 0&&X.aborted)throw new s(void 0,{cause:Q.signal.reason});j(ue,me)}}catch{we=[Te]}finally{try{fe&&(Te=ce.return)&&(yield Te.call(ce))}finally{if(we)throw we[0]}}return ue})},some:ve,find:function(Q,ue){return Le(this,null,function*(){try{for(var X=qn(O.call(this,Q,ue)),ce,fe,Te;ce=!(fe=yield X.next()).done;ce=!1){let we=fe.value;return we}}catch{Te=[fe]}finally{try{ce&&(fe=X.return)&&(yield fe.call(X))}finally{if(Te)throw Te[0]}}})}}},6524:(i,n,r)=>{let{ObjectSetPrototypeOf:o}=r(4134);i.exports=t;let e=r(5001);function t(a){if(!(this instanceof t))return new t(a);e.call(this,a)}o(t.prototype,e.prototype),o(t,e),t.prototype._transform=function(a,d,s){s(null,a)}},7758:(i,n,r)=>{let o=r(5606),{ArrayIsArray:e,Promise:t,SymbolAsyncIterator:a,SymbolDispose:d}=r(4134),s=r(6238),{once:c}=r(7760),u=r(5896),p=r(3370),{aggregateTwoErrors:m,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:v,ERR_MISSING_ARGS:x,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:w},AbortError:S}=r(6371),{validateFunction:P,validateAbortSignal:j}=r(277),{isIterable:R,isReadable:T,isReadableNodeStream:q,isNodeStream:$,isTransformStream:z,isWebStream:I,isReadableStream:Z,isReadableFinished:B}=r(6115),se=globalThis.AbortController||r(5568).AbortController,ge,ae,U;function ve(X,ce,fe){let Te=!1;return X.on("close",()=>{Te=!0}),{destroy:we=>{Te||(Te=!0,u.destroyer(X,we||new y("pipe")))},cleanup:s(X,{readable:ce,writable:fe},we=>{Te=!we})}}function O(X){if(R(X))return X;if(q(X))return function(ce){return Xi(this,null,function*(){ae||(ae=r(7576)),yield*ni(ae.prototype[a].call(ce))})}(X);throw new g("val",["Readable","Iterable","AsyncIterable"],X)}function ne(we,me,G,ye){return Le(this,arguments,function*(X,ce,fe,{end:Te}){let de,_e=null,W=k=>{if(k&&(de=k),_e){let H=_e;_e=null,H()}},pe=()=>new t((k,H)=>{de?H(de):_e=()=>{de?H(de):k()}});ce.on("drain",W);let N=s(ce,{readable:!1},W);try{ce.writableNeedDrain&&(yield pe());try{for(var D=qn(X),Y,_,C;Y=!(_=yield D.next()).done;Y=!1){let k=_.value;ce.write(k)||(yield pe())}}catch{C=[_]}finally{try{Y&&(_=D.return)&&(yield _.call(D))}finally{if(C)throw C[0]}}Te&&(ce.end(),yield pe()),fe()}catch(k){fe(de!==k?m(de,k):k)}finally{N(),ce.off("drain",W)}})}function he(we,me,G,ye){return Le(this,arguments,function*(X,ce,fe,{end:Te}){z(ce)&&(ce=ce.writable);let de=ce.getWriter();try{try{for(var _e=qn(X),W,pe,N;W=!(pe=yield _e.next()).done;W=!1){let D=pe.value;yield de.ready,de.write(D).catch(()=>{})}}catch{N=[pe]}finally{try{W&&(pe=_e.return)&&(yield pe.call(_e))}finally{if(N)throw N[0]}}yield de.ready,Te&&(yield de.close()),fe()}catch(D){try{yield de.abort(D),fe(D)}catch(Y){fe(Y)}}})}function Q(X,ce,fe){if(X.length===1&&e(X[0])&&(X=X[0]),X.length<2)throw new x("streams");let Te=new se,we=Te.signal,me=fe?.signal,G=[];function ye(){_(new S)}let de,_e,W;j(me,"options.signal"),U=U||r(7760).addAbortListener,me&&(de=U(me,ye));let pe=[],N,D=0;function Y(ie){_(ie,--D==0)}function _(ie,re){var Se;if(!ie||_e&&_e.code!=="ERR_STREAM_PREMATURE_CLOSE"||(_e=ie),_e||re){for(;pe.length;)pe.shift()(_e);(Se=de)===null||Se===void 0||Se[d](),Te.abort(),re&&(_e||G.forEach(ze=>ze()),o.nextTick(ce,_e,W))}}for(let ie=0;ie<X.length;ie++){let re=X[ie],Se=ie<X.length-1,ze=ie>0,Ge=Se||fe?.end!==!1,Qe=ie===X.length-1;if($(re)){let A=function(M){M&&M.name!=="AbortError"&&M.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Y(M)};var H=A;if(Ge){let{destroy:M,cleanup:K}=ve(re,Se,ze);pe.push(M),T(re)&&Qe&&G.push(K)}re.on("error",A),T(re)&&Qe&&G.push(()=>{re.removeListener("error",A)})}if(ie===0)if(typeof re=="function"){if(N=re({signal:we}),!R(N))throw new v("Iterable, AsyncIterable or Stream","source",N)}else N=R(re)||q(re)||z(re)?re:p.from(re);else if(typeof re=="function"){var C;if(N=z(N)?O((C=N)===null||C===void 0?void 0:C.readable):O(N),N=re(N,{signal:we}),Se){if(!R(N,!0))throw new v("AsyncIterable",`transform[${ie-1}]`,N)}else{var k;ge||(ge=r(6524));let A=new ge({objectMode:!0}),M=(k=N)===null||k===void 0?void 0:k.then;if(typeof M=="function")D++,M.call(N,F=>{W=F,F!=null&&A.write(F),Ge&&A.end(),o.nextTick(Y)},F=>{A.destroy(F),o.nextTick(Y,F)});else if(R(N,!0))D++,ne(N,A,Y,{end:Ge});else{if(!Z(N)&&!z(N))throw new v("AsyncIterable or Promise","destination",N);{let F=N.readable||N;D++,ne(F,A,Y,{end:Ge})}}N=A;let{destroy:K,cleanup:ee}=ve(N,!1,!0);pe.push(K),Qe&&G.push(ee)}}else if($(re)){if(q(N)){D+=2;let A=ue(N,re,Y,{end:Ge});T(re)&&Qe&&G.push(A)}else if(z(N)||Z(N)){let A=N.readable||N;D++,ne(A,re,Y,{end:Ge})}else{if(!R(N))throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],N);D++,ne(N,re,Y,{end:Ge})}N=re}else if(I(re)){if(q(N))D++,he(O(N),re,Y,{end:Ge});else if(Z(N)||R(N))D++,he(N,re,Y,{end:Ge});else{if(!z(N))throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],N);D++,he(N.readable,re,Y,{end:Ge})}N=re}else N=p.from(re)}return(we!=null&&we.aborted||me!=null&&me.aborted)&&o.nextTick(ye),N}function ue(X,ce,fe,{end:Te}){let we=!1;if(ce.on("close",()=>{we||fe(new w)}),X.pipe(ce,{end:!1}),Te){let G=function(){we=!0,ce.end()};var me=G;B(X)?o.nextTick(G):X.once("end",G)}else fe();return s(X,{readable:!0,writable:!1},G=>{let ye=X._readableState;G&&G.code==="ERR_STREAM_PREMATURE_CLOSE"&&ye&&ye.ended&&!ye.errored&&!ye.errorEmitted?X.once("end",fe).once("error",fe):fe(G)}),s(ce,{readable:!1,writable:!0},fe)}i.exports={pipelineImpl:Q,pipeline:function(...X){return Q(X,c(function(ce){return P(ce[ce.length-1],"streams[stream.length - 1]"),ce.pop()}(X)))}}},7576:(i,n,r)=>{let o=r(5606),{ArrayPrototypeIndexOf:e,NumberIsInteger:t,NumberIsNaN:a,NumberParseInt:d,ObjectDefineProperties:s,ObjectKeys:c,ObjectSetPrototypeOf:u,Promise:p,SafeSet:m,SymbolAsyncDispose:g,SymbolAsyncIterator:v,Symbol:x}=r(4134);i.exports=W,W.ReadableState=_e;let{EventEmitter:y}=r(7007),{Stream:w,prependListener:S}=r(4259),{Buffer:P}=r(8287),{addAbortSignal:j}=r(4147),R=r(6238),T=r(7760).debuglog("stream",F=>{T=F}),q=r(345),$=r(5896),{getHighWaterMark:z,getDefaultHighWaterMark:I}=r(5291),{aggregateTwoErrors:Z,codes:{ERR_INVALID_ARG_TYPE:B,ERR_METHOD_NOT_IMPLEMENTED:se,ERR_OUT_OF_RANGE:ge,ERR_STREAM_PUSH_AFTER_EOF:ae,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:U},AbortError:ve}=r(6371),{validateObject:O}=r(277),ne=x("kPaused"),{StringDecoder:he}=r(3141),Q=r(6532);u(W.prototype,w.prototype),u(W,w);let ue=()=>{},{errorOrDestroy:X}=$,ce=1,fe=16,Te=32,we=64,me=2048,G=4096,ye=65536;function de(F){return{enumerable:!1,get(){return!!(this.state&F)},set(J){J?this.state|=F:this.state&=~F}}}function _e(F,J,Re){typeof Re!="boolean"&&(Re=J instanceof r(3370)),this.state=me|G|fe|Te,F&&F.objectMode&&(this.state|=ce),Re&&F&&F.readableObjectMode&&(this.state|=ce),this.highWaterMark=F?z(this,F,"readableHighWaterMark",Re):I(!1),this.buffer=new q,this.length=0,this.pipes=[],this.flowing=null,this[ne]=null,F&&F.emitClose===!1&&(this.state&=~me),F&&F.autoDestroy===!1&&(this.state&=~G),this.errored=null,this.defaultEncoding=F&&F.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,F&&F.encoding&&(this.decoder=new he(F.encoding),this.encoding=F.encoding)}function W(F){if(!(this instanceof W))return new W(F);let J=this instanceof r(3370);this._readableState=new _e(F,this,J),F&&(typeof F.read=="function"&&(this._read=F.read),typeof F.destroy=="function"&&(this._destroy=F.destroy),typeof F.construct=="function"&&(this._construct=F.construct),F.signal&&!J&&j(F.signal,this)),w.call(this,F),$.construct(this,()=>{this._readableState.needReadable&&C(this,this._readableState)})}function pe(F,J,Re,Ae){T("readableAddChunk",J);let De=F._readableState,et;if(De.state&ce||(typeof J=="string"?(Re=Re||De.defaultEncoding,De.encoding!==Re&&(Ae&&De.encoding?J=P.from(J,Re).toString(De.encoding):(J=P.from(J,Re),Re=""))):J instanceof P?Re="":w._isUint8Array(J)?(J=w._uint8ArrayToBuffer(J),Re=""):J!=null&&(et=new B("chunk",["string","Buffer","Uint8Array"],J))),et)X(F,et);else if(J===null)De.state&=-9,function(mt,Rt){if(T("onEofChunk"),!Rt.ended){if(Rt.decoder){let yn=Rt.decoder.end();yn&&yn.length&&(Rt.buffer.push(yn),Rt.length+=Rt.objectMode?1:yn.length)}Rt.ended=!0,Rt.sync?Y(mt):(Rt.needReadable=!1,Rt.emittedReadable=!0,_(mt))}}(F,De);else if(De.state&ce||J&&J.length>0)if(Ae)if(4&De.state)X(F,new U);else{if(De.destroyed||De.errored)return!1;N(F,De,J,!0)}else if(De.ended)X(F,new ae);else{if(De.destroyed||De.errored)return!1;De.state&=-9,De.decoder&&!Re?(J=De.decoder.write(J),De.objectMode||J.length!==0?N(F,De,J,!1):C(F,De)):N(F,De,J,!1)}else Ae||(De.state&=-9,C(F,De));return!De.ended&&(De.length<De.highWaterMark||De.length===0)}function N(F,J,Re,Ae){J.flowing&&J.length===0&&!J.sync&&F.listenerCount("data")>0?(J.state&ye?J.awaitDrainWriters.clear():J.awaitDrainWriters=null,J.dataEmitted=!0,F.emit("data",Re)):(J.length+=J.objectMode?1:Re.length,Ae?J.buffer.unshift(Re):J.buffer.push(Re),J.state&we&&Y(F)),C(F,J)}function D(F,J){return F<=0||J.length===0&&J.ended?0:J.state&ce?1:a(F)?J.flowing&&J.length?J.buffer.first().length:J.length:F<=J.length?F:J.ended?J.length:0}function Y(F){let J=F._readableState;T("emitReadable",J.needReadable,J.emittedReadable),J.needReadable=!1,J.emittedReadable||(T("emitReadable",J.flowing),J.emittedReadable=!0,o.nextTick(_,F))}function _(F){let J=F._readableState;T("emitReadable_",J.destroyed,J.length,J.ended),J.destroyed||J.errored||!J.length&&!J.ended||(F.emit("readable"),J.emittedReadable=!1),J.needReadable=!J.flowing&&!J.ended&&J.length<=J.highWaterMark,Se(F)}function C(F,J){!J.readingMore&&J.constructed&&(J.readingMore=!0,o.nextTick(k,F,J))}function k(F,J){for(;!J.reading&&!J.ended&&(J.length<J.highWaterMark||J.flowing&&J.length===0);){let Re=J.length;if(T("maybeReadMore read 0"),F.read(0),Re===J.length)break}J.readingMore=!1}function H(F){let J=F._readableState;J.readableListening=F.listenerCount("readable")>0,J.resumeScheduled&&J[ne]===!1?J.flowing=!0:F.listenerCount("data")>0?F.resume():J.readableListening||(J.flowing=null)}function ie(F){T("readable nexttick read 0"),F.read(0)}function re(F,J){T("resume",J.reading),J.reading||F.read(0),J.resumeScheduled=!1,F.emit("resume"),Se(F),J.flowing&&!J.reading&&F.read(0)}function Se(F){let J=F._readableState;for(T("flow",J.flowing);J.flowing&&F.read()!==null;);}function ze(F,J){typeof F.read!="function"&&(F=W.wrap(F,{objectMode:!0}));let Re=function(Ae,De){return Xi(this,null,function*(){let et,mt=ue;function Rt(rn){this===Ae?(mt(),mt=ue):mt=rn}Ae.on("readable",Rt);let yn=R(Ae,{writable:!1},rn=>{et=rn?Z(et,rn):null,mt(),mt=ue});try{for(;;){let rn=Ae.destroyed?null:Ae.read();if(rn!==null)yield rn;else{if(et)throw et;if(et===null)return;yield new jn(new p(Rt))}}}catch(rn){throw et=Z(et,rn),et}finally{!et&&De?.destroyOnReturn===!1||et!==void 0&&!Ae._readableState.autoDestroy?(Ae.off("readable",Rt),yn()):$.destroyer(Ae,null)}})}(F,J);return Re.stream=F,Re}function Ge(F,J){if(J.length===0)return null;let Re;return J.objectMode?Re=J.buffer.shift():!F||F>=J.length?(Re=J.decoder?J.buffer.join(""):J.buffer.length===1?J.buffer.first():J.buffer.concat(J.length),J.buffer.clear()):Re=J.buffer.consume(F,J.decoder),Re}function Qe(F){let J=F._readableState;T("endReadable",J.endEmitted),J.endEmitted||(J.ended=!0,o.nextTick(A,J,F))}function A(F,J){if(T("endReadableNT",F.endEmitted,F.length),!F.errored&&!F.closeEmitted&&!F.endEmitted&&F.length===0){if(F.endEmitted=!0,J.emit("end"),J.writable&&J.allowHalfOpen===!1)o.nextTick(M,J);else if(F.autoDestroy){let Re=J._writableState;(!Re||Re.autoDestroy&&(Re.finished||Re.writable===!1))&&J.destroy()}}}function M(F){F.writable&&!F.writableEnded&&!F.destroyed&&F.end()}let K;function ee(){return K===void 0&&(K={}),K}s(_e.prototype,{objectMode:de(ce),ended:de(2),endEmitted:de(4),reading:de(8),constructed:de(fe),sync:de(Te),needReadable:de(we),emittedReadable:de(128),readableListening:de(256),resumeScheduled:de(512),errorEmitted:de(1024),emitClose:de(me),autoDestroy:de(G),destroyed:de(8192),closed:de(16384),closeEmitted:de(32768),multiAwaitDrain:de(ye),readingMore:de(131072),dataEmitted:de(262144)}),W.prototype.destroy=$.destroy,W.prototype._undestroy=$.undestroy,W.prototype._destroy=function(F,J){J(F)},W.prototype[y.captureRejectionSymbol]=function(F){this.destroy(F)},W.prototype[g]=function(){let F;return this.destroyed||(F=this.readableEnded?null:new ve,this.destroy(F)),new p((J,Re)=>R(this,Ae=>Ae&&Ae!==F?Re(Ae):J(null)))},W.prototype.push=function(F,J){return pe(this,F,J,!1)},W.prototype.unshift=function(F,J){return pe(this,F,J,!0)},W.prototype.isPaused=function(){let F=this._readableState;return F[ne]===!0||F.flowing===!1},W.prototype.setEncoding=function(F){let J=new he(F);this._readableState.decoder=J,this._readableState.encoding=this._readableState.decoder.encoding;let Re=this._readableState.buffer,Ae="";for(let De of Re)Ae+=J.write(De);return Re.clear(),Ae!==""&&Re.push(Ae),this._readableState.length=Ae.length,this},W.prototype.read=function(F){T("read",F),F===void 0?F=NaN:t(F)||(F=d(F,10));let J=this._readableState,Re=F;if(F>J.highWaterMark&&(J.highWaterMark=function(et){if(et>1073741824)throw new ge("size","<= 1GiB",et);return et--,et|=et>>>1,et|=et>>>2,et|=et>>>4,et|=et>>>8,et|=et>>>16,++et}(F)),F!==0&&(J.state&=-129),F===0&&J.needReadable&&((J.highWaterMark!==0?J.length>=J.highWaterMark:J.length>0)||J.ended))return T("read: emitReadable",J.length,J.ended),J.length===0&&J.ended?Qe(this):Y(this),null;if((F=D(F,J))===0&&J.ended)return J.length===0&&Qe(this),null;let Ae,De=!!(J.state&we);if(T("need readable",De),(J.length===0||J.length-F<J.highWaterMark)&&(De=!0,T("length less than watermark",De)),J.ended||J.reading||J.destroyed||J.errored||!J.constructed)De=!1,T("reading, ended or constructing",De);else if(De){T("do read"),J.state|=8|Te,J.length===0&&(J.state|=we);try{this._read(J.highWaterMark)}catch(et){X(this,et)}J.state&=~Te,J.reading||(F=D(Re,J))}return Ae=F>0?Ge(F,J):null,Ae===null?(J.needReadable=J.length<=J.highWaterMark,F=0):(J.length-=F,J.multiAwaitDrain?J.awaitDrainWriters.clear():J.awaitDrainWriters=null),J.length===0&&(J.ended||(J.needReadable=!0),Re!==F&&J.ended&&Qe(this)),Ae===null||J.errorEmitted||J.closeEmitted||(J.dataEmitted=!0,this.emit("data",Ae)),Ae},W.prototype._read=function(F){throw new se("_read()")},W.prototype.pipe=function(F,J){let Re=this,Ae=this._readableState;Ae.pipes.length===1&&(Ae.multiAwaitDrain||(Ae.multiAwaitDrain=!0,Ae.awaitDrainWriters=new m(Ae.awaitDrainWriters?[Ae.awaitDrainWriters]:[]))),Ae.pipes.push(F),T("pipe count=%d opts=%j",Ae.pipes.length,J);let De=J&&J.end===!1||F===o.stdout||F===o.stderr?Fo:et;function et(){T("onend"),F.end()}let mt;Ae.endEmitted?o.nextTick(De):Re.once("end",De),F.on("unpipe",function zn(kn,Bn){T("onunpipe"),kn===Re&&Bn&&Bn.hasUnpiped===!1&&(Bn.hasUnpiped=!0,T("cleanup"),F.removeListener("close",ss),F.removeListener("finish",as),mt&&F.removeListener("drain",mt),F.removeListener("error",mo),F.removeListener("unpipe",zn),Re.removeListener("end",et),Re.removeListener("end",Fo),Re.removeListener("data",rn),Rt=!0,mt&&Ae.awaitDrainWriters&&(!F._writableState||F._writableState.needDrain)&&mt())});let Rt=!1;function yn(){Rt||(Ae.pipes.length===1&&Ae.pipes[0]===F?(T("false write response, pause",0),Ae.awaitDrainWriters=F,Ae.multiAwaitDrain=!1):Ae.pipes.length>1&&Ae.pipes.includes(F)&&(T("false write response, pause",Ae.awaitDrainWriters.size),Ae.awaitDrainWriters.add(F)),Re.pause()),mt||(mt=function(zn,kn){return function(){let Bn=zn._readableState;Bn.awaitDrainWriters===kn?(T("pipeOnDrain",1),Bn.awaitDrainWriters=null):Bn.multiAwaitDrain&&(T("pipeOnDrain",Bn.awaitDrainWriters.size),Bn.awaitDrainWriters.delete(kn)),Bn.awaitDrainWriters&&Bn.awaitDrainWriters.size!==0||!zn.listenerCount("data")||zn.resume()}}(Re,F),F.on("drain",mt))}function rn(zn){T("ondata");let kn=F.write(zn);T("dest.write",kn),kn===!1&&yn()}function mo(zn){if(T("onerror",zn),Fo(),F.removeListener("error",mo),F.listenerCount("error")===0){let kn=F._writableState||F._readableState;kn&&!kn.errorEmitted?X(F,zn):F.emit("error",zn)}}function ss(){F.removeListener("finish",as),Fo()}function as(){T("onfinish"),F.removeListener("close",ss),Fo()}function Fo(){T("unpipe"),Re.unpipe(F)}return Re.on("data",rn),S(F,"error",mo),F.once("close",ss),F.once("finish",as),F.emit("pipe",Re),F.writableNeedDrain===!0?yn():Ae.flowing||(T("pipe resume"),Re.resume()),F},W.prototype.unpipe=function(F){let J=this._readableState;if(J.pipes.length===0)return this;if(!F){let Ae=J.pipes;J.pipes=[],this.pause();for(let De=0;De<Ae.length;De++)Ae[De].emit("unpipe",this,{hasUnpiped:!1});return this}let Re=e(J.pipes,F);return Re===-1||(J.pipes.splice(Re,1),J.pipes.length===0&&this.pause(),F.emit("unpipe",this,{hasUnpiped:!1})),this},W.prototype.on=function(F,J){let Re=w.prototype.on.call(this,F,J),Ae=this._readableState;return F==="data"?(Ae.readableListening=this.listenerCount("readable")>0,Ae.flowing!==!1&&this.resume()):F==="readable"&&(Ae.endEmitted||Ae.readableListening||(Ae.readableListening=Ae.needReadable=!0,Ae.flowing=!1,Ae.emittedReadable=!1,T("on readable",Ae.length,Ae.reading),Ae.length?Y(this):Ae.reading||o.nextTick(ie,this))),Re},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(F,J){let Re=w.prototype.removeListener.call(this,F,J);return F==="readable"&&o.nextTick(H,this),Re},W.prototype.off=W.prototype.removeListener,W.prototype.removeAllListeners=function(F){let J=w.prototype.removeAllListeners.apply(this,arguments);return F!=="readable"&&F!==void 0||o.nextTick(H,this),J},W.prototype.resume=function(){let F=this._readableState;return F.flowing||(T("resume"),F.flowing=!F.readableListening,function(J,Re){Re.resumeScheduled||(Re.resumeScheduled=!0,o.nextTick(re,J,Re))}(this,F)),F[ne]=!1,this},W.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ne]=!0,this},W.prototype.wrap=function(F){let J=!1;F.on("data",Ae=>{!this.push(Ae)&&F.pause&&(J=!0,F.pause())}),F.on("end",()=>{this.push(null)}),F.on("error",Ae=>{X(this,Ae)}),F.on("close",()=>{this.destroy()}),F.on("destroy",()=>{this.destroy()}),this._read=()=>{J&&F.resume&&(J=!1,F.resume())};let Re=c(F);for(let Ae=1;Ae<Re.length;Ae++){let De=Re[Ae];this[De]===void 0&&typeof F[De]=="function"&&(this[De]=F[De].bind(F))}return this},W.prototype[v]=function(){return ze(this)},W.prototype.iterator=function(F){return F!==void 0&&O(F,"options"),ze(this,F)},s(W.prototype,{readable:{__proto__:null,get(){let F=this._readableState;return!(!F||F.readable===!1||F.destroyed||F.errorEmitted||F.endEmitted)},set(F){this._readableState&&(this._readableState.readable=!!F)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(this._readableState.readable===!1||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(F){this._readableState&&(this._readableState.flowing=F)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(F){this._readableState&&(this._readableState.destroyed=F)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),s(_e.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ne]!==!1},set(F){this[ne]=!!F}}}),W._fromList=Ge,W.from=function(F,J){return Q(W,F,J)},W.fromWeb=function(F,J){return ee().newStreamReadableFromReadableStream(F,J)},W.toWeb=function(F,J){return ee().newReadableStreamFromStreamReadable(F,J)},W.wrap=function(F,J){var Re,Ae;return new W(st(Pe({objectMode:(Re=(Ae=F.readableObjectMode)!==null&&Ae!==void 0?Ae:F.objectMode)===null||Re===void 0||Re},J),{destroy(De,et){$.destroyer(F,De),et(De)}})).wrap(F)}},5291:(i,n,r)=>{let{MathFloor:o,NumberIsInteger:e}=r(4134),{validateInteger:t}=r(277),{ERR_INVALID_ARG_VALUE:a}=r(6371).codes,d=16384,s=16;function c(u){return u?s:d}i.exports={getHighWaterMark:function(u,p,m,g){let v=function(x,y,w){return x.highWaterMark!=null?x.highWaterMark:y?x[w]:null}(p,g,m);if(v!=null){if(!e(v)||v<0)throw new a(g?`options.${m}`:"options.highWaterMark",v);return o(v)}return c(u.objectMode)},getDefaultHighWaterMark:c,setDefaultHighWaterMark:function(u,p){t(p,"value",0),u?s=p:d=p}}},5001:(i,n,r)=>{let{ObjectSetPrototypeOf:o,Symbol:e}=r(4134);i.exports=c;let{ERR_METHOD_NOT_IMPLEMENTED:t}=r(6371).codes,a=r(3370),{getHighWaterMark:d}=r(5291);o(c.prototype,a.prototype),o(c,a);let s=e("kCallback");function c(m){if(!(this instanceof c))return new c(m);let g=m?d(this,m,"readableHighWaterMark",!0):null;g===0&&(m=st(Pe({},m),{highWaterMark:null,readableHighWaterMark:g,writableHighWaterMark:m.writableHighWaterMark||0})),a.call(this,m),this._readableState.sync=!1,this[s]=null,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",p)}function u(m){typeof this._flush!="function"||this.destroyed?(this.push(null),m&&m()):this._flush((g,v)=>{g?m?m(g):this.destroy(g):(v!=null&&this.push(v),this.push(null),m&&m())})}function p(){this._final!==u&&u.call(this)}c.prototype._final=u,c.prototype._transform=function(m,g,v){throw new t("_transform()")},c.prototype._write=function(m,g,v){let x=this._readableState,y=this._writableState,w=x.length;this._transform(m,g,(S,P)=>{S?v(S):(P!=null&&this.push(P),y.ended||w===x.length||x.length<x.highWaterMark?v():this[s]=v)})},c.prototype._read=function(){if(this[s]){let m=this[s];this[s]=null,m()}}},6115:(i,n,r)=>{let{SymbolAsyncIterator:o,SymbolIterator:e,SymbolFor:t}=r(4134),a=t("nodejs.stream.destroyed"),d=t("nodejs.stream.errored"),s=t("nodejs.stream.readable"),c=t("nodejs.stream.writable"),u=t("nodejs.stream.disturbed"),p=t("nodejs.webstream.isClosedPromise"),m=t("nodejs.webstream.controllerErrorFunction");function g(I,Z=!1){var B;return!(!I||typeof I.pipe!="function"||typeof I.on!="function"||Z&&(typeof I.pause!="function"||typeof I.resume!="function")||I._writableState&&((B=I._readableState)===null||B===void 0?void 0:B.readable)===!1||I._writableState&&!I._readableState)}function v(I){var Z;return!(!I||typeof I.write!="function"||typeof I.on!="function"||I._readableState&&((Z=I._writableState)===null||Z===void 0?void 0:Z.writable)===!1)}function x(I){return I&&(I._readableState||I._writableState||typeof I.write=="function"&&typeof I.on=="function"||typeof I.pipe=="function"&&typeof I.on=="function")}function y(I){return!(!I||x(I)||typeof I.pipeThrough!="function"||typeof I.getReader!="function"||typeof I.cancel!="function")}function w(I){return!(!I||x(I)||typeof I.getWriter!="function"||typeof I.abort!="function")}function S(I){return!(!I||x(I)||typeof I.readable!="object"||typeof I.writable!="object")}function P(I){if(!x(I))return null;let Z=I._writableState,B=I._readableState,se=Z||B;return!!(I.destroyed||I[a]||se!=null&&se.destroyed)}function j(I){if(!v(I))return null;if(I.writableEnded===!0)return!0;let Z=I._writableState;return(Z==null||!Z.errored)&&(typeof Z?.ended!="boolean"?null:Z.ended)}function R(I,Z){if(!g(I))return null;let B=I._readableState;return(B==null||!B.errored)&&(typeof B?.endEmitted!="boolean"?null:!!(B.endEmitted||Z===!1&&B.ended===!0&&B.length===0))}function T(I){return I&&I[s]!=null?I[s]:typeof I?.readable!="boolean"?null:!P(I)&&g(I)&&I.readable&&!R(I)}function q(I){return I&&I[c]!=null?I[c]:typeof I?.writable!="boolean"?null:!P(I)&&v(I)&&I.writable&&!j(I)}function $(I){return typeof I._closed=="boolean"&&typeof I._defaultKeepAlive=="boolean"&&typeof I._removedConnection=="boolean"&&typeof I._removedContLen=="boolean"}function z(I){return typeof I._sent100=="boolean"&&$(I)}i.exports={isDestroyed:P,kIsDestroyed:a,isDisturbed:function(I){var Z;return!(!I||!((Z=I[u])!==null&&Z!==void 0?Z:I.readableDidRead||I.readableAborted))},kIsDisturbed:u,isErrored:function(I){var Z,B,se,ge,ae,U,ve,O,ne,he;return!(!I||!((Z=(B=(se=(ge=(ae=(U=I[d])!==null&&U!==void 0?U:I.readableErrored)!==null&&ae!==void 0?ae:I.writableErrored)!==null&&ge!==void 0?ge:(ve=I._readableState)===null||ve===void 0?void 0:ve.errorEmitted)!==null&&se!==void 0?se:(O=I._writableState)===null||O===void 0?void 0:O.errorEmitted)!==null&&B!==void 0?B:(ne=I._readableState)===null||ne===void 0?void 0:ne.errored)!==null&&Z!==void 0?Z:!((he=I._writableState)===null||he===void 0)&&he.errored))},kIsErrored:d,isReadable:T,kIsReadable:s,kIsClosedPromise:p,kControllerErrorFunction:m,kIsWritable:c,isClosed:function(I){if(!x(I))return null;if(typeof I.closed=="boolean")return I.closed;let Z=I._writableState,B=I._readableState;return typeof Z?.closed=="boolean"||typeof B?.closed=="boolean"?Z?.closed||B?.closed:typeof I._closed=="boolean"&&$(I)?I._closed:null},isDuplexNodeStream:function(I){return!(!I||typeof I.pipe!="function"||!I._readableState||typeof I.on!="function"||typeof I.write!="function")},isFinished:function(I,Z){return x(I)?!(!P(I)&&(Z?.readable!==!1&&T(I)||Z?.writable!==!1&&q(I))):null},isIterable:function(I,Z){return I!=null&&(Z===!0?typeof I[o]=="function":Z===!1?typeof I[e]=="function":typeof I[o]=="function"||typeof I[e]=="function")},isReadableNodeStream:g,isReadableStream:y,isReadableEnded:function(I){if(!g(I))return null;if(I.readableEnded===!0)return!0;let Z=I._readableState;return!(!Z||Z.errored)&&(typeof Z?.ended!="boolean"?null:Z.ended)},isReadableFinished:R,isReadableErrored:function(I){var Z,B;return x(I)?I.readableErrored?I.readableErrored:(Z=(B=I._readableState)===null||B===void 0?void 0:B.errored)!==null&&Z!==void 0?Z:null:null},isNodeStream:x,isWebStream:function(I){return y(I)||w(I)||S(I)},isWritable:q,isWritableNodeStream:v,isWritableStream:w,isWritableEnded:j,isWritableFinished:function(I,Z){if(!v(I))return null;if(I.writableFinished===!0)return!0;let B=I._writableState;return(B==null||!B.errored)&&(typeof B?.finished!="boolean"?null:!!(B.finished||Z===!1&&B.ended===!0&&B.length===0))},isWritableErrored:function(I){var Z,B;return x(I)?I.writableErrored?I.writableErrored:(Z=(B=I._writableState)===null||B===void 0?void 0:B.errored)!==null&&Z!==void 0?Z:null:null},isServerRequest:function(I){var Z;return typeof I._consuming=="boolean"&&typeof I._dumped=="boolean"&&((Z=I.req)===null||Z===void 0?void 0:Z.upgradeOrConnect)===void 0},isServerResponse:z,willEmitClose:function(I){if(!x(I))return null;let Z=I._writableState,B=I._readableState,se=Z||B;return!se&&z(I)||!!(se&&se.autoDestroy&&se.emitClose&&se.closed===!1)},isTransformStream:S}},8584:(i,n,r)=>{let o=r(5606),{ArrayPrototypeSlice:e,Error:t,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:d,ObjectDefineProperties:s,ObjectSetPrototypeOf:c,StringPrototypeToLowerCase:u,Symbol:p,SymbolHasInstance:m}=r(4134);i.exports=O,O.WritableState=U;let{EventEmitter:g}=r(7007),v=r(4259).Stream,{Buffer:x}=r(8287),y=r(5896),{addAbortSignal:w}=r(4147),{getHighWaterMark:S,getDefaultHighWaterMark:P}=r(5291),{ERR_INVALID_ARG_TYPE:j,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_MULTIPLE_CALLBACK:T,ERR_STREAM_CANNOT_PIPE:q,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:z,ERR_STREAM_NULL_VALUES:I,ERR_STREAM_WRITE_AFTER_END:Z,ERR_UNKNOWN_ENCODING:B}=r(6371).codes,{errorOrDestroy:se}=y;function ge(){}c(O.prototype,v.prototype),c(O,v);let ae=p("kOnFinished");function U(W,pe,N){typeof N!="boolean"&&(N=pe instanceof r(3370)),this.objectMode=!(!W||!W.objectMode),N&&(this.objectMode=this.objectMode||!(!W||!W.writableObjectMode)),this.highWaterMark=W?S(this,W,"writableHighWaterMark",N):P(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let D=!(!W||W.decodeStrings!==!1);this.decodeStrings=!D,this.defaultEncoding=W&&W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ue.bind(void 0,pe),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ve(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!W||W.emitClose!==!1,this.autoDestroy=!W||W.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ae]=[]}function ve(W){W.buffered=[],W.bufferedIndex=0,W.allBuffers=!0,W.allNoop=!0}function O(W){let pe=this instanceof r(3370);if(!pe&&!a(O,this))return new O(W);this._writableState=new U(W,this,pe),W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final),typeof W.construct=="function"&&(this._construct=W.construct),W.signal&&w(W.signal,this)),v.call(this,W),y.construct(this,()=>{let N=this._writableState;N.writing||Te(this,N),me(this,N)})}function ne(W,pe,N,D){let Y=W._writableState;if(typeof N=="function")D=N,N=Y.defaultEncoding;else{if(N){if(N!=="buffer"&&!x.isEncoding(N))throw new B(N)}else N=Y.defaultEncoding;typeof D!="function"&&(D=ge)}if(pe===null)throw new I;if(!Y.objectMode)if(typeof pe=="string")Y.decodeStrings!==!1&&(pe=x.from(pe,N),N="buffer");else if(pe instanceof x)N="buffer";else{if(!v._isUint8Array(pe))throw new j("chunk",["string","Buffer","Uint8Array"],pe);pe=v._uint8ArrayToBuffer(pe),N="buffer"}let _;return Y.ending?_=new Z:Y.destroyed&&(_=new $("write")),_?(o.nextTick(D,_),se(W,_,!0),_):(Y.pendingcb++,function(C,k,H,ie,re){let Se=k.objectMode?1:H.length;k.length+=Se;let ze=k.length<k.highWaterMark;return ze||(k.needDrain=!0),k.writing||k.corked||k.errored||!k.constructed?(k.buffered.push({chunk:H,encoding:ie,callback:re}),k.allBuffers&&ie!=="buffer"&&(k.allBuffers=!1),k.allNoop&&re!==ge&&(k.allNoop=!1)):(k.writelen=Se,k.writecb=re,k.writing=!0,k.sync=!0,C._write(H,ie,k.onwrite),k.sync=!1),ze&&!k.errored&&!k.destroyed}(W,Y,pe,N,D))}function he(W,pe,N,D,Y,_,C){pe.writelen=D,pe.writecb=C,pe.writing=!0,pe.sync=!0,pe.destroyed?pe.onwrite(new $("write")):N?W._writev(Y,pe.onwrite):W._write(Y,_,pe.onwrite),pe.sync=!1}function Q(W,pe,N,D){--pe.pendingcb,D(N),fe(pe),se(W,N)}function ue(W,pe){let N=W._writableState,D=N.sync,Y=N.writecb;typeof Y=="function"?(N.writing=!1,N.writecb=null,N.length-=N.writelen,N.writelen=0,pe?(pe.stack,N.errored||(N.errored=pe),W._readableState&&!W._readableState.errored&&(W._readableState.errored=pe),D?o.nextTick(Q,W,N,pe,Y):Q(W,N,pe,Y)):(N.buffered.length>N.bufferedIndex&&Te(W,N),D?N.afterWriteTickInfo!==null&&N.afterWriteTickInfo.cb===Y?N.afterWriteTickInfo.count++:(N.afterWriteTickInfo={count:1,cb:Y,stream:W,state:N},o.nextTick(X,N.afterWriteTickInfo)):ce(W,N,1,Y))):se(W,new T)}function X({stream:W,state:pe,count:N,cb:D}){return pe.afterWriteTickInfo=null,ce(W,pe,N,D)}function ce(W,pe,N,D){for(!pe.ending&&!W.destroyed&&pe.length===0&&pe.needDrain&&(pe.needDrain=!1,W.emit("drain"));N-- >0;)pe.pendingcb--,D();pe.destroyed&&fe(pe),me(W,pe)}function fe(W){if(W.writing)return;for(let Y=W.bufferedIndex;Y<W.buffered.length;++Y){var pe;let{chunk:_,callback:C}=W.buffered[Y],k=W.objectMode?1:_.length;W.length-=k,C((pe=W.errored)!==null&&pe!==void 0?pe:new $("write"))}let N=W[ae].splice(0);for(let Y=0;Y<N.length;Y++){var D;N[Y]((D=W.errored)!==null&&D!==void 0?D:new $("end"))}ve(W)}function Te(W,pe){if(pe.corked||pe.bufferProcessing||pe.destroyed||!pe.constructed)return;let{buffered:N,bufferedIndex:D,objectMode:Y}=pe,_=N.length-D;if(!_)return;let C=D;if(pe.bufferProcessing=!0,_>1&&W._writev){pe.pendingcb-=_-1;let k=pe.allNoop?ge:ie=>{for(let re=C;re<N.length;++re)N[re].callback(ie)},H=pe.allNoop&&C===0?N:e(N,C);H.allBuffers=pe.allBuffers,he(W,pe,!0,pe.length,H,"",k),ve(pe)}else{do{let{chunk:k,encoding:H,callback:ie}=N[C];N[C++]=null,he(W,pe,!1,Y?1:k.length,k,H,ie)}while(C<N.length&&!pe.writing);C===N.length?ve(pe):C>256?(N.splice(0,C),pe.bufferedIndex=0):pe.bufferedIndex=C}pe.bufferProcessing=!1}function we(W){return W.ending&&!W.destroyed&&W.constructed&&W.length===0&&!W.errored&&W.buffered.length===0&&!W.finished&&!W.writing&&!W.errorEmitted&&!W.closeEmitted}function me(W,pe,N){we(pe)&&(function(D,Y){Y.prefinished||Y.finalCalled||(typeof D._final!="function"||Y.destroyed?(Y.prefinished=!0,D.emit("prefinish")):(Y.finalCalled=!0,function(_,C){let k=!1;function H(ie){if(k)se(_,ie??T());else if(k=!0,C.pendingcb--,ie){let re=C[ae].splice(0);for(let Se=0;Se<re.length;Se++)re[Se](ie);se(_,ie,C.sync)}else we(C)&&(C.prefinished=!0,_.emit("prefinish"),C.pendingcb++,o.nextTick(G,_,C))}C.sync=!0,C.pendingcb++;try{_._final(H)}catch(ie){H(ie)}C.sync=!1}(D,Y)))}(W,pe),pe.pendingcb===0&&(N?(pe.pendingcb++,o.nextTick((D,Y)=>{we(Y)?G(D,Y):Y.pendingcb--},W,pe)):we(pe)&&(pe.pendingcb++,G(W,pe))))}function G(W,pe){pe.pendingcb--,pe.finished=!0;let N=pe[ae].splice(0);for(let D=0;D<N.length;D++)N[D]();if(W.emit("finish"),pe.autoDestroy){let D=W._readableState;(!D||D.autoDestroy&&(D.endEmitted||D.readable===!1))&&W.destroy()}}U.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},d(U.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),d(O,m,{__proto__:null,value:function(W){return!!a(this,W)||this===O&&W&&W._writableState instanceof U}}),O.prototype.pipe=function(){se(this,new q)},O.prototype.write=function(W,pe,N){return ne(this,W,pe,N)===!0},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){let W=this._writableState;W.corked&&(W.corked--,W.writing||Te(this,W))},O.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=u(W)),!x.isEncoding(W))throw new B(W);return this._writableState.defaultEncoding=W,this},O.prototype._write=function(W,pe,N){if(!this._writev)throw new R("_write()");this._writev([{chunk:W,encoding:pe}],N)},O.prototype._writev=null,O.prototype.end=function(W,pe,N){let D=this._writableState,Y;if(typeof W=="function"?(N=W,W=null,pe=null):typeof pe=="function"&&(N=pe,pe=null),W!=null){let _=ne(this,W,pe);_ instanceof t&&(Y=_)}return D.corked&&(D.corked=1,this.uncork()),Y||(D.errored||D.ending?D.finished?Y=new z("end"):D.destroyed&&(Y=new $("end")):(D.ending=!0,me(this,D,!0),D.ended=!0)),typeof N=="function"&&(Y||D.finished?o.nextTick(N,Y):D[ae].push(N)),this},s(O.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(W){this._writableState&&(this._writableState.destroyed=W)}},writable:{__proto__:null,get(){let W=this._writableState;return!(!W||W.writable===!1||W.destroyed||W.errored||W.ending||W.ended)},set(W){this._writableState&&(this._writableState.writable=!!W)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let W=this._writableState;return!!W&&!W.destroyed&&!W.ending&&W.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(this._writableState.writable===!1||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});let ye=y.destroy,de;function _e(){return de===void 0&&(de={}),de}O.prototype.destroy=function(W,pe){let N=this._writableState;return!N.destroyed&&(N.bufferedIndex<N.buffered.length||N[ae].length)&&o.nextTick(fe,N),ye.call(this,W,pe),this},O.prototype._undestroy=y.undestroy,O.prototype._destroy=function(W,pe){pe(W)},O.prototype[g.captureRejectionSymbol]=function(W){this.destroy(W)},O.fromWeb=function(W,pe){return _e().newStreamWritableFromWritableStream(W,pe)},O.toWeb=function(W){return _e().newWritableStreamFromStreamWritable(W)}},277:(i,n,r)=>{let{ArrayIsArray:o,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:t,ArrayPrototypeMap:a,NumberIsInteger:d,NumberIsNaN:s,NumberMAX_SAFE_INTEGER:c,NumberMIN_SAFE_INTEGER:u,NumberParseInt:p,ObjectPrototypeHasOwnProperty:m,RegExpPrototypeExec:g,String:v,StringPrototypeToUpperCase:x,StringPrototypeTrim:y}=r(4134),{hideStackFrames:w,codes:{ERR_SOCKET_BAD_PORT:S,ERR_INVALID_ARG_TYPE:P,ERR_INVALID_ARG_VALUE:j,ERR_OUT_OF_RANGE:R,ERR_UNKNOWN_SIGNAL:T}}=r(6371),{normalizeEncoding:q}=r(7760),{isAsyncFunction:$,isArrayBufferView:z}=r(7760).types,I={},Z=/^[0-7]+$/,B=w((G,ye,de=u,_e=c)=>{if(typeof G!="number")throw new P(ye,"number",G);if(!d(G))throw new R(ye,"an integer",G);if(G<de||G>_e)throw new R(ye,`>= ${de} && <= ${_e}`,G)}),se=w((G,ye,de=-2147483648,_e=2147483647)=>{if(typeof G!="number")throw new P(ye,"number",G);if(!d(G))throw new R(ye,"an integer",G);if(G<de||G>_e)throw new R(ye,`>= ${de} && <= ${_e}`,G)}),ge=w((G,ye,de=!1)=>{if(typeof G!="number")throw new P(ye,"number",G);if(!d(G))throw new R(ye,"an integer",G);let _e=de?1:0,W=4294967295;if(G<_e||G>W)throw new R(ye,`>= ${_e} && <= ${W}`,G)});function ae(G,ye){if(typeof G!="string")throw new P(ye,"string",G)}let U=w((G,ye,de)=>{if(!e(de,G)){let _e=t(a(de,W=>typeof W=="string"?`'${W}'`:v(W)),", ");throw new j(ye,G,"must be one of: "+_e)}});function ve(G,ye){if(typeof G!="boolean")throw new P(ye,"boolean",G)}function O(G,ye,de){return G!=null&&m(G,ye)?G[ye]:de}let ne=w((G,ye,de=null)=>{let _e=O(de,"allowArray",!1),W=O(de,"allowFunction",!1);if(!O(de,"nullable",!1)&&G===null||!_e&&o(G)||typeof G!="object"&&(!W||typeof G!="function"))throw new P(ye,"Object",G)}),he=w((G,ye)=>{if(G!=null&&typeof G!="object"&&typeof G!="function")throw new P(ye,"a dictionary",G)}),Q=w((G,ye,de=0)=>{if(!o(G))throw new P(ye,"Array",G);if(G.length<de)throw new j(ye,G,`must be longer than ${de}`)}),ue=w((G,ye="buffer")=>{if(!z(G))throw new P(ye,["Buffer","TypedArray","DataView"],G)}),X=w((G,ye)=>{if(G!==void 0&&(G===null||typeof G!="object"||!("aborted"in G)))throw new P(ye,"AbortSignal",G)}),ce=w((G,ye)=>{if(typeof G!="function")throw new P(ye,"Function",G)}),fe=w((G,ye)=>{if(typeof G!="function"||$(G))throw new P(ye,"Function",G)}),Te=w((G,ye)=>{if(G!==void 0)throw new P(ye,"undefined",G)}),we=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function me(G,ye){if(G===void 0||!g(we,G))throw new j(ye,G,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}i.exports={isInt32:function(G){return G===(0|G)},isUint32:function(G){return G===G>>>0},parseFileMode:function(G,ye,de){if(G===void 0&&(G=de),typeof G=="string"){if(g(Z,G)===null)throw new j(ye,G,"must be a 32-bit unsigned integer or an octal string");G=p(G,8)}return ge(G,ye),G},validateArray:Q,validateStringArray:function(G,ye){Q(G,ye);for(let de=0;de<G.length;de++)ae(G[de],`${ye}[${de}]`)},validateBooleanArray:function(G,ye){Q(G,ye);for(let de=0;de<G.length;de++)ve(G[de],`${ye}[${de}]`)},validateAbortSignalArray:function(G,ye){Q(G,ye);for(let de=0;de<G.length;de++){let _e=G[de],W=`${ye}[${de}]`;if(_e==null)throw new P(W,"AbortSignal",_e);X(_e,W)}},validateBoolean:ve,validateBuffer:ue,validateDictionary:he,validateEncoding:function(G,ye){let de=q(ye),_e=G.length;if(de==="hex"&&_e%2!=0)throw new j("encoding",ye,`is invalid for data of length ${_e}`)},validateFunction:ce,validateInt32:se,validateInteger:B,validateNumber:function(G,ye,de=void 0,_e){if(typeof G!="number")throw new P(ye,"number",G);if(de!=null&&G<de||_e!=null&&G>_e||(de!=null||_e!=null)&&s(G))throw new R(ye,`${de!=null?`>= ${de}`:""}${de!=null&&_e!=null?" && ":""}${_e!=null?`<= ${_e}`:""}`,G)},validateObject:ne,validateOneOf:U,validatePlainFunction:fe,validatePort:function(G,ye="Port",de=!0){if(typeof G!="number"&&typeof G!="string"||typeof G=="string"&&y(G).length===0||+G!=+G>>>0||G>65535||G===0&&!de)throw new S(ye,G,de);return 0|G},validateSignalName:function(G,ye="signal"){if(ae(G,ye),I[G]===void 0)throw I[x(G)]!==void 0?new T(G+" (signals must use all capital letters)"):new T(G)},validateString:ae,validateUint32:ge,validateUndefined:Te,validateUnion:function(G,ye,de){if(!e(de,G))throw new P(ye,`('${t(de,"|")}')`,G)},validateAbortSignal:X,validateLinkHeaderValue:function(G){if(typeof G=="string")return me(G,"hints"),G;if(o(G)){let ye=G.length,de="";if(ye===0)return de;for(let _e=0;_e<ye;_e++){let W=G[_e];me(W,"hints"),de+=W,_e!==ye-1&&(de+=", ")}return de}throw new j("hints",G,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},9198:(i,n,r)=>{let o=r(5506),e=r(3095),t=o.Readable.destroy;i.exports=o.Readable,i.exports._uint8ArrayToBuffer=o._uint8ArrayToBuffer,i.exports._isUint8Array=o._isUint8Array,i.exports.isDisturbed=o.isDisturbed,i.exports.isErrored=o.isErrored,i.exports.isReadable=o.isReadable,i.exports.Readable=o.Readable,i.exports.Writable=o.Writable,i.exports.Duplex=o.Duplex,i.exports.Transform=o.Transform,i.exports.PassThrough=o.PassThrough,i.exports.addAbortSignal=o.addAbortSignal,i.exports.finished=o.finished,i.exports.destroy=o.destroy,i.exports.destroy=t,i.exports.pipeline=o.pipeline,i.exports.compose=o.compose,Object.defineProperty(o,"promises",{configurable:!0,enumerable:!0,get:()=>e}),i.exports.Stream=o.Stream,i.exports.default=i.exports},6371:(i,n,r)=>{let{format:o,inspect:e,AggregateError:t}=r(7760),a=globalThis.AggregateError||t,d=Symbol("kIsNodeError"),s=["string","function","number","object","Function","Object","boolean","bigint","symbol"],c=/^([A-Z][a-z0-9]*)+$/,u={};function p(y,w){if(!y)throw new u.ERR_INTERNAL_ASSERTION(w)}function m(y){let w="",S=y.length,P=y[0]==="-"?1:0;for(;S>=P+4;S-=3)w=`_${y.slice(S-3,S)}${w}`;return`${y.slice(0,S)}${w}`}function g(y,w,S){S||(S=Error);class P extends S{constructor(...R){super(function(T,q,$){if(typeof q=="function")return p(q.length<=$.length,`Code: ${T}; The provided arguments length (${$.length}) does not match the required ones (${q.length}).`),q(...$);let z=(q.match(/%[dfijoOs]/g)||[]).length;return p(z===$.length,`Code: ${T}; The provided arguments length (${$.length}) does not match the required ones (${z}).`),$.length===0?q:o(q,...$)}(y,w,R))}toString(){return`${this.name} [${y}]: ${this.message}`}}Object.defineProperties(P.prototype,{name:{value:S.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${y}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),P.prototype.code=y,P.prototype[d]=!0,u[y]=P}function v(y){let w="__node_internal_"+y.name;return Object.defineProperty(y,"name",{value:w}),y}class x extends Error{constructor(w="The operation was aborted",S=void 0){if(S!==void 0&&typeof S!="object")throw new u.ERR_INVALID_ARG_TYPE("options","Object",S);super(w,S),this.code="ABORT_ERR",this.name="AbortError"}}g("ERR_ASSERTION","%s",Error),g("ERR_INVALID_ARG_TYPE",(y,w,S)=>{p(typeof y=="string","'name' must be a string"),Array.isArray(w)||(w=[w]);let P="The ";y.endsWith(" argument")?P+=`${y} `:P+=`"${y}" ${y.includes(".")?"property":"argument"} `,P+="must be ";let j=[],R=[],T=[];for(let $ of w)p(typeof $=="string","All expected entries have to be of type string"),s.includes($)?j.push($.toLowerCase()):c.test($)?R.push($):(p($!=="object",'The value "object" should be written as "Object"'),T.push($));if(R.length>0){let $=j.indexOf("object");$!==-1&&(j.splice(j,$,1),R.push("Object"))}if(j.length>0){switch(j.length){case 1:P+=`of type ${j[0]}`;break;case 2:P+=`one of type ${j[0]} or ${j[1]}`;break;default:{let $=j.pop();P+=`one of type ${j.join(", ")}, or ${$}`}}(R.length>0||T.length>0)&&(P+=" or ")}if(R.length>0){switch(R.length){case 1:P+=`an instance of ${R[0]}`;break;case 2:P+=`an instance of ${R[0]} or ${R[1]}`;break;default:{let $=R.pop();P+=`an instance of ${R.join(", ")}, or ${$}`}}T.length>0&&(P+=" or ")}switch(T.length){case 0:break;case 1:T[0].toLowerCase()!==T[0]&&(P+="an "),P+=`${T[0]}`;break;case 2:P+=`one of ${T[0]} or ${T[1]}`;break;default:{let $=T.pop();P+=`one of ${T.join(", ")}, or ${$}`}}if(S==null)P+=`. Received ${S}`;else if(typeof S=="function"&&S.name)P+=`. Received function ${S.name}`;else if(typeof S=="object"){var q;(q=S.constructor)!==null&&q!==void 0&&q.name?P+=`. Received an instance of ${S.constructor.name}`:P+=`. Received ${e(S,{depth:-1})}`}else{let $=e(S,{colors:!1});$.length>25&&($=`${$.slice(0,25)}...`),P+=`. Received type ${typeof S} (${$})`}return P},TypeError),g("ERR_INVALID_ARG_VALUE",(y,w,S="is invalid")=>{let P=e(w);return P.length>128&&(P=P.slice(0,128)+"..."),`The ${y.includes(".")?"property":"argument"} '${y}' ${S}. Received ${P}`},TypeError),g("ERR_INVALID_RETURN_VALUE",(y,w,S)=>{var P;return`Expected ${y} to be returned from the "${w}" function but got ${S!=null&&(P=S.constructor)!==null&&P!==void 0&&P.name?`instance of ${S.constructor.name}`:"type "+typeof S}.`},TypeError),g("ERR_MISSING_ARGS",(...y)=>{let w;p(y.length>0,"At least one arg needs to be specified");let S=y.length;switch(y=(Array.isArray(y)?y:[y]).map(P=>`"${P}"`).join(" or "),S){case 1:w+=`The ${y[0]} argument`;break;case 2:w+=`The ${y[0]} and ${y[1]} arguments`;break;default:{let P=y.pop();w+=`The ${y.join(", ")}, and ${P} arguments`}}return`${w} must be specified`},TypeError),g("ERR_OUT_OF_RANGE",(y,w,S)=>{let P;return p(w,'Missing "range" argument'),Number.isInteger(S)&&Math.abs(S)>4294967296?P=m(String(S)):typeof S=="bigint"?(P=String(S),(S>2n**32n||S<-(2n**32n))&&(P=m(P)),P+="n"):P=e(S),`The value of "${y}" is out of range. It must be ${w}. Received ${P}`},RangeError),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),g("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),g("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),g("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),g("ERR_STREAM_WRITE_AFTER_END","write after end",Error),g("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),i.exports={AbortError:x,aggregateTwoErrors:v(function(y,w){if(y&&w&&y!==w){if(Array.isArray(w.errors))return w.errors.push(y),w;let S=new a([w,y],w.message);return S.code=w.code,S}return y||w}),hideStackFrames:v,codes:u}},4134:i=>{i.exports={ArrayIsArray:n=>Array.isArray(n),ArrayPrototypeIncludes:(n,r)=>n.includes(r),ArrayPrototypeIndexOf:(n,r)=>n.indexOf(r),ArrayPrototypeJoin:(n,r)=>n.join(r),ArrayPrototypeMap:(n,r)=>n.map(r),ArrayPrototypePop:(n,r)=>n.pop(r),ArrayPrototypePush:(n,r)=>n.push(r),ArrayPrototypeSlice:(n,r,o)=>n.slice(r,o),Error,FunctionPrototypeCall:(n,r,...o)=>n.call(r,...o),FunctionPrototypeSymbolHasInstance:(n,r)=>Function.prototype[Symbol.hasInstance].call(n,r),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(n,r)=>Object.defineProperties(n,r),ObjectDefineProperty:(n,r,o)=>Object.defineProperty(n,r,o),ObjectGetOwnPropertyDescriptor:(n,r)=>Object.getOwnPropertyDescriptor(n,r),ObjectKeys:n=>Object.keys(n),ObjectSetPrototypeOf:(n,r)=>Object.setPrototypeOf(n,r),Promise,PromisePrototypeCatch:(n,r)=>n.catch(r),PromisePrototypeThen:(n,r,o)=>n.then(r,o),PromiseReject:n=>Promise.reject(n),PromiseResolve:n=>Promise.resolve(n),ReflectApply:Reflect.apply,RegExpPrototypeTest:(n,r)=>n.test(r),SafeSet:Set,String,StringPrototypeSlice:(n,r,o)=>n.slice(r,o),StringPrototypeToLowerCase:n=>n.toLowerCase(),StringPrototypeToUpperCase:n=>n.toUpperCase(),StringPrototypeTrim:n=>n.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(n,r,o)=>n.set(r,o),Boolean,Uint8Array}},7760:(i,n,r)=>{let o=r(8287),{kResistStopPropagation:e,SymbolDispose:t}=r(4134),a=globalThis.AbortSignal||r(5568).AbortSignal,d=globalThis.AbortController||r(5568).AbortController,s=Object.getPrototypeOf(function(){return Le(this,null,function*(){})}).constructor,c=globalThis.Blob||o.Blob,u=c!==void 0?function(g){return g instanceof c}:function(g){return!1},p=(g,v)=>{if(g!==void 0&&(g===null||typeof g!="object"||!("aborted"in g)))throw new ERR_INVALID_ARG_TYPE(v,"AbortSignal",g)};class m extends Error{constructor(v){if(!Array.isArray(v))throw new TypeError("Expected input to be an Array, got "+typeof v);let x="";for(let y=0;y<v.length;y++)x+=`    ${v[y].stack}
`;super(x),this.name="AggregateError",this.errors=v}}i.exports={AggregateError:m,kEmptyObject:Object.freeze({}),once(g){let v=!1;return function(...x){v||(v=!0,g.apply(this,x))}},createDeferredPromise:function(){let g,v;return{promise:new Promise((x,y)=>{g=x,v=y}),resolve:g,reject:v}},promisify:g=>new Promise((v,x)=>{g((y,...w)=>y?x(y):v(...w))}),debuglog:()=>function(){},format:(g,...v)=>g.replace(/%([sdifj])/g,function(...[x,y]){let w=v.shift();return y==="f"?w.toFixed(6):y==="j"?JSON.stringify(w):y==="s"&&typeof w=="object"?`${w.constructor!==Object?w.constructor.name:""} {}`.trim():w.toString()}),inspect(g){switch(typeof g){case"string":if(g.includes("'")){if(!g.includes('"'))return`"${g}"`;if(!g.includes("`")&&!g.includes("${"))return`\`${g}\``}return`'${g}'`;case"number":return isNaN(g)?"NaN":Object.is(g,-0)?String(g):g;case"bigint":return`${String(g)}n`;case"boolean":case"undefined":return String(g);case"object":return"{}"}},types:{isAsyncFunction:g=>g instanceof s,isArrayBufferView:g=>ArrayBuffer.isView(g)},isBlob:u,deprecate:(g,v)=>g,addAbortListener:r(7007).addAbortListener||function(g,v){if(g===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",g);let x;return p(g,"signal"),((y,w)=>{if(typeof y!="function")throw new ERR_INVALID_ARG_TYPE("listener","Function",y)})(v),g.aborted?queueMicrotask(()=>v()):(g.addEventListener("abort",v,{__proto__:null,once:!0,[e]:!0}),x=()=>{g.removeEventListener("abort",v)}),{__proto__:null,[t](){var y;(y=x)===null||y===void 0||y()}}},AbortSignalAny:a.any||function(g){if(g.length===1)return g[0];let v=new d,x=()=>v.abort();return g.forEach(y=>{p(y,"signals"),y.addEventListener("abort",x,{once:!0})}),v.signal.addEventListener("abort",()=>{g.forEach(y=>y.removeEventListener("abort",x))},{once:!0}),v.signal}},i.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},5506:(i,n,r)=>{let{Buffer:o}=r(8287),{ObjectDefineProperty:e,ObjectKeys:t,ReflectApply:a}=r(4134),{promisify:{custom:d}}=r(7760),{streamReturningOperators:s,promiseReturningOperators:c}=r(823),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=r(6371),p=r(7830),{setDefaultHighWaterMark:m,getDefaultHighWaterMark:g}=r(5291),{pipeline:v}=r(7758),{destroyer:x}=r(5896),y=r(6238),w=r(3095),S=r(6115),P=i.exports=r(4259).Stream;P.isDestroyed=S.isDestroyed,P.isDisturbed=S.isDisturbed,P.isErrored=S.isErrored,P.isReadable=S.isReadable,P.isWritable=S.isWritable,P.Readable=r(7576);for(let q of t(s)){let z=function(...I){if(new.target)throw u();return P.Readable.from(a($,this,I))};var R=z;let $=s[q];e(z,"name",{__proto__:null,value:$.name}),e(z,"length",{__proto__:null,value:$.length}),e(P.Readable.prototype,q,{__proto__:null,value:z,enumerable:!1,configurable:!0,writable:!0})}for(let q of t(c)){let z=function(...I){if(new.target)throw u();return a($,this,I)};var T=z;let $=c[q];e(z,"name",{__proto__:null,value:$.name}),e(z,"length",{__proto__:null,value:$.length}),e(P.Readable.prototype,q,{__proto__:null,value:z,enumerable:!1,configurable:!0,writable:!0})}P.Writable=r(8584),P.Duplex=r(3370),P.Transform=r(5001),P.PassThrough=r(6524),P.pipeline=v;let{addAbortSignal:j}=r(4147);P.addAbortSignal=j,P.finished=y,P.destroy=x,P.compose=p,P.setDefaultHighWaterMark=m,P.getDefaultHighWaterMark=g,e(P,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>w}),e(v,d,{__proto__:null,enumerable:!0,get:()=>w.pipeline}),e(y,d,{__proto__:null,enumerable:!0,get:()=>w.finished}),P.Stream=P,P._isUint8Array=function(q){return q instanceof Uint8Array},P._uint8ArrayToBuffer=function(q){return o.from(q.buffer,q.byteOffset,q.byteLength)}},3095:(i,n,r)=>{let{ArrayPrototypePop:o,Promise:e}=r(4134),{isIterable:t,isNodeStream:a,isWebStream:d}=r(6115),{pipelineImpl:s}=r(7758),{finished:c}=r(6238);r(5506),i.exports={finished:c,pipeline:function(...u){return new e((p,m)=>{let g,v,x=u[u.length-1];if(x&&typeof x=="object"&&!a(x)&&!t(x)&&!d(x)){let y=o(u);g=y.signal,v=y.end}s(u,(y,w)=>{y?m(y):p(w)},{signal:g,end:v})})}}},2861:(i,n,r)=>{var o=r(8287),e=o.Buffer;function t(d,s){for(var c in d)s[c]=d[c]}function a(d,s,c){return e(d,s,c)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?i.exports=o:(t(o,n),n.Buffer=a),a.prototype=Object.create(e.prototype),t(e,a),a.from=function(d,s,c){if(typeof d=="number")throw new TypeError("Argument must not be a number");return e(d,s,c)},a.alloc=function(d,s,c){if(typeof d!="number")throw new TypeError("Argument must be a number");var u=e(d);return s!==void 0?typeof c=="string"?u.fill(s,c):u.fill(s):u.fill(0),u},a.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return e(d)},a.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(d)}},2791:function(i,n,r){(function(o,e){if(!o.setImmediate){var t,a,d,s,c,u=1,p={},m=!1,g=o.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(o);v=v&&v.setTimeout?v:o,{}.toString.call(o.process)==="[object process]"?t=function(w){process.nextTick(function(){y(w)})}:function(){if(o.postMessage&&!o.importScripts){var w=!0,S=o.onmessage;return o.onmessage=function(){w=!1},o.postMessage("","*"),o.onmessage=S,w}}()?(s="setImmediate$"+Math.random()+"$",c=function(w){w.source===o&&typeof w.data=="string"&&w.data.indexOf(s)===0&&y(+w.data.slice(s.length))},o.addEventListener?o.addEventListener("message",c,!1):o.attachEvent("onmessage",c),t=function(w){o.postMessage(s+w,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(w){y(w.data)},t=function(w){d.port2.postMessage(w)}):g&&"onreadystatechange"in g.createElement("script")?(a=g.documentElement,t=function(w){var S=g.createElement("script");S.onreadystatechange=function(){y(w),S.onreadystatechange=null,a.removeChild(S),S=null},a.appendChild(S)}):t=function(w){setTimeout(y,0,w)},v.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var S=new Array(arguments.length-1),P=0;P<S.length;P++)S[P]=arguments[P+1];var j={callback:w,args:S};return p[u]=j,t(u),u++},v.clearImmediate=x}function x(w){delete p[w]}function y(w){if(m)setTimeout(y,0,w);else{var S=p[w];if(S){m=!0;try{(function(P){var j=P.callback,R=P.args;switch(R.length){case 0:j();break;case 1:j(R[0]);break;case 2:j(R[0],R[1]);break;case 3:j(R[0],R[1],R[2]);break;default:j.apply(void 0,R)}})(S)}finally{x(w),m=!1}}}}})(typeof self>"u"?r.g===void 0?this:r.g:self)},3141:(i,n,r)=>{var o=r(2861).Buffer,e=o.isEncoding||function(v){switch((v=""+v)&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(v){var x;switch(this.encoding=function(y){var w=function(S){if(!S)return"utf8";for(var P;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(P)return;S=(""+S).toLowerCase(),P=!0}}(y);if(typeof w!="string"&&(o.isEncoding===e||!e(y)))throw new Error("Unknown encoding: "+y);return w||y}(v),this.encoding){case"utf16le":this.text=s,this.end=c,x=4;break;case"utf8":this.fillLast=d,x=4;break;case"base64":this.text=u,this.end=p,x=3;break;default:return this.write=m,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(x)}function a(v){return v<=127?0:v>>5==6?2:v>>4==14?3:v>>3==30?4:v>>6==2?-1:-2}function d(v){var x=this.lastTotal-this.lastNeed,y=function(w,S,P){if((192&S[0])!=128)return w.lastNeed=0,"\uFFFD";if(w.lastNeed>1&&S.length>1){if((192&S[1])!=128)return w.lastNeed=1,"\uFFFD";if(w.lastNeed>2&&S.length>2&&(192&S[2])!=128)return w.lastNeed=2,"\uFFFD"}}(this,v);return y!==void 0?y:this.lastNeed<=v.length?(v.copy(this.lastChar,x,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(v.copy(this.lastChar,x,0,v.length),void(this.lastNeed-=v.length))}function s(v,x){if((v.length-x)%2==0){var y=v.toString("utf16le",x);if(y){var w=y.charCodeAt(y.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",x,v.length-1)}function c(v){var x=v&&v.length?this.write(v):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return x+this.lastChar.toString("utf16le",0,y)}return x}function u(v,x){var y=(v.length-x)%3;return y===0?v.toString("base64",x):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",x,v.length-y))}function p(v){var x=v&&v.length?this.write(v):"";return this.lastNeed?x+this.lastChar.toString("base64",0,3-this.lastNeed):x}function m(v){return v.toString(this.encoding)}function g(v){return v&&v.length?this.write(v):""}n.StringDecoder=t,t.prototype.write=function(v){if(v.length===0)return"";var x,y;if(this.lastNeed){if((x=this.fillLast(v))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<v.length?x?x+this.text(v,y):this.text(v,y):x||""},t.prototype.end=function(v){var x=v&&v.length?this.write(v):"";return this.lastNeed?x+"\uFFFD":x},t.prototype.text=function(v,x){var y=function(S,P,j){var R=P.length-1;if(R<j)return 0;var T=a(P[R]);return T>=0?(T>0&&(S.lastNeed=T-1),T):--R<j||T===-2?0:(T=a(P[R]))>=0?(T>0&&(S.lastNeed=T-2),T):--R<j||T===-2?0:(T=a(P[R]))>=0?(T>0&&(T===2?T=0:S.lastNeed=T-3),T):0}(this,v,x);if(!this.lastNeed)return v.toString("utf8",x);this.lastTotal=y;var w=v.length-(y-this.lastNeed);return v.copy(this.lastChar,0,w),v.toString("utf8",x,w)},t.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length}},259:i=>{i.exports=function(n){n.prototype[Symbol.iterator]=function*(){for(let r=this.head;r;r=r.next)yield r.value}}},8799:(i,n,r)=>{function o(s){var c=this;if(c instanceof o||(c=new o),c.tail=null,c.head=null,c.length=0,s&&typeof s.forEach=="function")s.forEach(function(m){c.push(m)});else if(arguments.length>0)for(var u=0,p=arguments.length;u<p;u++)c.push(arguments[u]);return c}function e(s,c,u){var p=c===s.head?new d(u,null,c,s):new d(u,c,c.next,s);return p.next===null&&(s.tail=p),p.prev===null&&(s.head=p),s.length++,p}function t(s,c){s.tail=new d(c,s.tail,null,s),s.head||(s.head=s.tail),s.length++}function a(s,c){s.head=new d(c,null,s.head,s),s.tail||(s.tail=s.head),s.length++}function d(s,c,u,p){if(!(this instanceof d))return new d(s,c,u,p);this.list=p,this.value=s,c?(c.next=this,this.prev=c):this.prev=null,u?(u.prev=this,this.next=u):this.next=null}i.exports=o,o.Node=d,o.create=o,o.prototype.removeNode=function(s){if(s.list!==this)throw new Error("removing node which does not belong to this list");var c=s.next,u=s.prev;return c&&(c.prev=u),u&&(u.next=c),s===this.head&&(this.head=c),s===this.tail&&(this.tail=u),s.list.length--,s.next=null,s.prev=null,s.list=null,c},o.prototype.unshiftNode=function(s){if(s!==this.head){s.list&&s.list.removeNode(s);var c=this.head;s.list=this,s.next=c,c&&(c.prev=s),this.head=s,this.tail||(this.tail=s),this.length++}},o.prototype.pushNode=function(s){if(s!==this.tail){s.list&&s.list.removeNode(s);var c=this.tail;s.list=this,s.prev=c,c&&(c.next=s),this.tail=s,this.head||(this.head=s),this.length++}},o.prototype.push=function(){for(var s=0,c=arguments.length;s<c;s++)t(this,arguments[s]);return this.length},o.prototype.unshift=function(){for(var s=0,c=arguments.length;s<c;s++)a(this,arguments[s]);return this.length},o.prototype.pop=function(){if(this.tail){var s=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,s}},o.prototype.shift=function(){if(this.head){var s=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,s}},o.prototype.forEach=function(s,c){c=c||this;for(var u=this.head,p=0;u!==null;p++)s.call(c,u.value,p,this),u=u.next},o.prototype.forEachReverse=function(s,c){c=c||this;for(var u=this.tail,p=this.length-1;u!==null;p--)s.call(c,u.value,p,this),u=u.prev},o.prototype.get=function(s){for(var c=0,u=this.head;u!==null&&c<s;c++)u=u.next;if(c===s&&u!==null)return u.value},o.prototype.getReverse=function(s){for(var c=0,u=this.tail;u!==null&&c<s;c++)u=u.prev;if(c===s&&u!==null)return u.value},o.prototype.map=function(s,c){c=c||this;for(var u=new o,p=this.head;p!==null;)u.push(s.call(c,p.value,this)),p=p.next;return u},o.prototype.mapReverse=function(s,c){c=c||this;for(var u=new o,p=this.tail;p!==null;)u.push(s.call(c,p.value,this)),p=p.prev;return u},o.prototype.reduce=function(s,c){var u,p=this.head;if(arguments.length>1)u=c;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");p=this.head.next,u=this.head.value}for(var m=0;p!==null;m++)u=s(u,p.value,m),p=p.next;return u},o.prototype.reduceReverse=function(s,c){var u,p=this.tail;if(arguments.length>1)u=c;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");p=this.tail.prev,u=this.tail.value}for(var m=this.length-1;p!==null;m--)u=s(u,p.value,m),p=p.prev;return u},o.prototype.toArray=function(){for(var s=new Array(this.length),c=0,u=this.head;u!==null;c++)s[c]=u.value,u=u.next;return s},o.prototype.toArrayReverse=function(){for(var s=new Array(this.length),c=0,u=this.tail;u!==null;c++)s[c]=u.value,u=u.prev;return s},o.prototype.slice=function(s,c){(c=c||this.length)<0&&(c+=this.length),(s=s||0)<0&&(s+=this.length);var u=new o;if(c<s||c<0)return u;s<0&&(s=0),c>this.length&&(c=this.length);for(var p=0,m=this.head;m!==null&&p<s;p++)m=m.next;for(;m!==null&&p<c;p++,m=m.next)u.push(m.value);return u},o.prototype.sliceReverse=function(s,c){(c=c||this.length)<0&&(c+=this.length),(s=s||0)<0&&(s+=this.length);var u=new o;if(c<s||c<0)return u;s<0&&(s=0),c>this.length&&(c=this.length);for(var p=this.length,m=this.tail;m!==null&&p>c;p--)m=m.prev;for(;m!==null&&p>s;p--,m=m.prev)u.push(m.value);return u},o.prototype.splice=function(s,c,...u){s>this.length&&(s=this.length-1),s<0&&(s=this.length+s);for(var p=0,m=this.head;m!==null&&p<s;p++)m=m.next;var g=[];for(p=0;m&&p<c;p++)g.push(m.value),m=this.removeNode(m);for(m===null&&(m=this.tail),m!==this.head&&m!==this.tail&&(m=m.prev),p=0;p<u.length;p++)m=e(this,m,u[p]);return g},o.prototype.reverse=function(){for(var s=this.head,c=this.tail,u=s;u!==null;u=u.prev){var p=u.prev;u.prev=u.next,u.next=p}return this.head=c,this.tail=s,this};try{r(259)(o)}catch{}},7789:()=>{}},f1={};function vn(i){var n=f1[i];if(n!==void 0)return n.exports;var r=f1[i]={exports:{}};return Yx[i].call(r.exports,r,r.exports,vn),r.exports}vn.n=i=>{var n=i&&i.__esModule?()=>i.default:()=>i;return vn.d(n,{a:n}),n},vn.d=(i,n)=>{for(var r in n)vn.o(n,r)&&!vn.o(i,r)&&Object.defineProperty(i,r,{enumerable:!0,get:n[r]})},vn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),vn.o=(i,n)=>Object.prototype.hasOwnProperty.call(i,n);var ho={};vn.d(ho,{TS:()=>Ta,aH:()=>qd,k_:()=>Fu,a6:()=>Zd,nt:()=>Bd,Sx:()=>jd,E7:()=>ka,F3:()=>G1});var fa="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ga="http://www.w3.org/2001/XMLSchema#",xu="http://www.w3.org/2000/10/swap/",gn={xsd:{decimal:`${ga}decimal`,boolean:`${ga}boolean`,double:`${ga}double`,integer:`${ga}integer`,string:`${ga}string`},rdf:{type:`${fa}type`,nil:`${fa}nil`,first:`${fa}first`,rest:`${fa}rest`,langString:`${fa}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${xu}reify#forSome`,forAll:`${xu}reify#forAll`},log:{implies:`${xu}log#implies`}},{rdf:Jx,xsd:rr}=gn,Na,Kx=0,Eu={namedNode:function(i){return new ba(i)},blankNode:function(i){return new ku(i||"n3-"+Kx++)},variable:function(i){return new Lu(i)},literal:function(i,n){if(typeof n=="string")return new _i(`"${i}"@${n.toLowerCase()}`);let r=n?n.value:"";return r===""&&(typeof i=="boolean"?r=rr.boolean:typeof i=="number"&&(Number.isFinite(i)?r=Number.isInteger(i)?rr.integer:rr.double:(r=rr.double,Number.isNaN(i)||(i=i>0?"INF":"-INF")))),r===""||r===rr.string?new _i(`"${i}"`):new _i(`"${i}"^^${r}`)},defaultGraph:function(){return Na},quad:g1,triple:g1},Bt=Eu,Wi=class i{constructor(n){this.id=n}get value(){return this.id}equals(n){return n instanceof i?this.id===n.id:!!n&&this.termType===n.termType&&this.value===n.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}},ba=class extends Wi{get termType(){return"NamedNode"}},_i=class i extends Wi{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){let n=this.id,r=n.lastIndexOf('"')+1;return r<n.length&&n[r++]==="@"?n.substr(r).toLowerCase():""}get datatype(){return new ba(this.datatypeString)}get datatypeString(){let n=this.id,r=n.lastIndexOf('"')+1,o=r<n.length?n[r]:"";return o==="^"?n.substr(r+2):o!=="@"?rr.string:Jx.langString}equals(n){return n instanceof i?this.id===n.id:!!n&&!!n.datatype&&this.termType===n.termType&&this.value===n.value&&this.language===n.language&&this.datatype.value===n.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},ku=class extends Wi{constructor(n){super(`_:${n}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},Lu=class extends Wi{constructor(n){super(`?${n}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}};function ya(i,n,r){if(n=n||Eu,!i)return n.defaultGraph();switch(i[0]){case"?":return n.variable(i.substr(1));case"_":return n.blankNode(i.substr(2));case'"':if(n===Eu)return new _i(i);if(i[i.length-1]==='"')return n.literal(i.substr(1,i.length-2));let o=i.lastIndexOf('"',i.length-1);return n.literal(i.substr(1,o-1),i[o+1]==="@"?i.substr(o+2):n.namedNode(i.substr(o+3)));case"[":i=JSON.parse(i);break;default:if(!r||!Array.isArray(i))return n.namedNode(i)}return n.quad(ya(i[0],n,!0),ya(i[1],n,!0),ya(i[2],n,!0),i[3]&&ya(i[3],n,!0))}function Jn(i,n){if(typeof i=="string")return i;if(i instanceof Wi&&i.termType!=="Quad")return i.id;if(!i)return Na.id;switch(i.termType){case"NamedNode":return i.value;case"BlankNode":return`_:${i.value}`;case"Variable":return`?${i.value}`;case"DefaultGraph":return"";case"Literal":return`"${i.value}"${i.language?`@${i.language}`:i.datatype&&i.datatype.value!==rr.string?`^^${i.datatype.value}`:""}`;case"Quad":let r=[Jn(i.subject,!0),Jn(i.predicate,!0),Jn(i.object,!0)];return i.graph&&i.graph.termType!=="DefaultGraph"&&r.push(Jn(i.graph,!0)),n?r:JSON.stringify(r);default:throw new Error(`Unexpected termType: ${i.termType}`)}}Na=new class extends Wi{constructor(){return super(""),Na||this}get termType(){return"DefaultGraph"}equals(i){return this===i||!!i&&this.termType===i.termType}};var Oo=class extends Wi{constructor(n,r,o,e){super(""),this._subject=n,this._predicate=r,this._object=o,this._graph=e||Na}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(n){return!!n&&this._subject.equals(n.subject)&&this._predicate.equals(n.predicate)&&this._object.equals(n.object)&&this._graph.equals(n.graph)}};function g1(i,n,r,o){return new Oo(i,n,r,o)}var ut="http://www.w3.org/ns/shacl#",lr="http://www.w3.org/2001/XMLSchema#",im="http://www.w3.org/1999/02/22-rdf-syntax-ns#",om="http://www.w3.org/2000/01/rdf-schema#",V1="http://www.w3.org/2004/02/skos/core#",H1="http://www.w3.org/2002/07/owl#",Yt=Bt.namedNode("shapes"),Xx=Bt.namedNode(H1+"imports"),$n=Bt.namedNode(im+"type"),eN=Bt.namedNode(om+"subClassOf"),tN=Bt.namedNode(V1+"broader"),nN=Bt.namedNode(H1+"NamedIndividual"),Md=Bt.namedNode(ut+"NodeShape"),rm=Bt.namedNode(ut+"class"),sm=Bt.namedNode(ut+"targetClass");function zd(i,n,r=ut,o){let e="",t=function(a,d,s=ut,c){let u,p=s+d;for(let m of a)if(m.predicate.value===p){if(!c||m.object.id.endsWith(`@${c}`))return m.object;m.object.id.indexOf("@")<0?u=m.object:u||(u=m.object)}return u}(i,n,r,o);return t&&(e=t.value),e}function ka(i,n){return zd(i,"prefLabel",V1,n)||zd(i,"label",om,n)}function Ru(i,n,r){let o=[];for(let e of i)o.push({value:e,label:ka(n.getQuads(e,null,null,null),r)});return o}function Pu(i,n){for(let r in n)i=i.replace(n[r],"");return i}function Mu(i,n){let r=Ru(n.shapesGraph.getSubjects($n,i,null),n.shapesGraph,n.attributes.language);for(let o of n.shapesGraph.getSubjects(eN,i,null))r.push(...Mu(o,n));if(n.shapesGraph.has(new Oo(i,$n,nN,Yt))){r.push(...Ru([i],n.shapesGraph,n.attributes.language));for(let o of n.shapesGraph.getSubjects(tN,i,null))r.push(...Mu(o,n))}return r}function Au(i){let n;try{n=new URL(i)}catch{return!1}return n.protocol==="http:"||n.protocol==="https:"}function U1(i,n,r){let o=document.createElement("div");o.classList.add("shacl-or-constraint");let e=[];if(e.push({label:"--- please choose ---",value:""}),n instanceof dr){let t=[];for(let s=0;s<i.length;s++){let c=new Ca(i[s],r,n.nodeId);t.push(c),e.push({label:c.template.label,value:s.toString()})}let a=r.theme.createListEditor("Please choose",null,!1,e),d=a.querySelector(".editor");d.onchange=()=>{d.value&&o.replaceWith(t[parseInt(d.value)])},o.appendChild(a)}else{let t=[];for(let s=0;s<i.length;s++){let c=r.shapesGraph.getQuads(i[s],null,null,Yt);c.length&&(t.push(c),e.push({label:ka(c,r.attributes.language)||Pu(c[0].predicate.value,r.prefixes)+" = "+Pu(c[0].object.value,r.prefixes),value:s.toString()}))}let a=r.theme.createListEditor(n.template.label+"?",null,!1,e,n.template),d=a.querySelector(".editor");d.onchange=()=>{d.value&&o.replaceWith($u(n.template.clone().merge(t[parseInt(d.value)]),void 0,!0))},o.appendChild(a)}return o}var iN={[`${ut}name`]:(i,n)=>{let r=n;i.name&&r.language!==i.config.attributes.language||(i.name=r)},[`${ut}description`]:(i,n)=>{let r=n;i.description&&r.language!==i.config.attributes.language||(i.description=r)},[`${ut}path`]:(i,n)=>{i.path=n.value},[`${ut}node`]:(i,n)=>{i.node=n},[`${ut}datatype`]:(i,n)=>{i.datatype=n},[`${ut}nodeKind`]:(i,n)=>{i.nodeKind=n},[`${ut}minCount`]:(i,n)=>{i.minCount=parseInt(n.value)},[`${ut}maxCount`]:(i,n)=>{i.maxCount=parseInt(n.value)},[`${ut}minLength`]:(i,n)=>{i.minLength=parseInt(n.value)},[`${ut}maxLength`]:(i,n)=>{i.maxLength=parseInt(n.value)},[`${ut}minInclusive`]:(i,n)=>{i.minInclusive=parseInt(n.value)},[`${ut}maxInclusive`]:(i,n)=>{i.maxInclusive=parseInt(n.value)},[`${ut}minExclusive`]:(i,n)=>{i.minExclusive=parseInt(n.value)},[`${ut}maxExclusive`]:(i,n)=>{i.maxExclusive=parseInt(n.value)},[`${ut}pattern`]:(i,n)=>{i.pattern=n.value},[`${ut}order`]:(i,n)=>{i.order=parseInt(n.value)},"http://datashapes.org/dash#singleLine":(i,n)=>{i.singleLine=n.value==="true"},"http://www.w3.org/ns/oa#styleClass":(i,n)=>{i.cssClass=n.value},[`${ut}and`]:(i,n)=>{i.shaclAnd=n.value},[`${ut}in`]:(i,n)=>{i.shaclIn=n.value},[`${ut}languageIn`]:(i,n)=>{i.languageIn=i.config.lists[n.value],i.datatype=Bt.namedNode(im+"langString")},[`${ut}defaultValue`]:(i,n)=>{i.defaultValue=n},[`${ut}hasValue`]:(i,n)=>{i.hasValue=n},[rm.value]:(i,n)=>{i.class=n;let r=i.config.shapesGraph.getSubjects(sm,n,Yt);r.length>0&&(i.node=r[0])},[`${ut}or`]:(i,n)=>{let r=i.config.lists[n.value];r?.length?i.shaclOr=r:console.error("list not found:",n.value,"existing lists:",i.config.lists)}},Bd=class{constructor(n,r,o){this.label="",this.config=o,this.nodeId=r,this.merge(n)}merge(n){var r,o;for(let e of n)(r=iN[e.predicate.id])===null||r===void 0||r.call(this,this,e.object);if(this.label=((o=this.name)===null||o===void 0?void 0:o.value)||ka(n,this.config.attributes.language),this.label||this.node||this.shaclAnd||(this.label=this.path?Pu(this.path,this.config.prefixes):"unknown"),(this.node||this.shaclAnd)&&(this.extendedShapes=[],this.node&&this.extendedShapes.push(this.node),this.shaclAnd)){let e=this.config.lists[this.shaclAnd];if(e?.length)for(let t of e)this.extendedShapes.push(t)}return this}clone(){let n=Object.assign({},this);return n.merge=this.merge.bind(n),n.clone=this.clone.bind(n),n}},jd=class{constructor(n){let r=`form { box-sizing: border-box; display:block; --label-width: 8em; --caret-size: 10px; }
form.mode-edit { padding-left: 1em;  }
form *, form ::after, form ::before { box-sizing: inherit; }
shacl-node, .shacl-group { display: flex; flex-direction: column; width: 100%; position: relative; }
shacl-node .control-button { text-decoration: none; cursor: pointer; border: 1px solid transparent; border-radius: 4px; padding: 2px 4px; }
shacl-node .control-button:hover { border-color: inherit; }
shacl-node .remove-button { margin-left: 4px; }
shacl-node .add-button { font-size: 0.8rem; color: #555; margin: 4px 24px 0 0; }
shacl-node .add-button:before { content: '+'; margin-right: 0.2em; }
shacl-node .add-button:hover { color: inherit; }
shacl-node h1 { font-size: 1.1rem; border-bottom: 1px solid; margin-top: 4px; color: #555; }
shacl-property { display: flex; flex-direction: column; align-items: end; position: relative; }
shacl-property:not(.may-add) > .add-button { display: none; }
shacl-property:not(.may-remove) > .property-instance > .remove-button:not(.persistent) { visibility: hidden; }
shacl-property:not(.may-remove) > .shacl-or-constraint > .remove-button:not(.persistent) { visibility: hidden; }
.shacl-group { margin-bottom: 1em; padding-bottom: 1em; }
.mode-view .shacl-group:not(:has(shacl-property)) { display: none; }
.property-instance, .shacl-or-constraint { display: flex; align-items: flex-start; padding: 4px 0; width: 100%; position: relative; }
.shacl-or-constraint label { display: inline-block; word-break: break-word; width: var(--label-width); line-height: 1em; padding-top: 0.15em; padding-right: 1em; flex-shrink: 0; position: relative; }
.property-instance label[title] { cursor: help; text-decoration: underline dashed #AAA; }
.mode-edit .property-instance label.required::before { color: red; content: '\\2736'; font-size: 0.6rem; position: absolute; left: -1.4em; top: 0.15rem; }
.property-instance.valid::before { position: absolute; left: calc(var(--label-width) - 1em); top: 6px; color: green; content: '\\2713'; }
.editor:not([type='checkbox']), .shacl-or-constraint select { flex-grow: 1; }
.shacl-or-constraint select { border: 1px solid #DDD; padding: 2px 4px; }
textarea.editor { resize: vertical; }
.lang-chooser { position: absolute; top: 5px; right: 28px; border: 0; background-color: #e9e9ed; padding: 2px 4px; max-width: 40px; width: 40px; box-sizing: content-box; }
.lang-chooser+.editor { padding-right: 55px; }
.validation-error { position: absolute; left: calc(var(--label-width) - 1em); top: 6px; color: red; cursor: help; }
.validation-error::before { content: '\\26a0' }
.validation-error.node { left: -1em; }
.invalid > .editor { border-color: red !important; }
.ml-0  { margin-left: 0 !important; }
.pr-0  { padding-right: 0 !important; }
.mode-view .property-instance:not(:first-child) > label { visibility: hidden; }
.mode-view .property-instance label { width: var(--label-width); }

.d-flex { display: flex; }
.lang { opacity: 0.65; font-size: 0.6em; }
a, a:visited { color: inherit; }

.fadeIn, .fadeOut { animation: fadeIn 0.2s ease-out; }
.fadeOut { animation-direction: reverse; animation-timing-function: ease-out;}
@keyframes fadeIn {
    0% { opacity: 0; transform: scaleY(0.8); }
    100% { opacity: 1; transform: scaleY(1); }
}
  
.collapsible > .activator { display: flex; justify-content: space-between; align-items: center; cursor: pointer; width: 100%; border: 0; padding: 8px 0; transition: 0.2s; }
.collapsible > .activator:hover, .collapsible.open > .activator { background-color: #F5F5F5; }
.collapsible > .activator::after { content:''; width: var(--caret-size); height: var(--caret-size); border-style: none solid solid none; border-width: calc(0.3 * var(--caret-size)); transform: rotate(45deg); transition: transform .15s ease-out; margin-right: calc(0.5 * var(--caret-size)); }
.collapsible.open > .activator::after { transform: rotate(225deg); }
.collapsible > *:not(.activator) { transition: all 0.2s ease-out; opacity: 1; }
.collapsible:not(.open) > *:not(.activator) { max-height: 0; padding: 0; opacity: 0; overflow: hidden; }
.collapsible shacl-node > h1 { display: none; }
.collapsible.open > .property-instance:nth-child(odd) { background-color: #F5F5F5; }`;n&&(r+=`
`+n),this.stylesheet=new CSSStyleSheet,this.stylesheet.replaceSync(r)}apply(n){}createViewer(n,r,o){let e=document.createElement("div"),t=document.createElement("label");t.innerHTML=n+":",o.description&&t.setAttribute("title",o.description.value),e.appendChild(t);let a,d=r.value,s=null;if(r instanceof ba){let c=o.config.shapesGraph.getQuads(d,null,null,Yt);if(c.length){let u=ka(c,o.config.attributes.language);u&&(d=u)}}else r instanceof _i&&(r.language?(s=document.createElement("span"),s.classList.add("lang"),s.innerText=`@${r.language}`):r.datatype.value===`${lr}date`?d=new Date(Date.parse(r.value)).toDateString():r.datatype.value===`${lr}dateTime`&&(d=new Date(Date.parse(r.value)).toLocaleString()));return Au(r.value)?(a=document.createElement("a"),a.setAttribute("href",r.value)):a=document.createElement("div"),a.classList.add("d-flex"),a.innerText=d,s&&a.appendChild(s),e.appendChild(a),e}};function oN(i,n){var r,o,e;if(i.config.editMode){let t=i.minCount!==void 0&&i.minCount>0;if(i.class)return i.config.theme.createListEditor(i.label,n,t,Mu(i.class,i.config),i);if(i.shaclIn){let a=i.config.lists[i.shaclIn];if(a?.length){let d=Ru(a,i.config.shapesGraph,i.config.attributes.language);return i.config.theme.createListEditor(i.label,n,t,d,i)}console.error("list not found:",i.shaclIn,"existing lists:",i.config.lists)}if(((r=i.datatype)===null||r===void 0?void 0:r.value)===`${im}langString`||!((o=i.languageIn)===null||o===void 0)&&o.length)return i.config.theme.createLangStringEditor(i.label,n,t,i);switch((e=i.datatype)===null||e===void 0?void 0:e.value.replace(lr,"")){case"integer":case"float":case"double":case"decimal":return i.config.theme.createNumberEditor(i.label,n,t,i);case"date":case"dateTime":return i.config.theme.createDateEditor(i.label,n,t,i);case"boolean":return i.config.theme.createBooleanEditor(i.label,n,t,i);case"base64Binary":return i.config.theme.createFileEditor(i.label,n,t,i)}return i.config.theme.createTextEditor(i.label,n,t,i)}{if(n)return i.config.theme.createViewer(i.label,n,i);let t=document.createElement("div");return t.innerHTML="No value",t}}function Ou(i){return!!i&&i.termType==="DefaultGraph"}var va=Bt.defaultGraph(),{rdf:rN,xsd:ns}=gn,v1=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,y1=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,sN={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"},sr=class extends Wi{equals(n){return n===this}},Du=class{constructor(n,r){if(this._prefixRegex=/$0^/,n&&typeof n.write!="function"&&(r=n,n=null),r=r||{},this._lists=r.lists,n)this._outputStream=n,this._endStream=r.end===void 0||!!r.end;else{let o="";this._outputStream={write(e,t,a){o+=e,a&&a()},end:e=>{e&&e(null,o)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=va,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseMatcher=new RegExp(`^${_1(r.baseIRI)}${r.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=r.baseIRI.length))}get _inDefaultGraph(){return va.equals(this._graph)}_write(n,r){this._outputStream.write(n,"utf8",r)}_writeQuad(n,r,o,e,t){try{e.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(va.equals(e)?"":`${this._encodeIriOrBlank(e)} {
`)),this._graph=e,this._subject=null),n.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(o)}`,t):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(o)}`,t):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=n)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(o)}`,t)}catch(a){t&&t(a)}}_writeQuadLine(n,r,o,e,t){delete this._prefixMatch,this._write(this.quadToString(n,r,o,e),t)}quadToString(n,r,o,e){return`${this._encodeSubject(n)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(o)}${e&&e.value?` ${this._encodeIriOrBlank(e)} .
`:` .
`}`}quadsToString(n){return n.map(r=>this.quadToString(r.subject,r.predicate,r.object,r.graph)).join("")}_encodeSubject(n){return n.termType==="Quad"?this._encodeQuad(n):this._encodeIriOrBlank(n)}_encodeIriOrBlank(n){if(n.termType!=="NamedNode")return this._lists&&n.value in this._lists&&(n=this.list(this._lists[n.value])),"id"in n?n.id:`_:${n.value}`;let r=n.value;this._baseMatcher&&this._baseMatcher.test(r)&&(r=r.substr(this._baseLength)),v1.test(r)&&(r=r.replace(y1,w1));let o=this._prefixRegex.exec(r);return o?o[1]?this._prefixIRIs[o[1]]+o[2]:r:`<${r}>`}_encodeLiteral(n){let r=n.value;if(v1.test(r)&&(r=r.replace(y1,w1)),n.language)return`"${r}"@${n.language}`;if(this._lineMode){if(n.datatype.value===ns.string)return`"${r}"`}else switch(n.datatype.value){case ns.string:return`"${r}"`;case ns.boolean:if(r==="true"||r==="false")return r;break;case ns.integer:if(/^[+-]?\d+$/.test(r))return r;break;case ns.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case ns.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r}return`"${r}"^^${this._encodeIriOrBlank(n.datatype)}`}_encodePredicate(n){return n.value===rN.type?"a":this._encodeIriOrBlank(n)}_encodeObject(n){switch(n.termType){case"Quad":return this._encodeQuad(n);case"Literal":return this._encodeLiteral(n);default:return this._encodeIriOrBlank(n)}}_encodeQuad({subject:n,predicate:r,object:o,graph:e}){return`<<${this._encodeSubject(n)} ${this._encodePredicate(r)} ${this._encodeObject(o)}${Ou(e)?"":` ${this._encodeIriOrBlank(e)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(n,r,o,e,t){o===void 0?this._writeQuad(n.subject,n.predicate,n.object,n.graph,r):typeof e=="function"?this._writeQuad(n,r,o,va,e):this._writeQuad(n,r,o,e||va,t)}addQuads(n){for(let r=0;r<n.length;r++)this.addQuad(n[r])}addPrefix(n,r,o){let e={};e[n]=r,this.addPrefixes(e,o)}addPrefixes(n,r){if(!this._prefixIRIs)return r&&r();let o=!1;for(let e in n){let t=n[e];typeof t!="string"&&(t=t.value),o=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[t]=e+=":",this._write(`@prefix ${e} <${t}>.
`)}if(o){let e="",t="";for(let a in this._prefixIRIs)e+=e?`|${a}`:a,t+=(t?"|":"")+this._prefixIRIs[a];e=_1(e),this._prefixRegex=new RegExp(`^(?:${t})[^/]*$|^(${e})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(o?`
`:"",r)}blank(n,r){let o,e,t=n;switch(n===void 0?t=[]:n.termType?t=[{predicate:n,object:r}]:"length"in n||(t=[n]),e=t.length){case 0:return new sr("[]");case 1:if(o=t[0],!(o.object instanceof sr))return new sr(`[ ${this._encodePredicate(o.predicate)} ${this._encodeObject(o.object)} ]`);default:let a="[";for(let d=0;d<e;d++)o=t[d],o.predicate.equals(n)?a+=`, ${this._encodeObject(o.object)}`:(a+=`${(d?`;
  `:`
  `)+this._encodePredicate(o.predicate)} ${this._encodeObject(o.object)}`,n=o.predicate);return new sr(`${a}
]`)}}list(n){let r=n&&n.length||0,o=new Array(r);for(let e=0;e<r;e++)o[e]=this._encodeObject(n[e]);return new sr(`(${o.join(" ")})`)}end(n){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=n&&((o,e)=>{r=null,n(o,e)});if(this._endStream)try{return this._outputStream.end(r)}catch{}r&&r()}};function w1(i){let n=sN[i];return n===void 0&&(i.length===1?(n=i.charCodeAt(0).toString(16),n="\\u0000".substr(0,6-n.length)+n):(n=(1024*(i.charCodeAt(0)-55296)+i.charCodeAt(1)+9216).toString(16),n="\\U00000000".substr(0,10-n.length)+n)),n}function _1(i){return i.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}function aN(i){let n=i.shaclDatatype,r=i.value;return r?i.dataset.class||i.dataset.nodeKind===ut+"IRI"?Bt.namedNode(r):(i.dataset.lang?n=i.dataset.lang:i.type==="number"?r=parseFloat(r):i.type==="file"&&i.binaryData?r=i.binaryData:i.type==="datetime-local"&&(r=new Date(r).toISOString().slice(0,19)),Bt.literal(r,n)):i.type!=="checkbox"&&i.getAttribute("type")!=="checkbox"||!(i.checked||parseInt(i.dataset.minCount||"0")>0)?void 0:Bt.literal(i.checked?"true":"false",n)}var wa={};function G1(i){i.predicate===void 0&&i.datatype===void 0?console.warn('not registering plugin because it does neither define "predicate" nor "datatype"',i):wa[`${i.predicate}^${i.datatype}`]=i}var Fu=class{constructor(n,r){this.predicate=n.predicate,this.datatype=n.datatype,r&&(this.stylesheet=new CSSStyleSheet,this.stylesheet.replaceSync(r))}createViewer(n,r){return n.config.theme.createViewer(n.label,r,n)}},Ca=class extends HTMLElement{constructor(n,r,o,e){var t;if(super(),this.template=new Bd(r.shapesGraph.getQuads(n,null,null,Yt),o,r),this.dataset.nodeId=this.template.nodeId.id,this.template.order!==void 0&&(this.style.order=`${this.template.order}`),this.template.cssClass&&this.classList.add(this.template.cssClass),r.editMode&&(this.addButton=document.createElement("a"),this.addButton.innerText=this.template.label,this.addButton.title="Add "+this.template.label,this.addButton.classList.add("control-button","add-button"),this.addButton.addEventListener("click",a=>{let d=this.addPropertyInstance();d.classList.add("fadeIn"),this.updateControls(),function(s){var c;(c=s.querySelector("input,select,textarea"))===null||c===void 0||c.focus()}(d),setTimeout(()=>{d.classList.remove("fadeIn")},200)}),this.appendChild(this.addButton)),this.template.path){let a=e?r.dataGraph.getQuads(e,this.template.path,null,null):[],d=!1;for(let s of a)this.addPropertyInstance(s.object),this.template.hasValue&&s.object.equals(this.template.hasValue)&&(d=!0);r.editMode&&this.template.hasValue&&!d&&this.addPropertyInstance(this.template.hasValue)}if(r.editMode&&(this.addEventListener("change",()=>{this.updateControls()}),this.updateControls()),((t=this.template.extendedShapes)===null||t===void 0?void 0:t.length)&&this.template.config.attributes.collapse!==null&&(!this.template.maxCount||this.template.maxCount>1)&&(r.editMode||this.childElementCount>0)){let a=this;a.classList.add("collapsible"),this.template.config.attributes.collapse==="open"&&a.classList.add("open");let d=document.createElement("h1");d.classList.add("activator"),d.innerText=this.template.label,d.addEventListener("click",()=>{a.classList.toggle("open")}),this.prepend(d)}}addPropertyInstance(n){var r;let o;return!((r=this.template.shaclOr)===null||r===void 0)&&r.length?n?o=$u(function(e,t){if(!e.shaclOr)return console.warn("can't resolve sh:or because template has no options",e),e;if(t instanceof _i){let a=t.datatype;for(let d of e.shaclOr){let s=e.config.shapesGraph.getQuads(d,null,null,Yt);for(let c of s)if(c.predicate.value===`${ut}datatype`&&c.object.equals(a))return e.clone().merge(s)}}else{let a=e.config.dataGraph.getObjects(t,$n,null);if(a.push(...e.config.shapesGraph.getObjects(t,$n,Yt)),a.length>0)for(let d of e.shaclOr){let s=e.config.shapesGraph.getQuads(d,null,null,Yt);for(let c of s){if(c.predicate.value===`${ut}node`){for(let u of a)if(e.config.shapesGraph.has(new Oo(c.object,sm,u,Yt)))return e.clone().merge(s)}if(c.predicate.equals(rm)){for(let u of a)if(c.object.equals(u))return e.clone().merge(s)}}}}return console.error("couldn't resolve sh:or for value",t),e}(this.template,n),n,!0):(o=U1(this.template.shaclOr,this,this.template.config),W1(o,"")):o=$u(this.template,n),this.template.config.editMode?this.insertBefore(o,this.addButton):this.appendChild(o),o}updateControls(){var n;let r,o=this.querySelectorAll(":scope > .property-instance, :scope > .shacl-or-constraint, :scope > shacl-node").length;o===0&&(!(!((n=this.template.extendedShapes)===null||n===void 0)&&n.length)||this.template.minCount!==void 0&&this.template.minCount>0)&&(this.addPropertyInstance(),o=this.querySelectorAll(":scope > .property-instance, :scope > .shacl-or-constraint, :scope > shacl-node").length),r=this.template.minCount!==void 0?o>this.template.minCount:this.template.extendedShapes&&this.template.extendedShapes.length>0||o>1;let e=this.template.maxCount===void 0||o<this.template.maxCount;this.classList.toggle("may-remove",r),this.classList.toggle("may-add",e)}toRDF(n,r){for(let o of this.querySelectorAll(":scope > .property-instance")){let e=Bt.namedNode(o.dataset.path);if(o.firstChild instanceof dr){let t=n.size,a=o.firstChild.toRDF(n);n.size>t&&n.addQuad(r,e,a)}else{let t=aN(o.querySelector(".editor"));t&&n.addQuad(r,e,t)}}}};function $u(i,n,r=!1){var o,e;let t;if(!((o=i.extendedShapes)===null||o===void 0)&&o.length){t=document.createElement("div"),t.classList.add("property-instance");for(let a of i.extendedShapes)t.appendChild(new dr(a,i.config,n,i.nodeKind,i.label))}else{let a=function(d,s){let c=wa[`${d}^${s}`];return c||(c=wa[`${d}^undefined`],c||wa[`undefined^${s}`])}(i.path,(e=i.datatype)===null||e===void 0?void 0:e.value);t=a?i.config.editMode?a.createEditor(i,n):a.createViewer(i,n):oN(i,n||null),t.classList.add("property-instance")}return i.config.editMode&&W1(t,i.label,r),t.dataset.path=i.path,t}function W1(i,n,r=!1){let o=document.createElement("a");o.innerText="\xD7",o.classList.add("control-button","btn","remove-button"),o.title="Remove "+n,o.addEventListener("click",e=>{i.classList.remove("fadeIn"),i.classList.add("fadeOut"),setTimeout(()=>{let t=i.parentElement;i.remove(),t?.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))},200)}),r&&o.classList.add("persistent"),i.appendChild(o)}function lN(i,n){let r=document.createElement("div");r.dataset.subject=i,r.classList.add("shacl-group");let o=i,e=n.shapesGraph.getQuads(i,null,null,Yt),t=zd(e,"label",om,n.attributes.language);t&&(o=t);let a=zd(e,"order");a&&(r.style.order=a);let d=document.createElement("h1");return d.innerText=o,r.appendChild(d),n.attributes.collapse!==null&&(r.classList.add("collapsible"),n.attributes.collapse==="open"&&r.classList.add("open"),d.classList.add("activator"),d.addEventListener("click",()=>{r.classList.toggle("open")})),r}window.customElements.define("shacl-property",Ca);var x1={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},Ad,dN=new Uint8Array(16);function cN(){if(!Ad&&(Ad=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ad))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ad(dN)}var hn=[];for(let i=0;i<256;++i)hn.push((i+256).toString(16).slice(1));var N1=function(i,n,r){if(x1.randomUUID&&!n&&!i)return x1.randomUUID();let o=(i=i||{}).random||(i.rng||cN)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n){r=r||0;for(let e=0;e<16;++e)n[r+e]=o[e];return n}return function(e,t=0){return hn[e[t+0]]+hn[e[t+1]]+hn[e[t+2]]+hn[e[t+3]]+"-"+hn[e[t+4]]+hn[e[t+5]]+"-"+hn[e[t+6]]+hn[e[t+7]]+"-"+hn[e[t+8]]+hn[e[t+9]]+"-"+hn[e[t+10]]+hn[e[t+11]]+hn[e[t+12]]+hn[e[t+13]]+hn[e[t+14]]+hn[e[t+15]]}(o)},dr=class i extends HTMLElement{constructor(n,r,o,e,t){super(),this.config=r,this.shaclSubject=n;let a=o;if(!a){if(!e){let c=r.shapesGraph.getObjects(n,`${ut}nodeKind`,Yt);c.length&&(e=c[0])}a=e===void 0&&r.attributes.valuesNamespace||e?.id===`${ut}IRI`?Bt.namedNode(r.attributes.valuesNamespace+N1()):Bt.blankNode(N1())}this.nodeId=a,this.dataset.nodeId=this.nodeId.id;let d=r.shapesGraph.getQuads(n,null,null,Yt),s;for(let c of d)switch(c.predicate.id){case`${ut}property`:let u=this,p=r.shapesGraph.getQuads(c.object,`${ut}group`,null,Yt);if(p.length>0){let g=p[0].object.value;if(r.groups.indexOf(g)>-1){let v=this.querySelector(`:scope > .shacl-group[data-subject='${g}']`);v||(v=lN(g,r),this.appendChild(v)),u=v}else console.warn("ignoring unknown group reference",p[0])}let m=new Ca(c.object,r,this.nodeId,o);m.childElementCount>0&&u.appendChild(m);break;case`${ut}and`:if(s=r.lists[c.object.value],s?.length)for(let g of s)this.prepend(new i(g,r,o));else console.error("list not found:",c.object.value,"existing lists:",r.lists);break;case`${ut}node`:this.prepend(new i(c.object,r,o));break;case`${ut}targetClass`:this.targetClass=c.object;break;case`${ut}or`:s=r.lists[c.object.value],s?.length?this.appendChild(U1(s,this,r)):console.error("list not found:",c.object.value,"existing lists:",r.lists)}if(t){let c=document.createElement("h1");c.innerText=t,this.prepend(c)}}toRDF(n,r){r||(r=this.nodeId);for(let o of this.querySelectorAll(":scope > shacl-node, :scope > .shacl-group > shacl-node, :scope > shacl-property, :scope > .shacl-group > shacl-property"))o.toRDF(n,r);return this.targetClass&&n.addQuad(r,$n,this.targetClass),this.closest("shacl-node shacl-node")||n.addQuad(r,$n,this.shaclSubject),r}};window.customElements.define("shacl-node",dr);var Z1=vn(9198),Do=class{constructor(n,r){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._entities=Object.create(null),this._blankNodeIndex=0,r||!n||n[0]||(r=n,n=null),r=r||{},this._factory=r.factory||Bt,n&&this.addQuads(n)}_termFromId(n,r){if(n[0]==="."){let o=this._entities,e=n.split(".");return this._factory.quad(this._termFromId(o[e[1]]),this._termFromId(o[e[2]]),this._termFromId(o[e[3]]),e[4]&&this._termFromId(o[e[4]]))}return ya(n,r)}_termToNumericId(n){if(n.termType==="Quad"){let r=this._termToNumericId(n.subject),o=this._termToNumericId(n.predicate),e=this._termToNumericId(n.object),t;return r&&o&&e&&(Ou(n.graph)||(t=this._termToNumericId(n.graph)))&&this._ids[t?`.${r}.${o}.${e}.${t}`:`.${r}.${o}.${e}`]}return this._ids[Jn(n)]}_termToNewNumericId(n){let r=n&&n.termType==="Quad"?`.${this._termToNewNumericId(n.subject)}.${this._termToNewNumericId(n.predicate)}.${this._termToNewNumericId(n.object)}${Ou(n.graph)?"":`.${this._termToNewNumericId(n.graph)}`}`:Jn(n);return this._ids[r]||(this._ids[this._entities[++this._id]=r]=this._id)}get size(){let n=this._size;if(n!==null)return n;n=0;let r=this._graphs,o,e;for(let t in r)for(let a in o=r[t].subjects)for(let d in e=o[a])n+=Object.keys(e[d]).length;return this._size=n}_addToIndex(n,r,o,e){let t=n[r]||(n[r]={}),a=t[o]||(t[o]={}),d=e in a;return d||(a[e]=null),!d}_removeFromIndex(n,r,o,e){let t=n[r],a=t[o];delete a[e];for(let d in a)return;delete t[o];for(let d in t)return;delete n[r]}*_findInIndex(n,r,o,e,t,a,d,s){let c,u,p,m=this._entities,g=this._termFromId(s,this._factory),v={subject:null,predicate:null,object:null};r&&((c=n,n={})[r]=c[r]);for(let x in n)if(u=n[x]){v[t]=this._termFromId(m[x],this._factory),o&&((c=u,u={})[o]=c[o]);for(let y in u)if(p=u[y]){v[a]=this._termFromId(m[y],this._factory);let w=e?e in p?[e]:[]:Object.keys(p);for(let S=0;S<w.length;S++)v[d]=this._termFromId(m[w[S]],this._factory),yield this._factory.quad(v.subject,v.predicate,v.object,g)}}}_loop(n,r){for(let o in n)r(o)}_loopByKey0(n,r,o){let e,t;if(e=n[r])for(t in e)o(t)}_loopByKey1(n,r,o){let e,t;for(e in n)t=n[e],t[r]&&o(e)}_loopBy2Keys(n,r,o,e){let t,a,d;if((t=n[r])&&(a=t[o]))for(d in a)e(d)}_countInIndex(n,r,o,e){let t,a,d,s=0;r&&((t=n,n={})[r]=t[r]);for(let c in n)if(a=n[c]){o&&((t=a,a={})[o]=t[o]);for(let u in a)(d=a[u])&&(e?e in d&&s++:s+=Object.keys(d).length)}return s}_getGraphs(n){if(!(typeof(r=n)=="string"||r instanceof String))return this._graphs;var r;let o={};return o[n]=this._graphs[n],o}_uniqueEntities(n){let r=Object.create(null);return o=>{o in r||(r[o]=!0,n(this._termFromId(this._entities[o],this._factory)))}}add(n){return this.addQuad(n),this}addQuad(n,r,o,e){r||(e=n.graph,o=n.object,r=n.predicate,n=n.subject),e=Jn(e);let t=this._graphs[e];t||(t=this._graphs[e]={subjects:{},predicates:{},objects:{}},Object.freeze(t)),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r),o=this._termToNewNumericId(o);let a=this._addToIndex(t.subjects,n,r,o);return this._addToIndex(t.predicates,r,o,n),this._addToIndex(t.objects,o,n,r),this._size=null,a}addQuads(n){for(let r=0;r<n.length;r++)this.addQuad(n[r])}delete(n){return this.removeQuad(n),this}has(n,r,o,e){return n&&n.subject&&({subject:n,predicate:r,object:o,graph:e}=n),!this.readQuads(n,r,o,e).next().done}import(n){return n.on("data",r=>{this.addQuad(r)}),n}removeQuad(n,r,o,e){r||(e=n.graph,o=n.object,r=n.predicate,n=n.subject),e=Jn(e);let t=this._graphs,a,d,s;if(!((n=n&&this._termToNumericId(n))&&(r=r&&this._termToNumericId(r))&&(o=o&&this._termToNumericId(o))&&(a=t[e])&&(d=a.subjects[n])&&(s=d[r])&&o in s))return!1;for(n in this._removeFromIndex(a.subjects,n,r,o),this._removeFromIndex(a.predicates,r,o,n),this._removeFromIndex(a.objects,o,n,r),this._size!==null&&this._size--,a.subjects)return!0;return delete t[e],!0}removeQuads(n){for(let r=0;r<n.length;r++)this.removeQuad(n[r])}remove(n){return n.on("data",r=>{this.removeQuad(r)}),n}removeMatches(n,r,o,e){let t=new Z1.Readable({objectMode:!0});return t._read=()=>{for(let a of this.readQuads(n,r,o,e))t.push(a);t.push(null)},this.remove(t)}deleteGraph(n){return this.removeMatches(null,null,null,n)}getQuads(n,r,o,e){return[...this.readQuads(n,r,o,e)]}*readQuads(n,r,o,e){e=e&&Jn(e);let t=this._getGraphs(e),a,d,s,c;if(!(n&&!(d=this._termToNumericId(n))||r&&!(s=this._termToNumericId(r))||o&&!(c=this._termToNumericId(o))))for(let u in t)(a=t[u])&&(d?c?yield*ni(this._findInIndex(a.objects,c,d,s,"object","subject","predicate",u)):yield*ni(this._findInIndex(a.subjects,d,s,null,"subject","predicate","object",u)):s?yield*ni(this._findInIndex(a.predicates,s,c,null,"predicate","object","subject",u)):c?yield*ni(this._findInIndex(a.objects,c,null,null,"object","subject","predicate",u)):yield*ni(this._findInIndex(a.subjects,null,null,null,"subject","predicate","object",u)))}match(n,r,o,e){return new zu(this,n,r,o,e)}countQuads(n,r,o,e){e=e&&Jn(e);let t=this._getGraphs(e),a,d,s,c,u=0;if(n&&!(d=this._termToNumericId(n))||r&&!(s=this._termToNumericId(r))||o&&!(c=this._termToNumericId(o)))return 0;for(let p in t)(a=t[p])&&(u+=n?o?this._countInIndex(a.objects,c,d,s):this._countInIndex(a.subjects,d,s,c):r?this._countInIndex(a.predicates,s,c,d):this._countInIndex(a.objects,c,d,s));return u}forEach(n,r,o,e,t){this.some(a=>(n(a),!1),r,o,e,t)}every(n,r,o,e,t){let a=!1,d=!this.some(s=>(a=!0,!n(s)),r,o,e,t);return a&&d}some(n,r,o,e,t){for(let a of this.readQuads(r,o,e,t))if(n(a))return!0;return!1}getSubjects(n,r,o){let e=[];return this.forSubjects(t=>{e.push(t)},n,r,o),e}forSubjects(n,r,o,e){e=e&&Jn(e);let t=this._getGraphs(e),a,d,s;if(n=this._uniqueEntities(n),!(r&&!(d=this._termToNumericId(r))||o&&!(s=this._termToNumericId(o))))for(e in t)(a=t[e])&&(d?s?this._loopBy2Keys(a.predicates,d,s,n):this._loopByKey1(a.subjects,d,n):s?this._loopByKey0(a.objects,s,n):this._loop(a.subjects,n))}getPredicates(n,r,o){let e=[];return this.forPredicates(t=>{e.push(t)},n,r,o),e}forPredicates(n,r,o,e){e=e&&Jn(e);let t=this._getGraphs(e),a,d,s;if(n=this._uniqueEntities(n),!(r&&!(d=this._termToNumericId(r))||o&&!(s=this._termToNumericId(o))))for(e in t)(a=t[e])&&(d?s?this._loopBy2Keys(a.objects,s,d,n):this._loopByKey0(a.subjects,d,n):s?this._loopByKey1(a.predicates,s,n):this._loop(a.predicates,n))}getObjects(n,r,o){let e=[];return this.forObjects(t=>{e.push(t)},n,r,o),e}forObjects(n,r,o,e){e=e&&Jn(e);let t=this._getGraphs(e),a,d,s;if(n=this._uniqueEntities(n),!(r&&!(d=this._termToNumericId(r))||o&&!(s=this._termToNumericId(o))))for(e in t)(a=t[e])&&(d?s?this._loopBy2Keys(a.subjects,d,s,n):this._loopByKey1(a.objects,d,n):s?this._loopByKey0(a.predicates,s,n):this._loop(a.objects,n))}getGraphs(n,r,o){let e=[];return this.forGraphs(t=>{e.push(t)},n,r,o),e}forGraphs(n,r,o,e){for(let t in this._graphs)this.some(a=>(n(a.graph),!0),r,o,e,t)}createBlankNode(n){let r,o;if(n)for(r=n=`_:${n}`,o=1;this._ids[r];)r=n+o++;else do r="_:b"+this._blankNodeIndex++;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}extractLists({remove:n=!1,ignoreErrors:r=!1}={}){let o={},e=r?()=>!0:(d,s)=>{throw new Error(`${d.value} ${s}`)},t=this.getQuads(null,gn.rdf.rest,gn.rdf.nil,null),a=n?[...t]:[];return t.forEach(d=>{let s=[],c,u,p=!1,m=d.graph,g=d.subject;for(;g&&!p;){let v=this.getQuads(null,null,g,null),x=this.getQuads(g,null,null,null),y,w=null,S=null,P=null;for(let j=0;j<x.length&&!p;j++)y=x[j],y.graph.equals(m)?c?p=e(g,"has non-list arcs out"):y.predicate.value===gn.rdf.first?w?p=e(g,"has multiple rdf:first arcs"):a.push(w=y):y.predicate.value===gn.rdf.rest?S?p=e(g,"has multiple rdf:rest arcs"):a.push(S=y):v.length?p=e(g,"can't be subject and object"):(c=y,u="subject"):p=e(g,"not confined to single graph");for(let j=0;j<v.length&&!p;++j)y=v[j],c?p=e(g,"can't have coreferences"):y.predicate.value===gn.rdf.rest?P?p=e(g,"has incoming rdf:rest arcs"):P=y:(c=y,u="object");w?s.unshift(w.object):p=e(g,"has no list head"),g=P&&P.subject}p?n=!1:c&&(o[c[u].value]=s)}),n&&this.removeQuads(a),o}*[Symbol.iterator](){yield*ni(this.readQuads())}},zu=class i extends Z1.Readable{constructor(n,r,o,e,t){super({objectMode:!0}),Object.assign(this,{n3Store:n,subject:r,predicate:o,object:e,graph:t})}get filtered(){if(!this._filtered){let{n3Store:n,graph:r,object:o,predicate:e,subject:t}=this,a=this._filtered=new Do({factory:n._factory});for(let d of n.readQuads(t,e,o,r))a.addQuad(d)}return this._filtered}get size(){return this.filtered.size}_read(){for(let n of this)this.push(n);this.push(null)}add(n){return this.filtered.add(n)}delete(n){return this.filtered.delete(n)}has(n){return this.filtered.has(n)}match(n,r,o,e){return new i(this.filtered,n,r,o,e)}*[Symbol.iterator](){yield*ni(this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph))}},hN=vn(8287),uN=vn(9596),mN=vn.n(uN),{xsd:Od}=gn,pN=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,b1={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},fN=/[\x00-\x20<>\\"\{\}\|\^\`]/,gN={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},vN=/$0^/,Bu=class{constructor(n){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,n=n||{},this._lineMode=!!n.lineMode){this._n3Mode=!1;for(let r in this)!(r in gN)&&this[r]instanceof RegExp&&(this[r]=vN)}else this._n3Mode=n.n3!==!1;this._comments=!!n.comments,this._literalClosingPos=0}_tokenizeToEnd(n,r){let o=this._input,e=o.length;for(;;){let d,s;for(;d=this._newline.exec(o);)this._comments&&(s=this._comment.exec(d[0]))&&t("comment",s[1],"",this._line,d[0].length),o=o.substr(d[0].length,o.length),e=o.length,this._line++;if(!d&&(d=this._whitespace.exec(o))&&(o=o.substr(d[0].length,o.length)),this._endOfFile.test(o))return r&&(this._comments&&(s=this._comment.exec(o))&&t("comment",s[1],"",this._line,o.length),o=null,t("eof","","",this._line,0)),this._input=o;let c=this._line,u=o[0],p="",m="",g="",v=null,x=0,y=!1;switch(u){case"^":if(o.length<3)break;if(o[1]!=="^"){this._n3Mode&&(x=1,p="^");break}if(this._previousMarker="^^",o=o.substr(2),o[0]!=="<"){y=!0;break}case"<":if(v=this._unescapedIri.exec(o))p="IRI",m=v[1];else if(v=this._iri.exec(o)){if(m=this._unescape(v[1]),m===null||fN.test(m))return a(this);p="IRI"}else o.length>1&&o[1]==="<"?(p="<<",x=2):this._n3Mode&&o.length>1&&o[1]==="="&&(p="inverse",x=2,m=">");break;case">":o.length>1&&o[1]===">"&&(p=">>",x=2);break;case"_":((v=this._blank.exec(o))||r&&(v=this._blank.exec(`${o} `)))&&(p="blank",g="_",m=v[1]);break;case'"':if(v=this._simpleQuotedString.exec(o))m=v[1];else if({value:m,matchLength:x}=this._parseLiteral(o),m===null)return a(this);v===null&&x===0||(p="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(v=this._simpleApostropheString.exec(o))m=v[1];else if({value:m,matchLength:x}=this._parseLiteral(o),m===null)return a(this);v===null&&x===0||(p="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(v=this._variable.exec(o))&&(p="var",m=v[0]);break;case"@":this._previousMarker==="literal"&&(v=this._langcode.exec(o))?(p="langcode",m=v[1]):(v=this._keyword.exec(o))&&(p=v[0]);break;case".":if(o.length===1?r:o[1]<"0"||o[1]>"9"){p=".",x=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(v=this._number.exec(o)||r&&(v=this._number.exec(`${o} `)))&&(p="literal",m=v[0],g=typeof v[1]=="string"?Od.double:typeof v[2]=="string"?Od.decimal:Od.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(v=this._sparqlKeyword.exec(o))?p=v[0].toUpperCase():y=!0;break;case"f":case"t":(v=this._boolean.exec(o))?(p="literal",m=v[0],g=Od.boolean):y=!0;break;case"a":(v=this._shortPredicates.exec(o))?(p="abbreviation",m="a"):y=!0;break;case"=":this._n3Mode&&o.length>1&&(p="abbreviation",o[1]!==">"?(x=1,m="="):(x=2,m=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(x=1,p=u);break;case"{":!this._lineMode&&o.length>=2&&(o[1]==="|"?(p="{|",x=2):(p=u,x=1));break;case"|":o.length>=2&&o[1]==="}"&&(p="|}",x=2);break;default:y=!0}if(y&&(this._previousMarker!=="@prefix"&&this._previousMarker!=="PREFIX"||!(v=this._prefix.exec(o))?((v=this._prefixed.exec(o))||r&&(v=this._prefixed.exec(`${o} `)))&&(p="prefixed",g=v[1]||"",m=this._unescape(v[2])):(p="prefix",m=v[1]||"")),this._previousMarker==="^^")switch(p){case"prefixed":p="type";break;case"IRI":p="typeIRI";break;default:p=""}if(!p)return r||!/^'''|^"""/.test(o)&&/\n|\r/.test(o)?a(this):this._input=o;let w=x||v[0].length,S=t(p,m,g,c,w);this.previousToken=S,this._previousMarker=p,o=o.substr(w,o.length)}function t(d,s,c,u,p){let m=o?e-o.length:e,g={type:d,value:s,prefix:c,line:u,start:m,end:m+p};return n(null,g),g}function a(d){n(d._syntaxError(/^\S*/.exec(o)[0]))}}_unescape(n){let r=!1,o=n.replace(pN,(e,t,a,d)=>{if(typeof t=="string")return String.fromCharCode(Number.parseInt(t,16));if(typeof a=="string"){let s=Number.parseInt(a,16);return s<=65535?String.fromCharCode(Number.parseInt(a,16)):String.fromCharCode(55296+((s-=65536)>>10),56320+(1023&s))}return d in b1?b1[d]:(r=!0,"")});return r?null:o}_parseLiteral(n){if(n.length>=3){let r=n.match(/^(?:"""|"|'''|'|)/)[0],o=r.length,e=Math.max(this._literalClosingPos,o);for(;(e=n.indexOf(r,e))>0;){let t=0;for(;n[e-t-1]==="\\";)t++;if(t%2==0){let a=n.substring(o,e),d=a.split(/\r\n|\r|\n/).length-1,s=e+o;if(o===1&&d!==0||o===3&&this._lineMode)break;return this._line+=d,{value:this._unescape(a),matchLength:s}}e++}this._literalClosingPos=n.length-o+1}return{value:"",matchLength:0}}_syntaxError(n){this._input=null;let r=new Error(`Unexpected "${n}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(n){return n.startsWith("\uFEFF")?n.substr(1):n}tokenize(n,r){if(this._line=1,typeof n=="string"){if(this._input=this._readStartingBom(n),typeof r!="function"){let o=[],e;if(this._tokenizeToEnd((t,a)=>t?e=t:o.push(a),!0),e)throw e;return o}mN()(()=>this._tokenizeToEnd(r,!0))}else this._pendingBuffer=null,typeof n.setEncoding=="function"&&n.setEncoding("utf8"),n.on("data",o=>{this._input!==null&&o.length!==0&&(this._pendingBuffer&&(o=hN.Buffer.concat([this._pendingBuffer,o]),this._pendingBuffer=null),128&o[o.length-1]?this._pendingBuffer=o:(this._input===void 0?this._input=this._readStartingBom(typeof o=="string"?o:o.toString()):this._input+=o,this._tokenizeToEnd(r,!1)))}),n.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),n.on("error",r)}},C1=0,Sa=class{constructor(n){this._contextStack=[],this._graph=null,n=n||{},this._setBase(n.baseIRI),n.factory&&Q1(this,n.factory);let r=typeof n.format=="string"?n.format.match(/\w*$/)[0].toLowerCase():"",o=/turtle/.test(r),e=/trig/.test(r),t=/triple/.test(r),a=/quad/.test(r),d=this._n3Mode=/n3/.test(r),s=t||a;(this._supportsNamedGraphs=!(o||d))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(o||e||t||d),this._supportsRDFStar=r===""||/star|\*$/.test(r),s&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof n.blankNodePrefix!="string"?"":n.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=n.lexer||new Bu({lineMode:s,n3:d}),this._explicitQuantifiers=!!n.explicitQuantifiers}static _resetBlankNodePrefix(){C1=0}_setBase(n){if(n){let r=n.indexOf("#");r>=0&&(n=n.substr(0,r)),this._base=n,this._basePath=n.indexOf("/")<0?n:n.replace(/[^\/?]*(?:\?.*)?$/,""),n=n.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=n[0],this._baseScheme=n[1]}else this._base="",this._basePath=""}_saveContext(n,r,o,e,t){let a=this._n3Mode;this._contextStack.push({type:n,subject:o,predicate:e,object:t,graph:r,inverse:!!a&&this._inversePredicate,blankPrefix:a?this._prefixes._:"",quantified:a?this._quantified:null}),a&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(n,r){let o=this._contextStack.pop();if(!o||o.type!==n)return this._error(`Unexpected ${r.type}`,r);this._subject=o.subject,this._predicate=o.predicate,this._object=o.object,this._graph=o.graph,this._n3Mode&&(this._inversePredicate=o.inverse,this._prefixes._=o.blankPrefix,this._quantified=o.quantified)}_readInTopContext(n){switch(n.type){case"eof":return this._graph!==null?this._error("Unclosed graph",n):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(n)}}_readEntity(n,r){let o;switch(n.type){case"IRI":case"typeIRI":let e=this._resolveIRI(n.value);if(e===null)return this._error("Invalid IRI",n);o=this._namedNode(e);break;case"type":case"prefixed":let t=this._prefixes[n.prefix];if(t===void 0)return this._error(`Undefined prefix "${n.prefix}:"`,n);o=this._namedNode(t+n.value);break;case"blank":o=this._blankNode(this._prefixes[n.prefix]+n.value);break;case"var":o=this._variable(n.value.substr(1));break;default:return this._error(`Expected entity but got ${n.type}`,n)}return!r&&this._n3Mode&&o.id in this._quantified&&(o=this._quantified[o.id]),o}_readSubject(n){switch(this._predicate=null,n.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",n);case"}":return this._readPunctuation(n);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',n);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',n);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",n);if(n.prefix.length===0)return this._literalValue=n.value,this._completeSubjectLiteral;this._subject=this._literal(n.value,this._namedNode(n.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",n);default:if((this._subject=this._readEntity(n))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(n){let r=n.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[n.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,n):(this._subject=null,r==="]"?this._readBlankNodeTail(n):this._readPunctuation(n));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",n);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",n);default:if((this._predicate=this._readEntity(n))===void 0)return}return this._readObject}_readObject(n){switch(n.type){case"literal":if(n.prefix.length===0)return this._literalValue=n.value,this._readDataTypeOrLang;this._object=this._literal(n.value,this._namedNode(n.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",n);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",n);default:if((this._object=this._readEntity(n))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(n){return n.type==="{"?this._readGraph(n):this._readPredicate(n)}_readGraph(n){return n.type!=="{"?this._error(`Expected graph but got ${n.type}`,n):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(n){return n.type==="]"?(this._subject=null,this._readBlankNodeTail(n)):(this._predicate=null,this._readPredicate(n))}_readBlankNodeTail(n){if(n.type!=="]")return this._readBlankNodePunctuation(n);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);let r=this._predicate===null;return this._restoreContext("blank",n),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(n){switch(n.type){case".":case"}":return this._subject=null,this._readPunctuation(n);default:return this._readPredicate(n)}}_readListItem(n){let r=null,o=null,e=this._readListItem,t=this._subject,a=this._contextStack,d=a[a.length-1];switch(n.type){case"[":this._saveContext("blank",this._graph,o=this._blankNode(),this.RDF_FIRST,this._subject=r=this._blankNode()),e=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,o=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",n),a.length!==0&&a[a.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(e=this._readPredicate,this._subject===this.RDF_NIL)return e}else if(e=this._getContextEndReader(),this._object===this.RDF_NIL)return e;o=this.RDF_NIL;break;case"literal":n.prefix.length===0?(this._literalValue=n.value,e=this._readListItemDataTypeOrLang):(r=this._literal(n.value,this._namedNode(n.prefix)),e=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",n);default:if((r=this._readEntity(n))===void 0)return}if(o===null&&(this._subject=o=this._blankNode()),t===null?d.predicate===null?d.subject=o:d.object=o:this._emit(t,this.RDF_REST,o,this._graph),r!==null){if(this._n3Mode&&(n.type==="IRI"||n.type==="prefixed"))return this._saveContext("item",this._graph,o,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(o,this.RDF_FIRST,r,this._graph)}return e}_readDataTypeOrLang(n){return this._completeObjectLiteral(n,!1)}_readListItemDataTypeOrLang(n){return this._completeObjectLiteral(n,!0)}_completeLiteral(n){let r=this._literal(this._literalValue);switch(n.type){case"type":case"typeIRI":let o=this._readEntity(n);if(o===void 0)return;r=this._literal(this._literalValue,o),n=null;break;case"langcode":r=this._literal(this._literalValue,n.value),n=null}return{token:n,literal:r}}_completeSubjectLiteral(n){return this._subject=this._completeLiteral(n).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(n,r){let o=this._completeLiteral(n);if(o)return this._object=o.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),o.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(o.token))}_readFormulaTail(n){return n.type!=="}"?this._readPunctuation(n):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",n),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(n){let r,o=this._graph,e=this._subject,t=this._inversePredicate;switch(n.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",n);if(this._n3Mode)return this._readFormulaTail(n);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,t&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",n);let a=this._predicate,d=this._object;this._subject=this._quad(e,a,d,this.DEFAULTGRAPH),r=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",n);this._subject=null,r=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(o=this._readEntity(n))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,n)}if(e!==null){let a=this._predicate,d=this._object;t?this._emit(d,a,e,o):this._emit(e,a,d,o)}return r}_readBlankNodePunctuation(n){let r;switch(n.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,n)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(n){return n.type!=="."?this._error("Expected dot to follow quad",n):this._readInTopContext}_readPrefix(n){return n.type!=="prefix"?this._error("Expected prefix to follow @prefix",n):(this._prefix=n.value,this._readPrefixIRI)}_readPrefixIRI(n){if(n.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,n);let r=this._readEntity(n);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(n){let r=n.type==="IRI"&&this._resolveIRI(n.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",n)}_readNamedGraphLabel(n){switch(n.type){case"IRI":case"blank":case"prefixed":return this._readSubject(n),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",n)}}_readNamedGraphBlankLabel(n){return n.type!=="]"?this._error("Invalid graph label",n):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(n){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(n)):n.type!=="."?this._error("Expected declaration to end with a dot",n):this._readInTopContext}_readQuantifierList(n){let r;switch(n.type){case"IRI":case"prefixed":if((r=this._readEntity(n,!0))!==void 0)break;default:return this._error(`Unexpected ${n.type}`,n)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(n){return n.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(n))}_getPathReader(n){return this._afterPath=n,this._readPath}_readPath(n){switch(n.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:let r=this._contextStack,o=r.length&&r[r.length-1];if(o&&o.type==="item"){let e=this._subject;this._restoreContext("item",n),this._emit(this._subject,this.RDF_FIRST,e,this._graph)}return this._afterPath(n)}}_readForwardPath(n){let r,o,e=this._blankNode();if((o=this._readEntity(n))!==void 0)return this._predicate===null?(r=this._subject,this._subject=e):(r=this._object,this._object=e),this._emit(r,o,e,this._graph),this._readPath}_readBackwardPath(n){let r=this._blankNode(),o,e;if((o=this._readEntity(n))!==void 0)return this._predicate===null?(e=this._subject,this._subject=r):(e=this._object,this._object=r),this._emit(r,o,e,this._graph),this._readPath}_readRDFStarTailOrGraph(n){return n.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(n))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,n):this._readRDFStarTail(n)}_readRDFStarTail(n){if(n.type!==">>")return this._error(`Expected >> but got ${n.type}`,n);let r=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",n),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){let n=this._contextStack;if(!n.length)return this._readPunctuation;switch(n[n.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(n,r,o,e){this._callback(null,this._quad(n,r,o,e||this.DEFAULTGRAPH))}_error(n,r){let o=new Error(`${n} on line ${r.line}.`);o.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(o),this._callback=Nu}_resolveIRI(n){return/^[a-z][a-z0-9+.-]*:/i.test(n)?n:this._resolveRelativeIRI(n)}_resolveRelativeIRI(n){if(!n.length)return this._base;switch(n[0]){case"#":return this._base+n;case"?":return this._base.replace(/(?:\?.*)?$/,n);case"/":return(n[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(n);default:return/^[^/:]*:/.test(n)?null:this._removeDotSegments(this._basePath+n)}}_removeDotSegments(n){if(!/(^|\/)\.\.?($|[/#?])/.test(n))return n;let r=n.length,o="",e=-1,t=-1,a=0,d="/";for(;e<r;){switch(d){case":":if(t<0&&n[++e]==="/"&&n[++e]==="/")for(;(t=e+1)<r&&n[t]!=="/";)e=t;break;case"?":case"#":e=r;break;case"/":if(n[e+1]===".")switch(d=n[1+ ++e],d){case"/":o+=n.substring(a,e-1),a=e+1;break;case void 0:case"?":case"#":return o+n.substring(a,e)+n.substr(e+1);case".":if(d=n[1+ ++e],d===void 0||d==="/"||d==="?"||d==="#"){if(o+=n.substring(a,e-2),(a=o.lastIndexOf("/"))>=t&&(o=o.substr(0,a)),d!=="/")return`${o}/${n.substr(e+1)}`;a=e+1}}}d=n[++e]}return o+n.substring(a)}parse(n,r,o){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${C1++}_`,this._prefixCallback=o||Nu,this._inversePredicate=!1,this._quantified=Object.create(null),!r){let e=[],t;if(this._callback=(a,d)=>{a?t=a:d&&e.push(d)},this._lexer.tokenize(n).every(a=>this._readCallback=this._readCallback(a)),t)throw t;return e}this._callback=r,this._lexer.tokenize(n,(e,t)=>{e!==null?(this._callback(e),this._callback=Nu):this._readCallback&&(this._readCallback=this._readCallback(t))})}};function Nu(){}function Q1(i,n){let r=n.namedNode;i._namedNode=r,i._blankNode=n.blankNode,i._literal=n.literal,i._variable=n.variable,i._quad=n.quad,i.DEFAULTGRAPH=n.defaultGraph(),i.RDF_FIRST=r(gn.rdf.first),i.RDF_REST=r(gn.rdf.rest),i.RDF_NIL=r(gn.rdf.nil),i.N3_FORALL=r(gn.r.forAll),i.N3_FORSOME=r(gn.r.forSome),i.ABBREVIATIONS={a:r(gn.rdf.type),"=":r(gn.owl.sameAs),">":r(gn.log.implies)},i.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}Q1(Sa.prototype,Bt);var yN=vn(4841),Dd=function(i,n,r,o){return new(r||(r=Promise))(function(e,t){function a(c){try{s(o.next(c))}catch(u){t(u)}}function d(c){try{s(o.throw(c))}catch(u){t(u)}}function s(c){var u;c.done?e(c.value):(u=c.value,u instanceof r?u:new r(function(p){p(u)})).then(a,d)}s((o=o.apply(i,n||[])).next())})},bu={},Cu={},qd=class{constructor(n){this.loadedOwlImports=[],this.loadedClasses=[],this.config=n}loadGraphs(){return Dd(this,void 0,void 0,function*(){this.loadedOwlImports=[],this.loadedClasses=[];let n=new Do,r=new Do;this.config.prefixes={},yield Promise.all([this.importRDF(this.config.attributes.shapes?this.config.attributes.shapes:this.config.attributes.shapesUrl?this.fetchRDF(this.config.attributes.shapesUrl):"",n,Yt),this.importRDF(this.config.attributes.values?this.config.attributes.values:this.config.attributes.valuesUrl?this.fetchRDF(this.config.attributes.valuesUrl):"",r,void 0,new Sa({blankNodePrefix:""}))]),this.config.shapesGraph=n,this.config.dataGraph=r})}importRDF(n,r,o,e){return Dd(this,void 0,void 0,function*(){let t=e||new Sa,a=d=>Dd(this,void 0,void 0,function*(){let s=[];yield new Promise((c,u)=>{t.parse(d,(p,m,g)=>{if(p)return u(p);if(m){if(r.add(new Oo(m.subject,m.predicate,m.object,o)),this.config.attributes.ignoreOwlImports===null&&Xx.equals(m.predicate)){let v=this.toURL(m.object.value);v&&this.loadedOwlImports.indexOf(v)<0&&(this.loadedOwlImports.push(v),s.push(this.importRDF(this.fetchRDF(v),r,o,e)))}if(this.config.classInstanceProvider&&rm.equals(m.predicate)){let v=m.object.value;if(this.loadedClasses.indexOf(v)<0){let x;v in Cu?x=Cu[v]:(x=this.config.classInstanceProvider(v),Cu[v]=x),this.loadedClasses.push(v),s.push(this.importRDF(x,r,o,e))}}}else g&&this.config.registerPrefixes(g),c(null)})});try{yield Promise.all(s)}catch(c){console.warn(c)}});if(n instanceof Promise&&(n=yield n),n){try{n=yield(0,yN.toRDF)(JSON.parse(n),{format:"application/n-quads"})}catch{}yield a(n)}})}fetchRDF(n){return Dd(this,void 0,void 0,function*(){if(n in bu)return bu[n];let r=fetch(n,{headers:{Accept:"text/turtle, application/trig, application/n-triples, application/n-quads, text/n3, application/ld+json"}}).then(o=>o.text());return bu[n]=r,r})}toURL(n){if(Au(n))return n;if(this.config.prefixes){let r=n.split(":");if(r.length===2){let o=this.config.prefixes[r[0]];if(o&&Au(n=n.replace(`${r[0]}:`,o)))return n}}return null}},_a=class{constructor(){this.shapes=null,this.shapesUrl=null,this.shapeSubject=null,this.values=null,this.valuesUrl=null,this.valueSubject=null,this.valuesSubject=null,this.valuesNamespace="",this.view=null,this.language=navigator.language,this.loading="Loading\u2026",this.ignoreOwlImports=null,this.collapse=null,this.submitButton=null}},Ta=class{constructor(n,r){this.attributes=new _a,this.loader=new qd(this),this.prefixes={},this.editMode=!0,this.dataGraph=new Do,this.lists={},this.groups=[],this._shapesGraph=new Do,this.theme=n,this.form=r}updateAttributes(n){let r=new _a;Object.keys(r).forEach(o=>{let e=n.dataset[o];e!==void 0&&(r[o]=e)}),this.editMode=r.view===null,this.attributes=r,this.attributes.valueSubject&&!this.attributes.valuesSubject&&(this.attributes.valuesSubject=this.attributes.valueSubject)}static dataAttributes(){let n=new _a;return Object.keys(n).map(r=>"data-"+r.replace(/[A-Z]/g,o=>"-"+o.toLowerCase()))}get shapesGraph(){return this._shapesGraph}set shapesGraph(n){this._shapesGraph=n,this.lists=n.extractLists(),this.groups=[],n.getQuads(null,$n,`${ut}PropertyGroup`,Yt).forEach(r=>{this.groups.push(r.subject.value)})}registerPrefixes(n){for(let r in n)r&&(this.prefixes[r]=n[r])}},am=i=>{let n=i.namespace("http://www.w3.org/2001/XMLSchema#"),r=i.namespace("http://www.w3.org/1999/02/22-rdf-syntax-ns#");return{first:r.first,nil:r.nil,rest:r.rest,langString:r.langString,xsd:n}};function Fn(i,n){return i==null?n:Array.isArray(i)?i:typeof i!="string"&&i[Symbol.iterator]?[...i]:[i]}var ju=class i{constructor(n,{bind:r=!1}={}){this._factories=n.slice();for(let o of this._factories){typeof o.prototype.init=="function"&&o.prototype.init.call(this);for(let e of o.exports||[])this[e]=r?o.prototype[e].bind(this):o.prototype[e]}}clone(){let n=new i(this._factories);for(let r of n._factories)typeof r.prototype.clone=="function"&&r.prototype.clone.call(n,this);return n}},Y1=ju,Vd=class{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}};Vd.prototype.termType="BlankNode";var wN=Vd,Ia=class{equals(n){return!!n&&n.termType===this.termType}};Ia.prototype.termType="DefaultGraph",Ia.prototype.value="";var _N=Ia,S1=function(i,n){if(!n)return null;if(n.termType==="BlankNode")return i.blankNode(n.value);if(n.termType==="DefaultGraph")return i.defaultGraph();if(n.termType==="Literal")return i.literal(n.value,n.language||i.namedNode(n.datatype.value));if(n.termType==="NamedNode")return i.namedNode(n.value);if(n.termType==="Quad"){let r=i.fromTerm(n.subject),o=i.fromTerm(n.predicate),e=i.fromTerm(n.object),t=i.fromTerm(n.graph);return i.quad(r,o,e,t)}if(n.termType==="Variable")return i.variable(n.value);throw new Error(`unknown termType ${n.termType}`)},Hd=class{constructor(n,r,o){this.value=n,this.language=r,this.datatype=o}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value&&n.language===this.language&&n.datatype.equals(this.datatype)}};Hd.prototype.termType="Literal";var T1=Hd,Ud=class{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}};Ud.prototype.termType="NamedNode";var lm=Ud,Ea=class{constructor(n,r,o,e){this.subject=n,this.predicate=r,this.object=o,this.graph=e}equals(n){return!!n&&(n.termType==="Quad"||!n.termType)&&n.subject.equals(this.subject)&&n.predicate.equals(this.predicate)&&n.object.equals(this.object)&&n.graph.equals(this.graph)}};Ea.prototype.termType="Quad",Ea.prototype.value="";var xN=Ea,Gd=class{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}};Gd.prototype.termType="Variable";var NN=Gd,bN=new lm("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),CN=new lm("http://www.w3.org/2001/XMLSchema#string"),SN=(()=>{class i{constructor(){this.init()}init(){this._data={blankNodeCounter:0,defaultGraph:new _N}}namedNode(r){return new lm(r)}blankNode(r){return r=r||"b"+ ++this._data.blankNodeCounter,new wN(r)}literal(r,o){return typeof o=="string"?new T1(r,o,bN):new T1(r,"",o||CN)}variable(r){return new NN(r)}defaultGraph(){return this._data.defaultGraph}quad(r,o,e,t=this.defaultGraph()){return new xN(r,o,e,t)}fromTerm(r){return S1(this,r)}fromQuad(r){return S1(this,r)}}return i.exports=["blankNode","defaultGraph","fromQuad","fromTerm","literal","namedNode","quad","variable"],i})(),dm=SN,TN=new dm,IN={apply:(i,n,r)=>i(r[0]),get:(i,n)=>i(n)},Oe=function(i,{factory:n=TN}={}){let r=(o="")=>n.namedNode(`${i}${o.raw||o}`);return typeof Proxy>"u"?r:new Proxy(r,IN)},EN=(()=>{class i{namespace(r){return Oe(r,{factory:this})}}return i.exports=["namespace"],i})(),J1=EN,ar=new Y1([J1,dm]),{xsd:Su}=am(ar);function I1(i,n){if(typeof i!="string")throw new Error("Named node must be an IRI string");return n.namedNode(i)}function K1(i,n="Literal",r,o){if(i&&typeof i=="object"&&i.termType)return i;if(i&&i.constructor.name==="URL")return I1(i.toString(),o);if(n==="BlankNode")return function(e,t){if(e&&typeof e!="string")throw new Error("Blank node identifier must be a string");return t.blankNode(e)}(i,o);if(i!=null){if(n==="Literal")return function(e,t,a){if(typeof e=="string")return(t=t&&(t.value||t.toString()))&&t.indexOf(":")!==-1&&(t=a.namedNode(t)),a.literal(e.toString(),t);let d=function(s,c=ar){return function(u,p=ar){return typeof u!="boolean"?null:p.literal(u.toString(),Su("boolean"))}(s,c)||function(u,p=ar){return typeof u!="number"?null:Number.isInteger(u)?p.literal(u.toString(10),Su("integer")):p.literal(u.toString(10),Su("double"))}(s,c)||function(u,p=ar){return typeof u!="string"?null:p.literal(u)}(s,c)}(e,a);if(!d)throw new Error("The value cannot be converted to a literal node");return d}(i,r,o);if(n==="NamedNode")return I1(i,o);throw new Error("unknown type")}}var E1=am(ar);function kN(i,n){let r=n.termType!=="Literal",o=E1.langString.equals(n.datatype)||E1.xsd.string.equals(n.datatype);if(r||!o)return i;let e=n.language.toLowerCase();return i.has(e)?i.get(e).push(n):i.set(e,[n]),i}var qu=class i{constructor({dataset:n,graph:r,value:o,factory:e,namespace:t}){this.dataset=n,this.graph=r,this.factory=e,this.namespace=t,this.term=K1(o,void 0,void 0,e)}clone({dataset:n=this.dataset,graph:r=this.graph,value:o,factory:e=this.factory,namespace:t=this.namespace}){return new i({dataset:n,graph:r,value:o,factory:e,namespace:t})}has(n,r){return this.matchProperty(Fn(this.term),n,r,Fn(this.graph),"subject").map(o=>this.clone({value:o}))}in(n){return this.matchProperty(null,n,Fn(this.term),Fn(this.graph),"subject").map(r=>this.clone({value:r}))}out(n,{language:r}={}){let o=this.matchProperty(Fn(this.term),n,null,Fn(this.graph),"object");return r!==void 0&&(o=function(e,{language:t}){let a=typeof t=="string"?[t]:t,d=function(s){let c=s.reduce(kN,new Map),u=[...c.entries()];return p=>{let m=p.toLowerCase();if(m==="*")return u[0]&&u[0][1];let g=c.get(m);if(g)return g;let v=u.find(([x])=>x.startsWith(m));return v&&v[1]}}(e);return a.map(d).find(Boolean)||[]}(o,{language:r})),o.map(e=>this.clone({value:e}))}addIn(n,r){let o=[];return this.term&&r.forEach(e=>{n.forEach(t=>{this.dataset.add(this.factory.quad(e,t,this.term,this.graph))}),o.push(this.clone({value:e}))}),o}addOut(n,r){let o=[];return this.term&&r.forEach(e=>{n.forEach(t=>{this.dataset.add(this.factory.quad(this.term,t,e,this.graph))}),o.push(this.clone({value:e}))}),o}addList(n,r){this.term&&n.forEach(o=>{let e=r.map(()=>this.factory.blankNode());this.dataset.add(this.factory.quad(this.term,o,e[0]||this.namespace.nil,this.graph));for(let t=0;t<e.length;t++)this.dataset.add(this.factory.quad(e[t],this.namespace.first,r[t],this.graph)),this.dataset.add(this.factory.quad(e[t],this.namespace.rest,e[t+1]||this.namespace.nil,this.graph))})}deleteIn(n,r){this.deleteMatch(r,n,Fn(this.term),Fn(this.graph))}deleteOut(n,r){this.deleteMatch(Fn(this.term),n,r,Fn(this.graph))}deleteList(n){n.forEach(r=>{for(let o of this.dataset.match(this.term,r))this.deleteItems(o)})}deleteItems(n){let r=[n];for(;!r[r.length-1].object.equals(this.namespace.nil);){let o=r[r.length-1].object;r=r.concat([...this.dataset.match(o)])}r.forEach(o=>{this.dataset.delete(o)})}match(n,r,o,e){if(!(n||r||o||e))return[...this.dataset];n=n||[null],r=r||[null],o=o||[null],e=e||[null];let t=[];for(let a of e)for(let d of n)for(let s of r)for(let c of o)for(let u of this.dataset.match(d,s,c,a))t.push(u);return t}matchProperty(n,r,o,e,t){return this.match(n,r,o,e).map(a=>a[t])}deleteMatch(n,r,o,e){this.match(n,r,o,e).forEach(t=>{this.dataset.delete(t)})}},Vu=class i{constructor({dataset:n,graph:r,term:o,value:e,factory:t,_context:a}){if(this.factory=t,this.namespace=am(t),a)return void(this._context=a);let d=o&&Fn(o)||e&&Fn(e)||[null];this._context=d.map(s=>new qu({dataset:n,graph:r,value:s,factory:this.factory,namespace:this.namespace}))}get term(){let n=this.terms;if(n.length===1)return n[0]}get terms(){return this._context.map(n=>n.term).filter(Boolean)}get value(){let n=this.term;return n&&n.value}get values(){return this.terms.map(n=>n.value)}get dataset(){let n=this.datasets;if(n.length===1)return n[0]}get datasets(){return this._context.map(n=>n.dataset).filter(Boolean)}any(){return i.fromContext(this._context.map(n=>n.clone({})),this)}isList(){return!(!this.term||!this.term.equals(this.namespace.nil)&&!this.out(this.namespace.first).term)}list(){if(this.terms.length>1)throw new Error("iterator over multiple terms is not supported");if(this.term&&(this.term.termType!=="NamedNode"&&this.term.termType!=="BlankNode"||!this.term.equals(this.namespace.nil)&&!this.out(this.namespace.first).term))return null;let n=this;return{[Symbol.iterator]:()=>({next:()=>{if(!n.term||n.term.equals(this.namespace.nil))return{done:!0};let r=n.out(this.namespace.first);if(r.terms.length>1)throw new Error(`Invalid list: multiple values for rdf:first on ${n.value}`);let o=n.out(this.namespace.rest);if(o.terms.length>1)throw new Error(`Invalid list: multiple values for rdf:rest on ${n.value}`);return n=o,{done:!1,value:r}}})}}toArray(){return this._context.map(n=>i.fromContext(n,this)).filter(n=>n.terms.some(Boolean))}filter(n){let r=this._context.map(o=>i.fromContext(o,this));return i.fromContext(this._context.filter((o,e)=>n(i.fromContext(o,this),e,r)),this)}forEach(n){return this.toArray().forEach(n),this}map(n){return this.toArray().map(n)}toString(){return this.values.join()}node(n,{type:r,datatype:o,language:e}={}){let t=(n=this._toTermArray(n,r,o||e)||[null]).reduce((a,d)=>a.concat(this._context.reduce((s,c)=>s.concat([c.clone({value:d})]),[])),[]);return i.fromContext(t,{factory:this.factory})}blankNode(n){return this.node(n,{type:"BlankNode"})}literal(n,r){return this.node(n,{type:"Literal",datatype:r})}namedNode(n){return this.node(n,{type:"NamedNode"})}in(n){n=this._toTermArray(n);let r=this._context.reduce((o,e)=>o.concat(e.in(n)),[]);return i.fromContext(r,this)}out(n,r={}){n=this._toTermArray(n);let o=this._context.reduce((e,t)=>e.concat(t.out(n,r)),[]);return i.fromContext(o,this)}has(n,r){n=this._toTermArray(n),r=this._toTermArray(r);let o=this._context.reduce((e,t)=>e.concat(t.has(n,r)),[]);return i.fromContext(o,this)}addIn(n,r,o){if(!n)throw new Error("predicate parameter is required");typeof r=="function"&&(o=r,r=null),n=this._toTermArray(n),r=this._toTermArray(r)||[this.factory.blankNode()];let e=this._context.map(t=>t.addIn(n,r));return o&&i.fromContext(e,this).forEach(o),this}addOut(n,r,o){if(!n)throw new Error("predicate parameter is required");typeof r=="function"&&(o=r,r=null),n=this._toTermArray(n),r=this._toTermArray(r)||[this.factory.blankNode()];let e=this._context.map(t=>t.addOut(n,r));return o&&i.fromContext(e,this).forEach(o),this}addList(n,r){if(!n||!r)throw new Error("predicate and items parameter is required");return n=this._toTermArray(n),r=this._toTermArray(r),this._context.forEach(o=>o.addList(n,r)),this}deleteIn(n,r){return n=this._toTermArray(n),r=this._toTermArray(r),this._context.forEach(o=>o.deleteIn(n,r)),this}deleteOut(n,r){return n=this._toTermArray(n),r=this._toTermArray(r),this._context.forEach(o=>o.deleteOut(n,r)),this}deleteList(n){if(!n)throw new Error("predicate parameter is required");return n=this._toTermArray(n),this._context.forEach(r=>r.deleteList(n)),this}_toTermArray(n,r,o){return function(e,t,a,d){return e!=null||t?(Fn(e)||[void 0]).reduce((s,c)=>typeof c=="object"&&c.terms?s.concat(c.terms):(s.push(K1(c,t,a,d)),s),[]):e}(n,r,o,this.factory)}static fromContext(n,{factory:r}){return new i({_context:Fn(n),factory:r})}};function xa({dataset:i,graph:n,term:r,value:o,factory:e=ar,_context:t}){return new Vu({dataset:i,graph:n,term:r,value:o,factory:e,_context:t})}function ir(i){return typeof i=="string"||i instanceof String}function Qt(i){if(typeof i=="string")return i;if(!i)return"";if(i.id!==void 0&&i.termType!=="Quad")return i.id;let n,r,o,e;switch(i.termType){case"NamedNode":return i.value;case"BlankNode":return`_:${i.value}`;case"Variable":return`?${i.value}`;case"DefaultGraph":return"";case"Literal":return i.language?`"${i.value}"@${i.language}`:`"${i.value}"${i.datatype&&i.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"?`^^${i.datatype.value}`:""}`;case"Quad":return n=Tu(Qt(i.subject)),r=Tu(Qt(i.predicate)),o=Tu(Qt(i.object)),e=i.graph.termType==="DefaultGraph"?"":` ${Qt(i.graph)}`,`<<${n} ${r} ${o}${e}>>`;default:throw new Error(`Unexpected termType: ${i.termType}`)}}var LN=/^"(.*".*)(?="[^"]*$)/;function Tu(i){return i.replace(LN,(n,r)=>`"${r.replace(/"/g,'""')}`)}var Hu=class{constructor(n){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,n)for(let r of n)this.add(r)}get size(){let n=this._size;if(n!==null)return n;n=0;let r=this._graphs,o,e;for(let t in r)for(let a in o=r[t].subjects)for(let d in e=o[a])n+=Object.keys(e[d]).length;return this._size=n,this._size}add(n){let r=Qt(n.subject),o=Qt(n.predicate),e=Qt(n.object),t=Qt(n.graph),a=this._graphs[t];a||(a=this._graphs[t]={subjects:{},predicates:{},objects:{}},Object.freeze(a));let d=this._ids,s=this._entities;return r=d[r]||(d[s[++this._id]=r]=this._id),o=d[o]||(d[s[++this._id]=o]=this._id),e=d[e]||(d[s[++this._id]=e]=this._id),this._addToIndex(a.subjects,r,o,e),this._addToIndex(a.predicates,o,e,r),this._addToIndex(a.objects,e,r,o),this._setQuad(r,o,e,t,n),this._size=null,this}delete(n){let r=Qt(n.subject),o=Qt(n.predicate),e=Qt(n.object),t=Qt(n.graph),a=this._ids,d=this._graphs,s,c,u;if(!((r=a[r])&&(o=a[o])&&(e=a[e])&&(s=d[t])&&(c=s.subjects[r])&&(u=c[o])&&e in u))return this;for(r in this._removeFromIndex(s.subjects,r,o,e),this._removeFromIndex(s.predicates,o,e,r),this._removeFromIndex(s.objects,e,r,o),this._size!==null&&this._size--,this._deleteQuad(r,o,e,t),s.subjects)return this;return delete d[t],this}has(n){let r=Qt(n.subject),o=Qt(n.predicate),e=Qt(n.object),t=Qt(n.graph),a=this._graphs[t];if(!a)return!1;let d=this._ids,s,c,u;return!(ir(r)&&!(s=d[r])||ir(o)&&!(c=d[o])||ir(e)&&!(u=d[e]))&&this._countInIndex(a.objects,u,s,c)===1}match(n,r,o,e){return this._createDataset(this._match(n,r,o,e))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(n,r,o,e){let t=n[r]||(n[r]={}),a=t[o]||(t[o]={}),d=e in a;return d||(a[e]=null),!d}_removeFromIndex(n,r,o,e){let t=n[r],a=t[o];delete a[e];for(let d in a)return;delete t[o];for(let d in t)return;delete n[r]}_findInIndex(n,r,o,e,t,a,d,s,c,u){let p,m,g;r&&((p=n,n={})[r]=p[r]);for(let v in n)if(m=n[v],m){o&&((p=m,m={})[o]=p[o]);for(let x in m)if(g=m[x],g){let y=e?e in g?[e]:[]:Object.keys(g);for(let w=0;w<y.length;w++){let S={[t]:v,[a]:x,[d]:y[w]},P=this._getQuad(S.subject,S.predicate,S.object,s);if(u)u.push(P);else if(c(P))return!0}}}return u}_countInIndex(n,r,o,e){let t,a,d,s=0;r&&((t=n,n={})[r]=t[r]);for(let c in n)if(a=n[c],a){o&&((t=a,a={})[o]=t[o]);for(let u in a)d=a[u],d&&(e?e in d&&s++:s+=Object.keys(d).length)}return s}_getGraphs(n){return ir(n)?{[n]:this._graphs[n]}:this._graphs}_match(n,r,o,e){n=n&&Qt(n),r=r&&Qt(r),o=o&&Qt(o),e=e&&Qt(e);let t=[],a=this._getGraphs(e),d=this._ids,s,c,u,p;if(ir(n)&&!(c=d[n])||ir(r)&&!(u=d[r])||ir(o)&&!(p=d[o]))return t;for(let m in a)s=a[m],s&&(c?p?this._findInIndex(s.objects,p,c,u,"object","subject","predicate",m,null,t):this._findInIndex(s.subjects,c,u,null,"subject","predicate","object",m,null,t):u?this._findInIndex(s.predicates,u,p,null,"predicate","object","subject",m,null,t):p?this._findInIndex(s.objects,p,null,null,"object","subject","predicate",m,null,t):this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",m,null,t));return t}_getQuad(n,r,o,e){return this._quads.get(this._toId(n,r,o,e))}_setQuad(n,r,o,e,t){this._quads.set(this._toId(n,r,o,e),t)}_deleteQuad(n,r,o,e){this._quads.delete(this._toId(n,r,o,e))}_createDataset(n){return new this.constructor(n)}_toId(n,r,o,e){return`${n}:${r}:${o}:${e}`}},RN=Hu,PN=(()=>{class i{dataset(r){return new RN(r)}}return i.exports=["dataset"],i})(),X1=new Y1([dm,PN,J1]);function cm(i){return{sh:Oe("http://www.w3.org/ns/shacl#",{factory:i}),xsd:Oe("http://www.w3.org/2001/XMLSchema#",{factory:i}),rdf:Oe("http://www.w3.org/1999/02/22-rdf-syntax-ns#",{factory:i}),rdfs:Oe("http://www.w3.org/2000/01/rdf-schema#",{factory:i})}}var Lt=cm(),k1=function(i){return"<"+i.value+">"},MN=/["\\\\\n\r]/,AN=/["\\\\\n\r]/g,ON={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r"};function DN(i){return ON[i]}var rs=function i(n){if(!n)return null;if(n.termType==="BlankNode")return"_:"+n.value;if(n.termType==="DefaultGraph")return"";if(n.termType==="Literal")return function(r){let o=(e=r.value,MN.test(e)?e.replace(AN,DN):e);var e;return r.datatype.value==="http://www.w3.org/2001/XMLSchema#string"?'"'+o+'"':r.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?'"'+o+'"@'+r.language:'"'+o+'"^^'+k1(r.datatype)}(n);if(n.termType==="NamedNode")return k1(n);if(n.termType==="Quad"||n.subject&&n.predicate&&n.object&&n.graph)return function(r,o){let e=o(r.subject),t=o(r.predicate),a=o(r.object),d=o(r.graph);return`${e} ${t} ${a} ${d?d+" ":""}.`}(n,i);if(n.termType==="Variable")return"?"+n.value;if(n[Symbol.iterator])return function(r,o){return[...r].map(e=>o(e)).join(`
`)+`
`}(n,i);throw new Error(`unknown termType ${n.termType}`)};function L1(i){try{return rs(i)}catch{return null}}var Uu=class{constructor(n){if(this.index=new Map,n)for(let r of n)this.add(r)}get size(){return this.index.size}add(n){let r=rs(n);return this.index.has(r)||this.index.set(r,n),this}clear(){this.index.clear()}delete(n){return!!n&&this.index.delete(L1(n))}entries(){return this.values().entries()}forEach(n,r){return this.values().forEach(n,r)}has(n){return!!n&&this.index.has(L1(n))}values(){return new Set(this.index.values())}keys(){return this.values()}[Symbol.iterator](){return this.index.values()}},hm=Uu,En=class extends hm{addAll(i){for(let n of i)this.add(n)}},FN=typeof window<"u"?window:global,$N=class{constructor(i,n,r){this.context=i,this.funcName=n,this.func=r}execute(i,n,r){return this.func.apply(FN,[this.context,i,n,r])}};Oe("http://www.w3.org/ns/auth/acl#"),Oe("https://www.w3.org/ns/activitystreams#"),Oe("http://purl.org/ontology/bibo/"),Oe("http://creativecommons.org/ns#"),Oe("http://www.w3.org/ns/auth/cert#"),Oe("http://www.w3.org/2011/content#"),Oe("http://qudt.org/vocab/constant/"),Oe("http://www.cidoc-crm.org/cidoc-crm/");var zN=Oe("http://www.w3.org/ns/csvw#"),R1=(Oe("http://commontag.org/ns#"),Oe("http://datashapes.org/sparql#"),Oe("http://datashapes.org/dash#"),Oe("http://dbpedia.org/ontology/"),Oe("http://purl.org/dc/elements/1.1/"),Oe("http://purl.org/dc/dcam/"),Oe("http://www.w3.org/ns/dcat#"),Oe("http://purl.org/dc/dcmitype/"),Oe("http://purl.org/dc/terms/"),Oe("http://www.ics.forth.gr/isl/CRMdig/"),Oe("http://qudt.org/vocab/discipline/"),Oe("http://usefulinc.com/ns/doap#"),Oe("http://www.w3.org/ns/dpv#"),Oe("http://www.w3.org/ns/dqv#"),Oe("http://www.linkedmodel.org/schema/dtype#"),Oe("http://www.w3.org/ns/duv#"),Oe("http://www.w3.org/ns/earl#"),Oe("http://www.ebu.ch/metadata/ontologies/ebucore/ebucore#"),Oe("http://www.w3.org/2003/12/exif/ns#"),Oe("http://xmlns.com/foaf/0.1/"),Oe("http://purl.org/vocab/frbr/core#"),Oe("http://www.opengis.net/ont/geosparql#"),Oe("http://www.opengis.net/def/function/geosparql/"),Oe("http://www.opengis.net/def/rule/geosparql/"),Oe("http://www.opengis.net/ont/gml#"),Oe("http://www.geonames.org/ontology#"),Oe("http://purl.org/goodrelations/v1#"),Oe("http://www.w3.org/2003/g/data-view#"),Oe("https://gs1.org/voc/"),Oe("http://vocab.gtfs.org/terms#"),Oe("http://www.w3.org/2011/http#"),Oe("http://www.w3.org/ns/hydra/core#"),Oe("http://www.w3.org/2002/12/cal/icaltzd#"),Oe("https://linked.art/ns/terms/"),Oe("http://www.w3.org/ns/ldp#"),Oe("http://www.w3.org/2000/10/swap/list#"),Oe("http://www.w3.org/ns/locn#"),Oe("http://www.w3.org/2000/10/swap/log#"),Oe("http://lexvo.org/ontology#"),Oe("http://w3id.org/nfdi4ing/metadata4ing#"),Oe("http://www.w3.org/ns/ma-ont#"),Oe("http://www.loc.gov/mads/rdf/v1#"),Oe("http://www.w3.org/2000/10/swap/math#"),Oe("http://www.w3.org/ns/oa#"),Oe("http://ogp.me/ns#"),Oe("http://www.w3.org/ns/solid/oidc#"),Oe("http://www.w3.org/ns/org#"),Oe("http://www.w3.org/2002/07/owl#"),Oe("http://www.w3.org/ns/pim/space#"),Oe("http://qudt.org/vocab/prefix/"),Oe("http://www.w3.org/ns/prov#"),Oe("http://purl.org/linked-data/cube#"),Oe("http://qudt.org/vocab/dimensionvector/"),Oe("http://qudt.org/vocab/quantitykind/"),Oe("http://qudt.org/schema/qudt/"),Oe("http://rdaregistry.info/Elements/u/"),Oe("http://www.w3.org/1999/02/22-rdf-syntax-ns#")),rt=(Oe("http://www.w3.org/ns/rdfa#"),Oe("http://www.w3.org/2000/01/rdf-schema#"),Oe("http://purl.org/stuff/rev#"),Oe("https://www.ica.org/standards/RiC/ontology#"),Oe("http://www.w3.org/ns/r2rml#"),Oe("http://purl.org/rss/1.0/"),Oe("http://schema.org/"),Oe("http://www.w3.org/ns/sparql-service-description#"),Oe("http://purl.org/linked-data/sdmx#"),Oe("http://semanticweb.cs.vu.nl/2009/11/sem/"),Oe("http://www.w3.org/2000/10/swap/set#"),Oe("http://www.opengis.net/ont/sf#"),Oe("http://www.w3.org/ns/shacl#"),Oe("http://www.w3.org/ns/shex#"),Oe("https://www.w3.org/ns/shacl-shacl#"),Oe("http://rdfs.org/sioc/ns#"),Oe("http://www.w3.org/2004/02/skos/core#"),Oe("http://www.w3.org/2008/05/skos-xl#"),Oe("http://www.w3.org/ns/solid/terms#"),Oe("http://www.w3.org/ns/sosa/"),Oe("http://qudt.org/vocab/sou/"),Oe("http://www.w3.org/ns/ssn/"),Oe("http://www.w3.org/ns/posix/stat#"),Oe("http://www.w3.org/2000/10/swap/string#"),Oe("http://www.w3.org/2006/03/test-description#"),Oe("http://www.w3.org/2006/time#"),Oe("http://qudt.org/vocab/unit/"),Oe("http://www.linkedmodel.org/schema/vaem#"),Oe("http://purl.org/vocab/vann/"),Oe("http://www.w3.org/2006/vcard/ns#"),Oe("http://rdfs.org/ns/void#"),Oe("http://www.w3.org/2003/06/sw-vocab-status/ns#"),Oe("http://www.w3.org/2007/05/powder-s#"),Oe("http://www.w3.org/2003/01/geo/wgs84_pos#"),Oe("http://www.w3.org/1999/xhtml/vocab#"),Oe("http://rdf-vocabulary.ddialliance.org/xkos#"),Oe("http://www.w3.org/2001/XMLSchema#"));Oe("http://www.w3.org/2007/rif#"),Oe("http://rdf.data-vocabulary.org/#"),Oe("http://www.w3.org/2007/05/powder#"),Oe("http://www.w3.org/XML/1998/namespace/");var Gu=class{constructor(n){if(this.index=new Map,n)for(let[r,o]of n)this.set(r,o)}get size(){return this.index.size}clear(){this.index.clear()}delete(n){return this.index.delete(rs(n))}*entries(){for(let[,{term:n,value:r}]of this.index)yield[n,r]}forEach(n,r){for(let o of this.entries())n.call(r,o[1],o[0],this)}get(n){let r=this.index.get(rs(n));return r&&r.value}has(n){return this.index.has(rs(n))}*keys(){for(let[,{term:n}]of this.index)yield n}set(n,r){let o=rs(n);return this.index.set(o,{term:n,value:r}),this}*values(){for(let[,{value:n}]of this.index)yield n}[Symbol.iterator](){return this.entries()[Symbol.iterator]()}},BN=Gu,Xe=new class{validators;constructor(){this.validators=new BN}register(i,n){this.validators.set(i,n)}find(i){return i?this.validators.get(i):null}};function P1(i){return![`
`,"\r","	"].some(n=>i.includes(n))}Xe.register(rt.anySimpleType,()=>!0),Xe.register(rt.anyAtomicType,()=>!0),Xe.register(rt.string,()=>!0),Xe.register(rt.normalizedString,i=>P1(i)),Xe.register(rt.token,i=>P1(i)&&!i.startsWith(" ")&&!i.endsWith(" ")&&!i.includes("  "));var jN=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;Xe.register(rt.language,i=>jN.test(i));var qN=/^[^\ufffe\uffff]*$/;Xe.register(rt.anyURI,i=>qN.test(i));var Qd="(\\+|-)?",Yn=new RegExp(`^${Qd}\\d+$`);Xe.register(rt.integer,i=>Yn.test(i)),Xe.register(rt.nonNegativeInteger,i=>Yn.test(i)&&BigInt(i)>=BigInt("0")),Xe.register(rt.positiveInteger,i=>Yn.test(i)&&BigInt(i)>BigInt("0")),Xe.register(rt.nonPositiveInteger,i=>Yn.test(i)&&BigInt(i)<=BigInt("0")),Xe.register(rt.negativeInteger,i=>Yn.test(i)&&BigInt(i)<BigInt("0")),Xe.register(rt.int,i=>Yn.test(i)&&BigInt(i)>=BigInt("-2147483647")&&BigInt(i)<=BigInt("2147483648")),Xe.register(rt.unsignedInt,i=>Yn.test(i)&&BigInt(i)>=BigInt("0")&&BigInt(i)<=BigInt("4294967295")),Xe.register(rt.long,i=>Yn.test(i)&&BigInt(i)>=BigInt("-9223372036854775808")&&BigInt(i)<=BigInt("9223372036854775807")),Xe.register(rt.unsignedLong,i=>Yn.test(i)&&BigInt(i)>=BigInt("0")&&BigInt(i)<=BigInt("18446744073709551615")),Xe.register(rt.short,i=>Yn.test(i)&&BigInt(i)>=BigInt("-32768")&&BigInt(i)<=BigInt("32767")),Xe.register(rt.unsignedShort,i=>Yn.test(i)&&BigInt(i)>=BigInt("0")&&BigInt(i)<=BigInt("65535")),Xe.register(rt.byte,i=>Yn.test(i)&&BigInt(i)>=BigInt("-128")&&BigInt(i)<=BigInt("127")),Xe.register(rt.unsignedByte,i=>Yn.test(i)&&BigInt(i)>=BigInt("0")&&BigInt(i)<=BigInt("255")),Xe.register(rt.boolean,i=>i==="1"||i==="true"||i==="0"||i==="false");var e2=`${Qd}(\\d+\\.?\\d*|\\.\\d+)`,VN=new RegExp(`^${Qd}${e2}$`);Xe.register(rt.decimal,i=>VN.test(i)),Xe.register(rt.float,M1),Xe.register(rt.double,M1);var HN=new RegExp(`^${Qd}${e2}((E|e)(\\+|-)?\\d+)?$`);function M1(i){return i==="INF"||i==="-INF"||i==="NaN"||HN.test(i)}var Yd="-?",A1="\\d+M",O1="\\d+M",Iu="\\d+(\\.\\d+)?S",t2=`(\\d+Y(${A1})?|${A1})`,D1=`T((\\d+H(${O1})?(${Iu})?)|(${O1}(${Iu})?)|${Iu})`,Wu=`(\\d+D(${D1})?|${D1})`,UN=new RegExp(`^${Yd}P((${t2}(${Wu})?)|${Wu})$`);Xe.register(rt.duration,i=>UN.test(i));var GN=new RegExp(`^${Yd}P${Wu}$`);Xe.register(rt.dayTimeDuration,i=>GN.test(i));var WN=new RegExp(`^${Yd}P${t2}$`);Xe.register(rt.yearMonthDuration,i=>WN.test(i));var um=`${Yd}(([1-9]\\d{3,})|(0\\d{3}))`,uo="(((\\+|-)\\d{2}:\\d{2})|Z)",Jd="\\d{2}",mm="\\d{2}",pm=`${um}-${Jd}-${mm}`,fm="\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?",ZN=new RegExp(`^${pm}T${fm}${uo}?$`);Xe.register(rt.dateTime,i=>ZN.test(i));var QN=new RegExp(`^${pm}T${fm}${uo}$`);Xe.register(rt.dateTimeStamp,i=>QN.test(i));var YN=new RegExp(`^${pm}${uo}?$`);Xe.register(rt.date,i=>YN.test(i));var JN=new RegExp(`^${mm}${uo}?$`);Xe.register(rt.gDay,i=>JN.test(i));var KN=new RegExp(`^--${Jd}${uo}?$`);Xe.register(rt.gMonth,i=>KN.test(i));var XN=new RegExp(`^${Jd}-${mm}${uo}?$`);Xe.register(rt.gMonthDay,i=>XN.test(i));var e6=new RegExp(`^${um}${uo}?$`);Xe.register(rt.gYear,i=>e6.test(i));var t6=new RegExp(`^${um}-${Jd}${uo}?$`);Xe.register(rt.gYearMonth,i=>t6.test(i));var n6=new RegExp(`^${fm}${uo}?$`);Xe.register(rt.time,i=>n6.test(i));var i6=/^([0-9a-fA-F]{2})*$/;Xe.register(rt.hexBinary,i=>i6.test(i));var n2="[A-Za-z0-9+/]",Fd=`(${n2} ?)`,o6=new RegExp(`^((${Fd}{4})*((${Fd}{3}${n2})|(${Fd}{2}([AEIMQUYcgkosw048] ?)=)|(${Fd}([AQgw] ?)= ?=)))?$`);Xe.register(rt.base64Binary,i=>o6.test(i)),Xe.register(zN.JSON,i=>{try{return JSON.parse(i),!0}catch{return!1}}),Xe.register(rt.NOTATION,()=>!0),Xe.register(rt.QName,()=>!0),Xe.register(rt.Name,()=>!0),Xe.register(rt.NCName,()=>!0),Xe.register(rt.ENTITY,()=>!0),Xe.register(rt.ID,()=>!0),Xe.register(rt.IDREF,()=>!0),Xe.register(rt.NMTOKEN,()=>!0),Xe.register(rt.ENTITIES,()=>!0),Xe.register(rt.IDREFS,()=>!0),Xe.register(rt.NMTOKENS,()=>!0),Xe.register(R1.XMLLiteral,()=>!0),Xe.register(R1.HTML,()=>!0);var F1=vn(9349);function or(i,n,r){if(i.term.termType==="NamedNode"&&!r)return i.term;if(i.term.termType==="BlankNode"||i.term.termType==="NamedNode"){if(i.out(n.rdf.first).term)return[...i.list()].map(s=>or(s,n,r));let o=i.out(n.sh.alternativePath);if(o.term)return{or:[...o.list()].map(s=>or(s,n,r))};let e=i.out(n.sh.zeroOrMorePath);if(e.term)return{zeroOrMore:or(e,n,r)};let t=i.out(n.sh.oneOrMorePath);if(t.term)return{oneOrMore:or(t,n,r)};let a=i.out(n.sh.zeroOrOnePath);if(a.term)return{zeroOrOne:or(a,n,r)};let d=i.out(n.sh.inversePath);return d.term?{inverse:or(d,n,r)}:i.term}throw new Error(`Unsupported SHACL path: ${i.term.value}`)}function Kn(i,n,r){return[...gm(i,n,r)]}function gm(i,n,r){if(r.termType==="NamedNode")return function(o,e,t){return new En(o.node(e).out(t).terms)}(i,n,r);if(Array.isArray(r))return function(o,e,t){let a=new En([e]);for(let d of t)a=new En(Qu(a,s=>Kn(o,s,d)));return a}(i,n,r);if(r.or)return function(o,e,t){return new En(Qu(t.or,a=>Kn(o,e,a)))}(i,n,r);if(r.inverse)return function(o,e,t){if(t.inverse.termType!=="NamedNode")throw new Error("Unsupported: Inverse paths only work for named nodes");return new En(o.node(e).in(t.inverse).terms)}(i,n,r);if(r.zeroOrOne)return function(o,e,t){let a=gm(o,e,t.zeroOrOne);return a.add(e),a}(i,n,r);if(r.zeroOrMore)return function(o,e,t){let a=Zu(o,e,t.zeroOrMore);return a.add(e),a}(i,n,r);if(r.oneOrMore)return function(o,e,t){return Zu(o,e,t.oneOrMore)}(i,n,r);throw new Error(`Unsupported path object: ${r}`)}function Zu(i,n,r,o){(o=o||new En).add(n);let e=gm(i,n,r),t=Qu(e,a=>o.has(a)?[]:[...Zu(i,a,r,o)]);return e.addAll(t),e}function Qu(i,n){return[...i].reduce((r,o)=>r.concat(n(o)),[])}function*i2(i,n,r=new hm){if(n.termType==="BlankNode"&&!r.has(n)){r.add(n);for(let o of i.match(n,null,null))yield o,yield*ni(i2(i,o.object,r))}}function*o2(i,n,r,o=new hm){if(r.termType!=="BlankNode"||o.has(r))return;let{factory:e}=i.context,{sh:t,rdfs:a}=i.context.ns,d=s=>i.constraints.find(u=>u.paramValue.equals(s))?.nodeSet.size;o.add(r);for(let s of n.match(r,null,null))if(s.predicate.equals(t.in)&&d(s.object)>3){let c=`sh:in has ${d(s.object)} elements and has been removed from the report for brevity. Please refer the original shape`;yield e.quad(s.subject,a.comment,e.literal(c))}else yield s,yield*ni(o2(i,n,s.object,o))}function Yu(i,n){let r=vm(i,n);return r.add(i.term),[...r].reduce((o,e)=>{let t=i.node(e).in(n.rdf.type).terms;return o.addAll(t),o},new En)}function vm(i,n){let r=i.in(n.rdfs.subClassOf),o=r.toArray().reduce((e,t)=>{let a=vm(t,n);return e.addAll(a),e},new En);return new En([...r.terms,...o])}function ym(i,n,r){let o=vm(n,r);return o.add(n.term),i.out(r.rdf.type).terms.some(e=>o.has(e))}function os(i){return[...i.list()].map(({term:n})=>n)}function $1(i,n,r){let{sh:o,xsd:e}=i.ns,t=r.shape.shapeNode,a=r.getParameterValue(o.qualifiedValueShapesDisjoint),d=r.getParameterValue(o.qualifiedValueShape),s=i.factory.literal("true",e.boolean),c=new En;if(s.equals(a)){let p=i.$shapes.node(t).in(o.property).out(o.property).out(o.qualifiedValueShape).filter(({term:m})=>!m.equals(d)).terms;c.addAll(p)}let u=r.shape.pathObject;return Kn(i.$data,n,u).filter(p=>i.nodeConformsToShape(p,d)&&!function(m,g,v){for(let x=0;x<v.length;x++)if(m.nodeConformsToShape(g,v[x]))return!0;return!1}(i,p,[...c])).length}function is(i,n,r){if(!i||!n||i.termType!=="Literal"||n.termType!=="Literal"||z1(i,r)!==z1(n,r))return null;let o=(0,F1.fromRdf)(i),e=(0,F1.fromRdf)(n);return typeof o!=typeof e?null:typeof o=="string"?o.localeCompare(e):o-e}function z1(i,n){return n.xsd.dateTime.equals(i.datatype)&&/^.*(((\+|-)\d{2}:\d{2})|Z)$/.test(i.value)}var It={validateAnd:function(i,n,r,o){let{sh:e}=i.ns,t=o.getParameterValue(e.and);return os(i.$shapes.node(t)).every(a=>i.nodeConformsToShape(r,a))},validateClass:function(i,n,r,o){let{sh:e}=i.ns,t=o.getParameterValue(e.class);return ym(i.$data.node(r),i.$data.node(t),i.ns)},validateClosed:function(i,n,r,o){let{sh:e,xsd:t}=i.ns,a=o.getParameterValue(e.closed),d=o.getParameterValue(e.ignoredProperties),s=o.shape.shapeNode;if(!i.factory.literal("true",t.boolean).equals(a))return;let c=new En(i.$shapes.node(s).out(e.property).out(e.path).terms.filter(p=>p.termType==="NamedNode"));d&&c.addAll(os(i.$shapes.node(d)));let u=[];return[...i.$data.dataset.match(r,null,null)].filter(({predicate:p})=>!c.has(p)).forEach(({predicate:p,object:m})=>{u.push({path:p,value:m})}),u},validateDatatype:function(i,n,r,o){let{sh:e}=i.ns,t=o.getParameterValue(e.datatype);return r.termType==="Literal"&&t.equals(r.datatype)&&function(a){if(a.termType!=="Literal")throw new Error("Cannot validate non-literal terms");let d=Xe.find(a.datatype);return!d||d(a.value)}(r)},validateDisjoint:function(i,n,r,o){let{sh:e}=i.ns,t=o.getParameterValue(e.disjoint);return i.$data.dataset.match(n,t,r).size===0},validateEqualsNode:function(i,n,r,o){let{sh:e}=i.ns,t=o.getParameterValue(e.equals),a=[],d=0;return Kn(i.$data,n,t).forEach(s=>{d++,s.equals(n)||a.push({value:s})}),a.length===0&&d===0&&a.push({value:n}),a},validateEqualsProperty:function(i,n,r,o){let{sh:e}=i.ns,t=o.shape.pathObject,a=o.getParameterValue(e.equals),d=[];return Kn(i.$data,n,t).forEach(s=>{i.$data.dataset.match(n,a,s).size===0&&d.push({value:s})}),[...i.$data.dataset.match(n,a,null)].forEach(({object:s})=>{let c=s;Kn(i.$data,n,t).some(u=>u.equals(c))||d.push({value:c})}),d},validateHasValueNode:function(i,n,r,o){let{sh:e}=i.ns,t=o.getParameterValue(e.hasValue);return n.equals(t)},validateHasValueProperty:function(i,n,r,o){let{sh:e}=i.ns,t=o.shape.pathObject,a=o.getParameterValue(e.hasValue);return Kn(i.$data,n,t).some(d=>d.equals(a))},validateIn:function(i,n,r,o){return o.nodeSet.has(r)},validateLanguageIn:function(i,n,r,o){let{sh:e}=i.ns;if(r.termType!=="Literal")return!1;let t=r.language;if(!t||t==="")return!1;let a=o.getParameterValue(e.languageIn);return os(i.$shapes.node(a)).some(d=>t.startsWith(d.value))},validateLessThanProperty:function(i,n,r,o){let{sh:e}=i.ns,t=o.shape.pathObject,a=Kn(i.$data,n,t),d=o.getParameterValue(e.lessThan),s=i.$data.node(n).out(d).terms,c=[];for(let u of a)for(let p of s){let m=is(u,p,i.ns);(m===null||m>=0)&&c.push({value:u})}return c},validateLessThanOrEqualsProperty:function(i,n,r,o){let{sh:e}=i.ns,t=o.shape.pathObject,a=Kn(i.$data,n,t),d=o.getParameterValue(e.lessThanOrEquals),s=i.$data.node(n).out(d).terms,c=[];for(let u of a)for(let p of s){let m=is(u,p,i.ns);(m===null||m>0)&&c.push({value:u})}return c},validateMaxCountProperty:function(i,n,r,o){let{sh:e}=i.ns,t=o.shape.pathObject,a=Kn(i.$data,n,t).length,d=o.getParameterValue(e.maxCount);return a<=Number(d.value)},validateMaxExclusive:function(i,n,r,o){let{sh:e}=i.ns,t=is(r,o.getParameterValue(e.maxExclusive),i.ns);return t!==null&&t<0},validateMaxInclusive:function(i,n,r,o){let{sh:e}=i.ns,t=is(r,o.getParameterValue(e.maxInclusive),i.ns);return t!==null&&t<=0},validateMaxLength:function(i,n,r,o){if(r.termType==="BlankNode")return!1;let{sh:e}=i.ns,t=o.getParameterValue(e.maxLength);return r.value.length<=Number(t.value)},validateMinCountProperty:function(i,n,r,o){let{sh:e}=i.ns,t=o.shape.pathObject,a=Kn(i.$data,n,t).length,d=o.getParameterValue(e.minCount);return a>=Number(d.value)},validateMinExclusive:function(i,n,r,o){let{sh:e}=i.ns,t=is(r,o.getParameterValue(e.minExclusive),i.ns);return t!==null&&t>0},validateMinInclusive:function(i,n,r,o){let{sh:e}=i.ns,t=is(r,o.getParameterValue(e.minInclusive),i.ns);return t!==null&&t>=0},validateMinLength:function(i,n,r,o){if(r.termType==="BlankNode")return!1;let{sh:e}=i.ns,t=o.getParameterValue(e.minLength);return r.value.length>=Number(t.value)},validateNode:function(i,n,r,o){let{sh:e}=i.ns,t=o.getParameterValue(e.node);return i.validateNodeAgainstShape(r,t)},validateNodeKind:function(i,n,r,o){let{sh:e}=i.ns,t=o.getParameterValue(e.nodeKind);return r.termType==="BlankNode"?e.BlankNode.equals(t)||e.BlankNodeOrIRI.equals(t)||e.BlankNodeOrLiteral.equals(t):r.termType==="NamedNode"?e.IRI.equals(t)||e.BlankNodeOrIRI.equals(t)||e.IRIOrLiteral.equals(t):r.termType==="Literal"?e.Literal.equals(t)||e.BlankNodeOrLiteral.equals(t)||e.IRIOrLiteral.equals(t):void 0},validateNot:function(i,n,r,o){let{sh:e}=i.ns,t=o.getParameterValue(e.not);return!i.nodeConformsToShape(r,t)},validateOr:function(i,n,r,o){let{sh:e}=i.ns,t=o.getParameterValue(e.or);return os(i.$shapes.node(t)).some(a=>i.nodeConformsToShape(r,a))},validatePattern:function(i,n,r,o){if(r.termType==="BlankNode")return!1;let{sh:e}=i.ns,t=o.getParameterValue(e.flags),a=o.getParameterValue(e.pattern);return(t?new RegExp(a.value,t.value):new RegExp(a.value)).test(r.value)},validateQualifiedMaxCountProperty:function(i,n,r,o){let{sh:e}=i.ns,t=$1(i,n,o),a=o.getParameterValue(e.qualifiedMaxCount);return a.termType==="Literal"&&t<=Number(a.value)},validateQualifiedMinCountProperty:function(i,n,r,o){let{sh:e}=i.ns,t=$1(i,n,o),a=o.getParameterValue(e.qualifiedMinCount);return a.termType==="Literal"&&t>=Number(a.value)},validateUniqueLangProperty:function(i,n,r,o){let{sh:e,xsd:t}=i.ns,a=o.getParameterValue(e.uniqueLang);if(!i.factory.literal("true",t.boolean).equals(a))return;let d=o.shape.pathObject,s={};Kn(i.$data,n,d).forEach(u=>{let p=u.language;if(p&&p!==""){let m=s[p];s[p]=m?m+1:1}});let c=[];for(let u in s)if(Object.prototype.hasOwnProperty.call(s,u)){let p=s[u];p>1&&c.push('Language "'+u+'" has been used by '+p+" values")}return c},validateXone:function(i,n,r,o){let{sh:e}=i.ns,t=o.getParameterValue(e.xone);return os(i.$shapes.node(t)).map(a=>i.nodeConformsToShape(r,a)).filter(Boolean).length===1}},r6={[Lt.sh.AndConstraintComponent.value]:{validator:{func:It.validateAnd}},[Lt.sh.ClassConstraintComponent.value]:{validator:{func:It.validateClass}},[Lt.sh.ClosedConstraintComponent.value]:{validator:{func:It.validateClosed,message:"Predicate is not allowed (closed shape)"}},[Lt.sh.DatatypeConstraintComponent.value]:{validator:{func:It.validateDatatype,message:"Value does not have datatype {$datatype}"}},[Lt.sh.DisjointConstraintComponent.value]:{validator:{func:It.validateDisjoint,message:"Value node must not also be one of the values of {$disjoint}"}},[Lt.sh.EqualsConstraintComponent.value]:{nodeValidator:{func:It.validateEqualsNode,message:"Must have same values as {$equals}"},propertyValidator:{func:It.validateEqualsProperty,message:"Must have same values as {$equals}"}},[Lt.sh.HasValueConstraintComponent.value]:{nodeValidator:{func:It.validateHasValueNode,message:"Value must be {$hasValue}"},propertyValidator:{func:It.validateHasValueProperty,message:"Missing expected value {$hasValue}"}},[Lt.sh.InConstraintComponent.value]:{validator:{func:It.validateIn,message:"Value is not one of the allowed values: {$in}"}},[Lt.sh.LanguageInConstraintComponent.value]:{validator:{func:It.validateLanguageIn,message:"Language does not match any of {$languageIn}"}},[Lt.sh.LessThanConstraintComponent.value]:{propertyValidator:{func:It.validateLessThanProperty,message:"Value is not less than value of {$lessThan}"}},[Lt.sh.LessThanOrEqualsConstraintComponent.value]:{propertyValidator:{func:It.validateLessThanOrEqualsProperty,message:"Value is not less than or equal to value of {$lessThanOrEquals}"}},[Lt.sh.MaxCountConstraintComponent.value]:{propertyValidator:{func:It.validateMaxCountProperty,message:"More than {$maxCount} values"}},[Lt.sh.MaxExclusiveConstraintComponent.value]:{validator:{func:It.validateMaxExclusive,message:"Value is not less than {$maxExclusive}"}},[Lt.sh.MaxInclusiveConstraintComponent.value]:{validator:{func:It.validateMaxInclusive,message:"Value is not less than or equal to {$maxInclusive}"}},[Lt.sh.MaxLengthConstraintComponent.value]:{validator:{func:It.validateMaxLength,message:"Value has more than {$maxLength} characters"}},[Lt.sh.MinCountConstraintComponent.value]:{propertyValidator:{func:It.validateMinCountProperty,message:"Less than {$minCount} values"}},[Lt.sh.MinExclusiveConstraintComponent.value]:{validator:{func:It.validateMinExclusive,message:"Value is not greater than {$minExclusive}"}},[Lt.sh.MinInclusiveConstraintComponent.value]:{validator:{func:It.validateMinInclusive,message:"Value is not greater than or equal to {$minInclusive}"}},[Lt.sh.MinLengthConstraintComponent.value]:{validator:{func:It.validateMinLength,message:"Value has less than {$minLength} characters"}},[Lt.sh.NodeConstraintComponent.value]:{validator:{func:It.validateNode,message:"Value does not have shape {$node}"}},[Lt.sh.NodeKindConstraintComponent.value]:{validator:{func:It.validateNodeKind,message:"Value does not have node kind {$nodeKind}"}},[Lt.sh.NotConstraintComponent.value]:{validator:{func:It.validateNot,message:"Value does have shape {$not}"}},[Lt.sh.OrConstraintComponent.value]:{validator:{func:It.validateOr}},[Lt.sh.PatternConstraintComponent.value]:{validator:{func:It.validatePattern,message:'Value does not match pattern "{$pattern}"'}},[Lt.sh.QualifiedMaxCountConstraintComponent.value]:{propertyValidator:{func:It.validateQualifiedMaxCountProperty,message:"More than {$qualifiedMaxCount} values have shape {$qualifiedValueShape}"}},[Lt.sh.QualifiedMinCountConstraintComponent.value]:{propertyValidator:{func:It.validateQualifiedMinCountProperty,message:"Less than {$qualifiedMinCount} values have shape {$qualifiedValueShape}"}},[Lt.sh.UniqueLangConstraintComponent.value]:{propertyValidator:{func:It.validateUniqueLangProperty,message:'Language "{?lang}" used more than once'}},[Lt.sh.XoneConstraintComponent.value]:{validator:{func:It.validateXone}}},Wd=class{constructor(n,r,o,e){this.shape=n,this.component=r,this.paramValue=o,this.shapeNodePointer=e.node(n.shapeNode)}getParameterValue(n){return this.paramValue||this.shapeNodePointer.out(n).term}get validationFunction(){return this.shape.isPropertyShape?this.component.propertyValidationFunction:this.component.nodeValidationFunction}get isValidationFunctionGeneric(){return this.shape.isPropertyShape?this.component.propertyValidationFunctionGeneric:this.component.nodeValidationFunctionGeneric}get componentMessages(){return this.component.getMessages(this.shape)}get nodeSet(){let{sh:n}=this.shape.context.ns;return this.inNodeSet||(this.inNodeSet=new En(os(this.shapeNodePointer.out(n.in)))),this.inNodeSet}},Ju=class{constructor(n,r){let{$shapes:o,factory:e,ns:t}=r,{sh:a,xsd:d}=t;this.context=r,this.node=n,this.nodePointer=o.node(n),this.parameters=[],this.parameterNodes=[],this.requiredParameters=[],this.optionals={};let s=e.literal("true",d.boolean);this.nodePointer.out(a.parameter).forEach(c=>{let u=c.term;c.out(a.path).forEach(({term:p})=>{this.parameters.push(p),this.parameterNodes.push(u),o.dataset.match(u,a.optional,s).size>0?this.optionals[p.value]=!0:this.requiredParameters.push(p)})}),this.nodeValidationFunction=this.findValidationFunction(a.nodeValidator),this.nodeValidationFunction||(this.nodeValidationFunction=this.findValidationFunction(a.validator),this.nodeValidationFunctionGeneric=!0),this.propertyValidationFunction=this.findValidationFunction(a.propertyValidator),this.propertyValidationFunction||(this.propertyValidationFunction=this.findValidationFunction(a.validator),this.propertyValidationFunctionGeneric=!0)}findValidationFunction(n){let r=n.value.split("#").slice(-1)[0],o=this.findValidator(r);return o?new $N(this.context,o.func.name,o.func):null}getMessages(n){let r=(n.isPropertyShape?this.propertyValidationFunctionGeneric:this.nodeValidationFunctionGeneric)?"validator":n.isPropertyShape?"propertyValidator":"nodeValidator",o=this.findValidator(r);if(!o)return[];let e=o.message;return e?[e]:[]}findValidator(n){let r=r6[this.node.value];return r&&r[n]||null}isComplete(n){return!this.parameters.some(r=>this.isRequired(r.value)&&this.context.$shapes.dataset.match(n,r,null).size===0)}isRequired(n){return!this.optionals[n]}},Ku=class{constructor(n,r){let{$shapes:o,ns:e,shapesGraph:t}=n,{sh:a}=e;this.context=n,this.shapeNode=r,this.shapeNodePointer=o.node(r),this.severity=this.shapeNodePointer.out(a.severity).term||a.Violation,this.deactivated=this.shapeNodePointer.out(a.deactivated).value==="true",this.path=this.shapeNodePointer.out(a.path).term,this.isPropertyShape=this.path!=null,this._pathObject=void 0,this.constraints=[];let d=new En;[...o.dataset.match(r,null,null)].forEach(s=>{let c=t.getComponentWithParameter(s.predicate);c&&!d.has(c.node)&&(c.parameters.length===1?this.constraints.push(new Wd(this,c,s.object,o)):c.isComplete(r)&&(this.constraints.push(new Wd(this,c,void 0,o)),d.add(c.node)))})}get pathObject(){let{$shapes:n,ns:r,allowNamedNodeInList:o}=this.context;return this._pathObject===void 0&&(this._pathObject=this.path?or(n.node(this.path),r,o):null),this._pathObject}getTargetNodes(n){let{$shapes:r,ns:o}=this.context,{rdfs:e,sh:t}=o,a=new En;ym(r.node(this.shapeNode),r.node(e.Class),o)&&a.addAll(Yu(n.node(this.shapeNode),o)),[...r.dataset.match(this.shapeNode,t.targetClass,null)].forEach(({object:s})=>{a.addAll(Yu(n.node(s),o))});let d=this.shapeNodePointer.out(t.targetNode).terms.filter(s=>n.dataset.match(s).size>0||n.dataset.match(null,s).size>0||n.dataset.match(null,null,s).size>0);return a.addAll(d),this.shapeNodePointer.out(t.targetSubjectsOf).terms.forEach(s=>{let c=[...n.dataset.match(null,s,null)].map(({subject:u})=>u);a.addAll(c)}),this.shapeNodePointer.out(t.targetObjectsOf).terms.forEach(s=>{let c=[...n.dataset.match(null,s,null)].map(({object:u})=>u);a.addAll(c)}),[...a]}getValueNodes(n,r){return this.path?Kn(r,n,this.pathObject):[n]}},s6=class{constructor(i){this.context=i;let{sh:n}=i.ns,r=Yu(i.$shapes.node(n.ConstraintComponent),i.ns);this._components=[...r].map(o=>new Ju(o,i)),this._parametersMap=new Map;for(let o of this._components)for(let e of o.parameters)this._parametersMap.set(e.value,o);this._shapes=new Map}getComponentWithParameter(i){return this._parametersMap.get(i.value)}getShape(i){if(!this._shapes.has(i.value)){let n=new Ku(this.context,i);this._shapes.set(i.value,n)}return this._shapes.get(i.value)}get shapeNodesWithConstraints(){if(!this._shapeNodesWithConstraints){let i=new En;for(let n of this._components){let r=n.requiredParameters;for(let o of r){let e=[...this.context.$shapes.dataset.match(null,o,null)].map(({subject:t})=>t);i.addAll(e)}}this._shapeNodesWithConstraints=[...i]}return this._shapeNodesWithConstraints}get shapesWithTarget(){let{$shapes:i,ns:n}=this.context,{rdfs:r,sh:o}=n;return this._shapesWithTarget||(this._shapesWithTarget=this.shapeNodesWithConstraints.filter(e=>ym(i.node(e),i.node(r.Class),n)||i.node(e).out([o.targetClass,o.targetNode,o.targetSubjectsOf,o.targetObjectsOf,o.target]).terms.length>0).map(e=>this.getShape(e))),this._shapesWithTarget}},a6=vn(7833),Xu=class i{constructor(n,r){this.pointer=n,this.term=n.term,this.dataset=n.dataset,this.ns=r}get message(){return this.pointer.out(this.ns.sh.resultMessage).terms||[]}get path(){return this.pointer.out(this.ns.sh.resultPath).term||null}get focusNode(){return this.pointer.out(this.ns.sh.focusNode).term||null}get severity(){return this.pointer.out(this.ns.sh.resultSeverity).term||null}get sourceConstraintComponent(){return this.pointer.out(this.ns.sh.sourceConstraintComponent).term||null}get sourceShape(){return this.pointer.out(this.ns.sh.sourceShape).term||null}get value(){return this.pointer.out(this.ns.sh.value).term||null}get detail(){return this.pointer.out(this.ns.sh.detail).map(n=>new i(n,this.ns))}},l6=class{constructor(i,n){n=n||{},this.factory=n.factory||X1,this.ns=n.ns||cm(this.factory);let{sh:r,xsd:o}=this.ns;this.pointer=i,this.term=i.term,this.dataset=i.dataset;let e=i.out(r.result),t=e.terms.length===0;i.addOut(r.conforms,this.factory.literal(t.toString(),o.boolean)),this.conforms=t,this.results=e.toArray().map(a=>new Xu(a,this.ns))}},d6=a6("validation-enging::error"),em=class i{constructor(n,r){this.context=n,this.factory=n.factory,this.maxErrors=r.maxErrors,this.initReport(),this.recordErrorsLevel=0,this.violationsCount=0,this.validationError=null,this.nestedResults={}}clone(){return new i(this.context,{maxErrors:this.maxErrors})}initReport(){let{rdf:n,sh:r}=this.context.ns;this.reportPointer=xa({dataset:this.factory.dataset(),factory:this.factory,term:this.factory.blankNode("report")}).addOut(n.type,r.ValidationReport)}validateAll(n){if(this.maxErrorsReached())return!0;this.validationError=null;try{this.initReport();let r=!1,o=this.context.shapesGraph.shapesWithTarget;for(let e of o){let t=e.getTargetNodes(n);for(let a of t)this.validateNodeAgainstShape(a,e,n)&&(r=!0)}return r}catch(r){return this.validationError=r,!0}}validateNodeAgainstShape(n,r,o){if(this.maxErrorsReached())return!0;if(r.deactivated)return!1;let e=r.getValueNodes(n,o),t=!1;for(let a of r.constraints)this.validateNodeAgainstConstraint(n,e,a,o)&&(t=!0);return t}validateNodeAgainstConstraint(n,r,o,e){let{sh:t}=this.context.ns;if(this.maxErrorsReached())return!0;if(t.PropertyConstraintComponent.equals(o.component.node)){let a=!1;for(let d of r)this.validateNodeAgainstShape(d,this.context.shapesGraph.getShape(o.paramValue),e)&&(a=!0);return a}if(!o.validationFunction)throw new Error("Cannot find validator for constraint component "+o.component.node.value);if(o.isValidationFunctionGeneric){let a=!1;for(let d of r){if(this.maxErrorsReached())break;let s=this.validateValueNodeAgainstConstraint(n,d,o);s&&this.violationsCount++,a=a||s}return a}return this.validateValueNodeAgainstConstraint(n,null,o)}validateValueNodeAgainstConstraint(n,r,o){let{sh:e}=this.context.ns;this.recordErrorsLevel++;let t=o.validationFunction.execute(n,r,o),a=(Array.isArray(t)?t:[t]).map(d=>this.createResultFromObject(d,o,n,r)).filter(Boolean);if(this.recordErrorsLevel===1)for(let d of a)B1(d,this.reportPointer,e.result);else this.nestedResults[this.recordErrorsLevel]=(this.nestedResults[this.recordErrorsLevel]||[]).concat(a);return this.recordErrorsLevel--,a.length>0}maxErrorsReached(){return!!this.maxErrors&&this.violationsCount>=this.maxErrors}getReport(){if(this.validationError)throw d6("Validation Failure: "+this.validationError),this.validationError;return new l6(this.reportPointer,{factory:this.factory,ns:this.context.ns})}createResultFromObject(n,r,o,e){let{sh:t}=this.context.ns,a=this.normalizeValidationResult(n,e);if(!a)return null;let d=this.createResult(r,o);a.path?(d.addOut(t.resultPath,a.path),this.copyNestedStructure(a.path,d)):r.shape.isPropertyShape&&(d.addOut(t.resultPath,r.shape.path),this.copyNestedStructure(r.shape.path,d)),a.value?(d.addOut(t.value,a.value),this.copyNestedStructure(a.value,d)):e&&(d.addOut(t.value,e),this.copyNestedStructure(e,d));let s=this.createResultMessages(a,r);for(let c of s)d.addOut(t.resultMessage,c);return d}normalizeValidationResult(n,r){return n===!1?{value:r}:typeof n=="string"?{message:n,value:r}:typeof n=="object"?n:null}createResult(n,r){let{rdf:o,sh:e}=this.context.ns,t=n.shape.severity,a=n.component.node,d=n.shape.shapeNode,s=this.factory.blankNode(),c=xa({dataset:this.factory.dataset(),term:s});c.addOut(o.type,e.ValidationResult).addOut(e.resultSeverity,t).addOut(e.sourceConstraintComponent,a).addOut(e.sourceShape,d).addOut(e.focusNode,r),this.copySourceShapeStructure(n.shape,c),this.copyNestedStructure(r,c);let u=this.nestedResults[this.recordErrorsLevel+1];if(u){if(a.equals(e.NodeConstraintComponent))for(let p of u)B1(p,c,e.detail);this.nestedResults[this.recordErrorsLevel+1]=[]}return c}copyNestedStructure(n,r){let o=i2(this.context.$shapes.dataset,n);for(let e of o)r.dataset.add(e)}copySourceShapeStructure(n,r){let o=o2(n,this.context.$shapes.dataset,n.shapeNode);for(let e of o)r.dataset.add(e)}createResultMessages(n,r){let{$shapes:o,ns:e}=this.context,{sh:t}=e,a=[];return n.message&&(a=[this.factory.literal(n.message)]),a.length===0&&(a=o.node(r.shape.shapeNode).out(t.message).terms),a.length===0&&(a=r.componentMessages.map(d=>this.factory.literal(d))),a.length===0&&(a=o.node(r.component.node).out(t.message).terms),a.map(d=>function(s,c,u){let p=c.component.parameters.reduce((m,g)=>{let v=function(y){let w=y.lastIndexOf("#");if(w<0&&(w=y.lastIndexOf("/")),w<0)throw new Error(`Cannot get local name of ${y}`);return y.substring(w+1)}(g.value),x=function(y,w){let S=y.getParameterValue(w);return S?S.termType==="NamedNode"?"<"+S.value+">":S.termType==="BlankNode"?y.nodeSet?y.nodeSet.size>3?Array.from(function*(j,R){let T=0;for(let q of R){if(T++===j)break;yield q}}(3,y.nodeSet)).map(j=>j.value).join(", ")+` ... (and ${y.nodeSet.size-3} more)`:Array.from(y.nodeSet).map(j=>j.value).join(", "):"Blank node "+S.value:S.value:"NULL"}(c,g);return m.replace(`{$${v}}`,x).replace(`{?${v}}`,x)},s.value);return u.literal(p,s.language||s.datatype)}(d,r,this.factory))}};function B1(i,n,r){for(let o of i.dataset)n.dataset.add(o);n.addOut(r,i)}var c6=em,h6=class{constructor(i,n){n=n||{},this.factory=n.factory||X1,this.ns=cm(this.factory),this.allowNamedNodeInList=n.allowNamedNodeInList!==void 0&&n.allowNamedNodeInList,this.loadShapes(i),this.validationEngine=new c6(this,n),this.depth=0}validate(i){return this.$data=xa({dataset:i,factory:this.factory}),this.validationEngine.validateAll(this.$data),this.validationEngine.getReport()}validateNode(i,n,r){return this.$data=xa({dataset:i,factory:this.factory}),this.nodeConformsToShape(n,r,this.validationEngine),this.validationEngine.getReport()}loadShapes(i){let n=(({factory:o})=>{let e=o,t="http://www.w3.org/ns/shacl#",a="http://www.w3.org/1999/02/22-rdf-syntax-ns#",d="http://www.w3.org/2002/07/owl#",s="http://www.w3.org/2000/01/rdf-schema#",c="http://www.w3.org/ns/shacl-shacl#",u="http://www.w3.org/2001/XMLSchema#",p="http://datashapes.org/dash#",m=[];for(let g=0;g<76;g++)m.push(e.blankNode());return[e.quad(e.namedNode(t),e.namedNode(`${a}type`),e.namedNode(`${d}Ontology`),e.namedNode(t)),e.quad(e.namedNode(t),e.namedNode(`${s}comment`),e.literal("This vocabulary defines terms used in SHACL, the W3C Shapes Constraint Language.","en"),e.namedNode(t)),e.quad(e.namedNode(t),e.namedNode(`${s}label`),e.literal("W3C Shapes Constraint Language (SHACL) Vocabulary","en"),e.namedNode(t)),e.quad(e.namedNode(t),e.namedNode(`${t}declare`),m[0],e.namedNode(t)),e.quad(e.namedNode(t),e.namedNode(`${t}suggestedShapesGraph`),e.namedNode(c),e.namedNode(t)),e.quad(e.namedNode(`${t}AbstractResult`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}AbstractResult`),e.namedNode(`${s}comment`),e.literal("The base class of validation results, typically not instantiated directly.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}AbstractResult`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}AbstractResult`),e.namedNode(`${s}label`),e.literal("Abstract result","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}AbstractResult`),e.namedNode(`${s}subClassOf`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}AndConstraintComponent-and`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}AndConstraintComponent-and`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}AndConstraintComponent-and`),e.namedNode(`${t}path`),e.namedNode(`${t}and`),e.namedNode(t)),e.quad(e.namedNode(`${t}AndConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}AndConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to test whether a value node conforms to all members of a provided list of shapes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}AndConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}AndConstraintComponent`),e.namedNode(`${s}label`),e.literal("And constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}AndConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}AndConstraintComponent-and`),e.namedNode(t)),e.quad(e.namedNode(`${t}BlankNode`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeKind`),e.namedNode(t)),e.quad(e.namedNode(`${t}BlankNode`),e.namedNode(`${s}comment`),e.literal("The node kind of all blank nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}BlankNode`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}BlankNode`),e.namedNode(`${s}label`),e.literal("Blank node","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}BlankNodeOrIRI`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeKind`),e.namedNode(t)),e.quad(e.namedNode(`${t}BlankNodeOrIRI`),e.namedNode(`${s}comment`),e.literal("The node kind of all blank nodes or IRIs.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}BlankNodeOrIRI`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}BlankNodeOrIRI`),e.namedNode(`${s}label`),e.literal("Blank node or IRI","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}BlankNodeOrLiteral`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeKind`),e.namedNode(t)),e.quad(e.namedNode(`${t}BlankNodeOrLiteral`),e.namedNode(`${s}comment`),e.literal("The node kind of all blank nodes or literals.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}BlankNodeOrLiteral`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}BlankNodeOrLiteral`),e.namedNode(`${s}label`),e.literal("Blank node or literal","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ClassConstraintComponent-class`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}ClassConstraintComponent-class`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}ClassConstraintComponent-class`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}IRI`),e.namedNode(t)),e.quad(e.namedNode(`${t}ClassConstraintComponent-class`),e.namedNode(`${t}path`),e.namedNode(`${t}class`),e.namedNode(t)),e.quad(e.namedNode(`${t}ClassConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}ClassConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to verify that each value node is an instance of a given type.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ClassConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}ClassConstraintComponent`),e.namedNode(`${s}label`),e.literal("Class constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ClassConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}ClassConstraintComponent-class`),e.namedNode(t)),e.quad(e.namedNode(`${t}ClosedConstraintComponent-closed`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}ClosedConstraintComponent-closed`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}ClosedConstraintComponent-closed`),e.namedNode(`${t}datatype`),e.namedNode(`${u}boolean`),e.namedNode(t)),e.quad(e.namedNode(`${t}ClosedConstraintComponent-closed`),e.namedNode(`${t}path`),e.namedNode(`${t}closed`),e.namedNode(t)),e.quad(e.namedNode(`${t}ClosedConstraintComponent-ignoredProperties`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}ClosedConstraintComponent-ignoredProperties`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}ClosedConstraintComponent-ignoredProperties`),e.namedNode(`${t}optional`),e.literal("true",e.namedNode(`${u}boolean`)),e.namedNode(t)),e.quad(e.namedNode(`${t}ClosedConstraintComponent-ignoredProperties`),e.namedNode(`${t}path`),e.namedNode(`${t}ignoredProperties`),e.namedNode(t)),e.quad(e.namedNode(`${t}ClosedConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}ClosedConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to indicate that focus nodes must only have values for those properties that have been explicitly enumerated via sh:property/sh:path.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ClosedConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}ClosedConstraintComponent`),e.namedNode(`${s}label`),e.literal("Closed constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ClosedConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}ClosedConstraintComponent-closed`),e.namedNode(t)),e.quad(e.namedNode(`${t}ClosedConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}ClosedConstraintComponent-ignoredProperties`),e.namedNode(t)),e.quad(e.namedNode(`${t}ConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}ConstraintComponent`),e.namedNode(`${s}comment`),e.literal("The class of constraint components.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}ConstraintComponent`),e.namedNode(`${s}label`),e.literal("Constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ConstraintComponent`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}Parameterizable`),e.namedNode(t)),e.quad(e.namedNode(`${t}CountExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}CountExpression`),e.namedNode(`${s}comment`),e.literal("A count expression is a blank node with exactly one value for the property sh:count which is a well-formed node expression."),e.namedNode(t)),e.quad(e.namedNode(`${t}CountExpression`),e.namedNode(`${s}label`),e.literal("Count Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}CountExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}CountExpression`),e.namedNode(`${t}property`),m[1],e.namedNode(t)),e.quad(e.namedNode(`${t}CountExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}count`),e.namedNode(t)),e.quad(e.namedNode(`${t}DatatypeConstraintComponent-datatype`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}DatatypeConstraintComponent-datatype`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}DatatypeConstraintComponent-datatype`),e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(e.namedNode(`${t}DatatypeConstraintComponent-datatype`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}IRI`),e.namedNode(t)),e.quad(e.namedNode(`${t}DatatypeConstraintComponent-datatype`),e.namedNode(`${t}path`),e.namedNode(`${t}datatype`),e.namedNode(t)),e.quad(e.namedNode(`${t}DatatypeConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}DatatypeConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to restrict the datatype of all value nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}DatatypeConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}DatatypeConstraintComponent`),e.namedNode(`${s}label`),e.literal("Datatype constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}DatatypeConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}DatatypeConstraintComponent-datatype`),e.namedNode(t)),e.quad(e.namedNode(`${t}DisjointConstraintComponent-disjoint`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}DisjointConstraintComponent-disjoint`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}DisjointConstraintComponent-disjoint`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}IRI`),e.namedNode(t)),e.quad(e.namedNode(`${t}DisjointConstraintComponent-disjoint`),e.namedNode(`${t}path`),e.namedNode(`${t}disjoint`),e.namedNode(t)),e.quad(e.namedNode(`${t}DisjointConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}DisjointConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to verify that the set of value nodes is disjoint with the the set of nodes that have the focus node as subject and the value of a given property as predicate.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}DisjointConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}DisjointConstraintComponent`),e.namedNode(`${s}label`),e.literal("Disjoint constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}DisjointConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}DisjointConstraintComponent-disjoint`),e.namedNode(t)),e.quad(e.namedNode(`${t}DistinctExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}DistinctExpression`),e.namedNode(`${s}comment`),e.literal("A distinct expression is a blank node with exactly one value for the property sh:distinct which is a well-formed node expression."),e.namedNode(t)),e.quad(e.namedNode(`${t}DistinctExpression`),e.namedNode(`${s}label`),e.literal("Distinct Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}DistinctExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}DistinctExpression`),e.namedNode(`${t}property`),m[2],e.namedNode(t)),e.quad(e.namedNode(`${t}DistinctExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}distinct`),e.namedNode(t)),e.quad(e.namedNode(`${t}EqualsConstraintComponent-equals`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}EqualsConstraintComponent-equals`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}EqualsConstraintComponent-equals`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}IRI`),e.namedNode(t)),e.quad(e.namedNode(`${t}EqualsConstraintComponent-equals`),e.namedNode(`${t}path`),e.namedNode(`${t}equals`),e.namedNode(t)),e.quad(e.namedNode(`${t}EqualsConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}EqualsConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to verify that the set of value nodes is equal to the set of nodes that have the focus node as subject and the value of a given property as predicate.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}EqualsConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}EqualsConstraintComponent`),e.namedNode(`${s}label`),e.literal("Equals constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}EqualsConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}EqualsConstraintComponent-equals`),e.namedNode(t)),e.quad(e.namedNode(`${t}ExistsExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}ExistsExpression`),e.namedNode(`${s}comment`),e.literal("An exists expression is a blank node with exactly one value for sh:exists (which is a well-formed shape)."),e.namedNode(t)),e.quad(e.namedNode(`${t}ExistsExpression`),e.namedNode(`${s}label`),e.literal("Exists Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}ExistsExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}ExistsExpression`),e.namedNode(`${t}property`),m[3],e.namedNode(t)),e.quad(e.namedNode(`${t}ExistsExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}exists`),e.namedNode(t)),e.quad(e.namedNode(`${t}ExpressionConstraintComponent-expression`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}ExpressionConstraintComponent-expression`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}ExpressionConstraintComponent-expression`),e.namedNode(`${t}path`),e.namedNode(`${t}expression`),e.namedNode(t)),e.quad(e.namedNode(`${t}ExpressionConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}ExpressionConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to verify that a given node expression produces true for all value nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ExpressionConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}ExpressionConstraintComponent`),e.namedNode(`${s}label`),e.literal("Expression constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ExpressionConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}ExpressionConstraintComponent-expression`),e.namedNode(t)),e.quad(e.namedNode(`${t}FilterShapeExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}FilterShapeExpression`),e.namedNode(`${s}comment`),e.literal("A filter shape expression is a blank node with exactly one value for sh:filterShape (which is a well-formed shape) and at most one value for sh:nodes (which is a well-formed node expression)."),e.namedNode(t)),e.quad(e.namedNode(`${t}FilterShapeExpression`),e.namedNode(`${s}label`),e.literal("Filter Shape Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}FilterShapeExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}FilterShapeExpression`),e.namedNode(`${t}property`),m[4],e.namedNode(t)),e.quad(e.namedNode(`${t}FilterShapeExpression`),e.namedNode(`${t}property`),m[5],e.namedNode(t)),e.quad(e.namedNode(`${t}FilterShapeExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}filterShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}FocusNodeOrConstantTermExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}FocusNodeOrConstantTermExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}IRIOrLiteral`),e.namedNode(t)),e.quad(e.namedNode(`${t}Function`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}Function`),e.namedNode(`${s}comment`),e.literal("The class of SHACL functions.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Function`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}Function`),e.namedNode(`${s}label`),e.literal("Function","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Function`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}Parameterizable`),e.namedNode(t)),e.quad(e.namedNode(`${t}FunctionExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}FunctionExpression`),e.namedNode(`${s}comment`),e.literal("A function expression is a blank node that does not fulfill any of the syntax rules of the other node expression types and which is the subject of exactly one triple T where the object is a well-formed SHACL list, and each member of that list is a well-formed node expression."),e.namedNode(t)),e.quad(e.namedNode(`${t}FunctionExpression`),e.namedNode(`${s}label`),e.literal("Function Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}FunctionExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}GroupConcatExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}GroupConcatExpression`),e.namedNode(`${s}comment`),e.literal("A group concat expression is a blank node with exactly one value for the property sh:groupConcat which is a well-formed node expression. A group concat expression can have a single value for the property sh:separator which is literal with datatype xsd:string."),e.namedNode(t)),e.quad(e.namedNode(`${t}GroupConcatExpression`),e.namedNode(`${s}label`),e.literal("Group Concat Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}GroupConcatExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}GroupConcatExpression`),e.namedNode(`${t}property`),m[6],e.namedNode(t)),e.quad(e.namedNode(`${t}GroupConcatExpression`),e.namedNode(`${t}property`),m[7],e.namedNode(t)),e.quad(e.namedNode(`${t}GroupConcatExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}groupConcat`),e.namedNode(t)),e.quad(e.namedNode(`${t}HasValueConstraintComponent-hasValue`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}HasValueConstraintComponent-hasValue`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}HasValueConstraintComponent-hasValue`),e.namedNode(`${t}path`),e.namedNode(`${t}hasValue`),e.namedNode(t)),e.quad(e.namedNode(`${t}HasValueConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}HasValueConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to verify that one of the value nodes is a given RDF node.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}HasValueConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}HasValueConstraintComponent`),e.namedNode(`${s}label`),e.literal("Has-value constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}HasValueConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}HasValueConstraintComponent-hasValue`),e.namedNode(t)),e.quad(e.namedNode(`${t}IRI`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeKind`),e.namedNode(t)),e.quad(e.namedNode(`${t}IRI`),e.namedNode(`${s}comment`),e.literal("The node kind of all IRIs.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}IRI`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}IRI`),e.namedNode(`${s}label`),e.literal("IRI","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}IRIOrLiteral`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeKind`),e.namedNode(t)),e.quad(e.namedNode(`${t}IRIOrLiteral`),e.namedNode(`${s}comment`),e.literal("The node kind of all IRIs or literals.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}IRIOrLiteral`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}IRIOrLiteral`),e.namedNode(`${s}label`),e.literal("IRI or literal","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}IfExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}IfExpression`),e.namedNode(`${s}comment`),e.literal("An if expression is a blank node with exactly one value for sh:if (which is a well-formed node expression), at most one value for sh:then (which is a well-formed node expression) and at most one value for sh:else (which is a well-formed node expression)."),e.namedNode(t)),e.quad(e.namedNode(`${t}IfExpression`),e.namedNode(`${s}label`),e.literal("If Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}IfExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}IfExpression`),e.namedNode(`${t}property`),m[8],e.namedNode(t)),e.quad(e.namedNode(`${t}IfExpression`),e.namedNode(`${t}property`),m[9],e.namedNode(t)),e.quad(e.namedNode(`${t}IfExpression`),e.namedNode(`${t}property`),m[10],e.namedNode(t)),e.quad(e.namedNode(`${t}IfExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}else`),e.namedNode(t)),e.quad(e.namedNode(`${t}IfExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}if`),e.namedNode(t)),e.quad(e.namedNode(`${t}IfExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}then`),e.namedNode(t)),e.quad(e.namedNode(`${t}InConstraintComponent-in`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}InConstraintComponent-in`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}InConstraintComponent-in`),e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(e.namedNode(`${t}InConstraintComponent-in`),e.namedNode(`${t}path`),e.namedNode(`${t}in`),e.namedNode(t)),e.quad(e.namedNode(`${t}InConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}InConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to exclusively enumerate the permitted value nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}InConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}InConstraintComponent`),e.namedNode(`${s}label`),e.literal("In constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}InConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}InConstraintComponent-in`),e.namedNode(t)),e.quad(e.namedNode(`${t}Info`),e.namedNode(`${a}type`),e.namedNode(`${t}Severity`),e.namedNode(t)),e.quad(e.namedNode(`${t}Info`),e.namedNode(`${s}comment`),e.literal("The severity for an informational validation result.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Info`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}Info`),e.namedNode(`${s}label`),e.literal("Info","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}IntersectionExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}IntersectionExpression`),e.namedNode(`${s}comment`),e.literal("An intersection expression is a blank node with exactly one value for the property sh:intersection which is a well-formed SHACL list with at least two members (which are well-formed node expressions)."),e.namedNode(t)),e.quad(e.namedNode(`${t}IntersectionExpression`),e.namedNode(`${s}label`),e.literal("Intersection Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}IntersectionExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}IntersectionExpression`),e.namedNode(`${t}property`),m[11],e.namedNode(t)),e.quad(e.namedNode(`${t}IntersectionExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}intersection`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSConstraint-js`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSConstraint-js`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}JSConstraint-js`),e.namedNode(`${t}path`),e.namedNode(`${t}js`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSConstraint`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSConstraint`),e.namedNode(`${s}comment`),e.literal("The class of constraints backed by a JavaScript function.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSConstraint`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}JSConstraint`),e.namedNode(`${s}label`),e.literal("JavaScript-based constraint","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSConstraint`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}JSExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component with the parameter sh:js linking to a sh:JSConstraint containing a sh:script.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}JSConstraintComponent`),e.namedNode(`${s}label`),e.literal("JavaScript constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}JSConstraint-js`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSExecutable`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSExecutable`),e.namedNode(`${s}comment`),e.literal("Abstract base class of resources that declare an executable JavaScript.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSExecutable`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}JSExecutable`),e.namedNode(`${s}label`),e.literal("JavaScript executable","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSExecutable`),e.namedNode(`${s}subClassOf`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSFunction`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSFunction`),e.namedNode(`${s}comment`),e.literal("The class of SHACL functions that execute a JavaScript function when called.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSFunction`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}JSFunction`),e.namedNode(`${s}label`),e.literal("JavaScript function","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSFunction`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}Function`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSFunction`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}JSExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSLibrary`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSLibrary`),e.namedNode(`${s}comment`),e.literal("Represents a JavaScript library, typically identified by one or more URLs of files to include.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSLibrary`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}JSLibrary`),e.namedNode(`${s}label`),e.literal("JavaScript library","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSLibrary`),e.namedNode(`${s}subClassOf`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSRule`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSRule`),e.namedNode(`${s}comment`),e.literal("The class of SHACL rules expressed using JavaScript.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSRule`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}JSRule`),e.namedNode(`${s}label`),e.literal("JavaScript rule","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSRule`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}JSExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSRule`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}Rule`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSTarget`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSTarget`),e.namedNode(`${s}comment`),e.literal("The class of targets that are based on JavaScript functions.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSTarget`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}JSTarget`),e.namedNode(`${s}label`),e.literal("JavaScript target","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSTarget`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}JSExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSTarget`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}Target`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSTargetType`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSTargetType`),e.namedNode(`${s}comment`),e.literal("The (meta) class for parameterizable targets that are based on JavaScript functions.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSTargetType`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}JSTargetType`),e.namedNode(`${s}label`),e.literal("JavaScript target type","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSTargetType`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}JSExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSTargetType`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}TargetType`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSValidator`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSValidator`),e.namedNode(`${s}comment`),e.literal("A SHACL validator based on JavaScript. This can be used to declare SHACL constraint components that perform JavaScript-based validation when used.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSValidator`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}JSValidator`),e.namedNode(`${s}label`),e.literal("JavaScript validator","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}JSValidator`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}JSExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}JSValidator`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}Validator`),e.namedNode(t)),e.quad(e.namedNode(`${t}LanguageInConstraintComponent-languageIn`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}LanguageInConstraintComponent-languageIn`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}LanguageInConstraintComponent-languageIn`),e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(e.namedNode(`${t}LanguageInConstraintComponent-languageIn`),e.namedNode(`${t}path`),e.namedNode(`${t}languageIn`),e.namedNode(t)),e.quad(e.namedNode(`${t}LanguageInConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}LanguageInConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to enumerate language tags that all value nodes must have.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}LanguageInConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}LanguageInConstraintComponent`),e.namedNode(`${s}label`),e.literal("Language-in constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}LanguageInConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}LanguageInConstraintComponent-languageIn`),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanConstraintComponent-lessThan`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanConstraintComponent-lessThan`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanConstraintComponent-lessThan`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}IRI`),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanConstraintComponent-lessThan`),e.namedNode(`${t}path`),e.namedNode(`${t}lessThan`),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to verify that each value node is smaller than all the nodes that have the focus node as subject and the value of a given property as predicate.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanConstraintComponent`),e.namedNode(`${s}label`),e.literal("Less-than constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}LessThanConstraintComponent-lessThan`),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanOrEqualsConstraintComponent-lessThanOrEquals`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanOrEqualsConstraintComponent-lessThanOrEquals`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanOrEqualsConstraintComponent-lessThanOrEquals`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}IRI`),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanOrEqualsConstraintComponent-lessThanOrEquals`),e.namedNode(`${t}path`),e.namedNode(`${t}lessThanOrEquals`),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanOrEqualsConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanOrEqualsConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to verify that every value node is smaller than all the nodes that have the focus node as subject and the value of a given property as predicate.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanOrEqualsConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanOrEqualsConstraintComponent`),e.namedNode(`${s}label`),e.literal("less-than-or-equals constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}LessThanOrEqualsConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}LessThanOrEqualsConstraintComponent-lessThanOrEquals`),e.namedNode(t)),e.quad(e.namedNode(`${t}LimitExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}LimitExpression`),e.namedNode(`${s}comment`),e.literal("A limit expression is a blank node with exactly one value for the property sh:limit which is a literal with datatype xsd:integer and with exactly one value for the property sh:nodes which is a well-formed node expression."),e.namedNode(t)),e.quad(e.namedNode(`${t}LimitExpression`),e.namedNode(`${s}label`),e.literal("Limit Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}LimitExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}LimitExpression`),e.namedNode(`${t}property`),m[12],e.namedNode(t)),e.quad(e.namedNode(`${t}LimitExpression`),e.namedNode(`${t}property`),m[13],e.namedNode(t)),e.quad(e.namedNode(`${t}LimitExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}limit`),e.namedNode(t)),e.quad(e.namedNode(`${t}Literal`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeKind`),e.namedNode(t)),e.quad(e.namedNode(`${t}Literal`),e.namedNode(`${s}comment`),e.literal("The node kind of all literals.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Literal`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}Literal`),e.namedNode(`${s}label`),e.literal("Literal","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxCountConstraintComponent-maxCount`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxCountConstraintComponent-maxCount`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxCountConstraintComponent-maxCount`),e.namedNode(`${t}datatype`),e.namedNode(`${u}integer`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxCountConstraintComponent-maxCount`),e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxCountConstraintComponent-maxCount`),e.namedNode(`${t}path`),e.namedNode(`${t}maxCount`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxCountConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxCountConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to restrict the maximum number of value nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxCountConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxCountConstraintComponent`),e.namedNode(`${s}label`),e.literal("Max-count constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxCountConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}MaxCountConstraintComponent-maxCount`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxExclusiveConstraintComponent-maxExclusive`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxExclusiveConstraintComponent-maxExclusive`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxExclusiveConstraintComponent-maxExclusive`),e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxExclusiveConstraintComponent-maxExclusive`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}Literal`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxExclusiveConstraintComponent-maxExclusive`),e.namedNode(`${t}path`),e.namedNode(`${t}maxExclusive`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxExclusiveConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxExclusiveConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to restrict the range of value nodes with a maximum exclusive value.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxExclusiveConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxExclusiveConstraintComponent`),e.namedNode(`${s}label`),e.literal("Max-exclusive constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxExclusiveConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}MaxExclusiveConstraintComponent-maxExclusive`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxExpression`),e.namedNode(`${s}comment`),e.literal("A max expression is a blank node with exactly one value for the property sh:max which is a well-formed node expression."),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxExpression`),e.namedNode(`${s}label`),e.literal("Max Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxExpression`),e.namedNode(`${t}property`),m[14],e.namedNode(t)),e.quad(e.namedNode(`${t}MaxExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}max`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxInclusiveConstraintComponent-maxInclusive`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxInclusiveConstraintComponent-maxInclusive`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxInclusiveConstraintComponent-maxInclusive`),e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxInclusiveConstraintComponent-maxInclusive`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}Literal`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxInclusiveConstraintComponent-maxInclusive`),e.namedNode(`${t}path`),e.namedNode(`${t}maxInclusive`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxInclusiveConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxInclusiveConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to restrict the range of value nodes with a maximum inclusive value.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxInclusiveConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxInclusiveConstraintComponent`),e.namedNode(`${s}label`),e.literal("Max-inclusive constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxInclusiveConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}MaxInclusiveConstraintComponent-maxInclusive`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxLengthConstraintComponent-maxLength`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxLengthConstraintComponent-maxLength`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxLengthConstraintComponent-maxLength`),e.namedNode(`${t}datatype`),e.namedNode(`${u}integer`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxLengthConstraintComponent-maxLength`),e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxLengthConstraintComponent-maxLength`),e.namedNode(`${t}path`),e.namedNode(`${t}maxLength`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxLengthConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxLengthConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to restrict the maximum string length of value nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxLengthConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxLengthConstraintComponent`),e.namedNode(`${s}label`),e.literal("Max-length constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}MaxLengthConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}MaxLengthConstraintComponent-maxLength`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinCountConstraintComponent-minCount`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinCountConstraintComponent-minCount`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}MinCountConstraintComponent-minCount`),e.namedNode(`${t}datatype`),e.namedNode(`${u}integer`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinCountConstraintComponent-minCount`),e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(e.namedNode(`${t}MinCountConstraintComponent-minCount`),e.namedNode(`${t}path`),e.namedNode(`${t}minCount`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinCountConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinCountConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to restrict the minimum number of value nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}MinCountConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}MinCountConstraintComponent`),e.namedNode(`${s}label`),e.literal("Min-count constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}MinCountConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}MinCountConstraintComponent-minCount`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinExclusiveConstraintComponent-minExclusive`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinExclusiveConstraintComponent-minExclusive`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}MinExclusiveConstraintComponent-minExclusive`),e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(e.namedNode(`${t}MinExclusiveConstraintComponent-minExclusive`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}Literal`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinExclusiveConstraintComponent-minExclusive`),e.namedNode(`${t}path`),e.namedNode(`${t}minExclusive`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinExclusiveConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinExclusiveConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to restrict the range of value nodes with a minimum exclusive value.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}MinExclusiveConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}MinExclusiveConstraintComponent`),e.namedNode(`${s}label`),e.literal("Min-exclusive constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}MinExclusiveConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}MinExclusiveConstraintComponent-minExclusive`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinExpression`),e.namedNode(`${s}comment`),e.literal("A min expression is a blank node with exactly one value for the property sh:min which is a well-formed node expression."),e.namedNode(t)),e.quad(e.namedNode(`${t}MinExpression`),e.namedNode(`${s}label`),e.literal("Min Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}MinExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinExpression`),e.namedNode(`${t}property`),m[15],e.namedNode(t)),e.quad(e.namedNode(`${t}MinExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}min`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinInclusiveConstraintComponent-minInclusive`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinInclusiveConstraintComponent-minInclusive`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}MinInclusiveConstraintComponent-minInclusive`),e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(e.namedNode(`${t}MinInclusiveConstraintComponent-minInclusive`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}Literal`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinInclusiveConstraintComponent-minInclusive`),e.namedNode(`${t}path`),e.namedNode(`${t}minInclusive`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinInclusiveConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinInclusiveConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to restrict the range of value nodes with a minimum inclusive value.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}MinInclusiveConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}MinInclusiveConstraintComponent`),e.namedNode(`${s}label`),e.literal("Min-inclusive constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}MinInclusiveConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}MinInclusiveConstraintComponent-minInclusive`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinLengthConstraintComponent-minLength`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinLengthConstraintComponent-minLength`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}MinLengthConstraintComponent-minLength`),e.namedNode(`${t}datatype`),e.namedNode(`${u}integer`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinLengthConstraintComponent-minLength`),e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(e.namedNode(`${t}MinLengthConstraintComponent-minLength`),e.namedNode(`${t}path`),e.namedNode(`${t}minLength`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinLengthConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinLengthConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to restrict the minimum string length of value nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}MinLengthConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}MinLengthConstraintComponent`),e.namedNode(`${s}label`),e.literal("Min-length constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}MinLengthConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}MinLengthConstraintComponent-minLength`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinusExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinusExpression`),e.namedNode(`${s}comment`),e.literal("A minus expression is a blank node with exactly one value for the property sh:minus which is a well-formed node expression and exactly one value for the property sh:nodes which is a well-formed node expression."),e.namedNode(t)),e.quad(e.namedNode(`${t}MinusExpression`),e.namedNode(`${s}label`),e.literal("Minus Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}MinusExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}MinusExpression`),e.namedNode(`${t}property`),m[16],e.namedNode(t)),e.quad(e.namedNode(`${t}MinusExpression`),e.namedNode(`${t}property`),m[17],e.namedNode(t)),e.quad(e.namedNode(`${t}MinusExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}minus`),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeConstraintComponent-node`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeConstraintComponent-node`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeConstraintComponent-node`),e.namedNode(`${t}path`),e.namedNode(`${t}node`),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to verify that all value nodes conform to the given node shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeConstraintComponent`),e.namedNode(`${s}label`),e.literal("Node constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}NodeConstraintComponent-node`),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeExpression`),e.namedNode(`${t}targetObjectsOf`),e.namedNode(`${t}expression`),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeExpression`),e.namedNode(`${t}targetObjectsOf`),e.namedNode(`${t}values`),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeExpression`),e.namedNode(`${t}xone`),m[18],e.namedNode(t)),e.quad(e.namedNode(`${t}NodeKind`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeKind`),e.namedNode(`${s}comment`),e.literal("The class of all node kinds, including sh:BlankNode, sh:IRI, sh:Literal or the combinations of these: sh:BlankNodeOrIRI, sh:BlankNodeOrLiteral, sh:IRIOrLiteral.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeKind`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeKind`),e.namedNode(`${s}label`),e.literal("Node kind","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeKind`),e.namedNode(`${s}subClassOf`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeKindConstraintComponent-nodeKind`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeKindConstraintComponent-nodeKind`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeKindConstraintComponent-nodeKind`),e.namedNode(`${t}in`),m[19],e.namedNode(t)),e.quad(e.namedNode(`${t}NodeKindConstraintComponent-nodeKind`),e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeKindConstraintComponent-nodeKind`),e.namedNode(`${t}path`),e.namedNode(`${t}nodeKind`),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeKindConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeKindConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to restrict the RDF node kind of each value node.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeKindConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeKindConstraintComponent`),e.namedNode(`${s}label`),e.literal("Node-kind constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeKindConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}NodeKindConstraintComponent-nodeKind`),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeShape`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeShape`),e.namedNode(`${s}comment`),e.literal("A node shape is a shape that specifies constraint that need to be met with respect to focus nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeShape`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeShape`),e.namedNode(`${s}label`),e.literal("Node shape","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}NodeShape`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}Shape`),e.namedNode(t)),e.quad(e.namedNode(`${t}NotConstraintComponent-not`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}NotConstraintComponent-not`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}NotConstraintComponent-not`),e.namedNode(`${t}path`),e.namedNode(`${t}not`),e.namedNode(t)),e.quad(e.namedNode(`${t}NotConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}NotConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to verify that value nodes do not conform to a given shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}NotConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}NotConstraintComponent`),e.namedNode(`${s}label`),e.literal("Not constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}NotConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}NotConstraintComponent-not`),e.namedNode(t)),e.quad(e.namedNode(`${t}OffsetExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}OffsetExpression`),e.namedNode(`${s}comment`),e.literal("An offset expression is a blank node with exactly one value for the property sh:offset which is a literal with datatype xsd:integer and with exactly one value for the property sh:nodes which is a well-formed node expression."),e.namedNode(t)),e.quad(e.namedNode(`${t}OffsetExpression`),e.namedNode(`${s}label`),e.literal("Offset Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}OffsetExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}OffsetExpression`),e.namedNode(`${t}property`),m[20],e.namedNode(t)),e.quad(e.namedNode(`${t}OffsetExpression`),e.namedNode(`${t}property`),m[21],e.namedNode(t)),e.quad(e.namedNode(`${t}OffsetExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}offset`),e.namedNode(t)),e.quad(e.namedNode(`${t}OrConstraintComponent-or`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}OrConstraintComponent-or`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}OrConstraintComponent-or`),e.namedNode(`${t}path`),e.namedNode(`${t}or`),e.namedNode(t)),e.quad(e.namedNode(`${t}OrConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}OrConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to restrict the value nodes so that they conform to at least one out of several provided shapes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}OrConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}OrConstraintComponent`),e.namedNode(`${s}label`),e.literal("Or constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}OrConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}OrConstraintComponent-or`),e.namedNode(t)),e.quad(e.namedNode(`${t}OrderByExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}OrderByExpression`),e.namedNode(`${s}comment`),e.literal("An orderBy expression is a blank node with exactly one value for the property sh:orderBy which is a well-formed node expression and with exactly one value for the property sh:nodes which is a well-formed node expression. An orderBy expression can have one value for the property sh:desc which is either true or false."),e.namedNode(t)),e.quad(e.namedNode(`${t}OrderByExpression`),e.namedNode(`${s}label`),e.literal("OrderBy Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}OrderByExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}OrderByExpression`),e.namedNode(`${t}property`),m[22],e.namedNode(t)),e.quad(e.namedNode(`${t}OrderByExpression`),e.namedNode(`${t}property`),m[23],e.namedNode(t)),e.quad(e.namedNode(`${t}OrderByExpression`),e.namedNode(`${t}property`),m[24],e.namedNode(t)),e.quad(e.namedNode(`${t}OrderByExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}orderBy`),e.namedNode(t)),e.quad(e.namedNode(`${t}Parameter`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}Parameter`),e.namedNode(`${s}comment`),e.literal("The class of parameter declarations, consisting of a path predicate and (possibly) information about allowed value type, cardinality and other characteristics.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Parameter`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}Parameter`),e.namedNode(`${s}label`),e.literal("Parameter","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Parameter`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}PropertyShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}Parameterizable`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}Parameterizable`),e.namedNode(`${s}comment`),e.literal("Superclass of components that can take parameters, especially functions and constraint components.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Parameterizable`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}Parameterizable`),e.namedNode(`${s}label`),e.literal("Parameterizable","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Parameterizable`),e.namedNode(`${s}subClassOf`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}PathExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}PathExpression`),e.namedNode(`${s}comment`),e.literal("A path expression is a blank node with exactly one value of the property sh:path (which are well-formed property paths) and at most one value for sh:nodes (which is a well-formed node expression)."),e.namedNode(t)),e.quad(e.namedNode(`${t}PathExpression`),e.namedNode(`${s}label`),e.literal("Path Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}PathExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}PathExpression`),e.namedNode(`${t}property`),m[25],e.namedNode(t)),e.quad(e.namedNode(`${t}PathExpression`),e.namedNode(`${t}property`),m[26],e.namedNode(t)),e.quad(e.namedNode(`${t}PatternConstraintComponent-flags`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}PatternConstraintComponent-flags`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}PatternConstraintComponent-flags`),e.namedNode(`${t}datatype`),e.namedNode(`${u}string`),e.namedNode(t)),e.quad(e.namedNode(`${t}PatternConstraintComponent-flags`),e.namedNode(`${t}optional`),e.literal("true",e.namedNode(`${u}boolean`)),e.namedNode(t)),e.quad(e.namedNode(`${t}PatternConstraintComponent-flags`),e.namedNode(`${t}path`),e.namedNode(`${t}flags`),e.namedNode(t)),e.quad(e.namedNode(`${t}PatternConstraintComponent-pattern`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}PatternConstraintComponent-pattern`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}PatternConstraintComponent-pattern`),e.namedNode(`${t}datatype`),e.namedNode(`${u}string`),e.namedNode(t)),e.quad(e.namedNode(`${t}PatternConstraintComponent-pattern`),e.namedNode(`${t}path`),e.namedNode(`${t}pattern`),e.namedNode(t)),e.quad(e.namedNode(`${t}PatternConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}PatternConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to verify that every value node matches a given regular expression.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}PatternConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}PatternConstraintComponent`),e.namedNode(`${s}label`),e.literal("Pattern constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}PatternConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}PatternConstraintComponent-flags`),e.namedNode(t)),e.quad(e.namedNode(`${t}PatternConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}PatternConstraintComponent-pattern`),e.namedNode(t)),e.quad(e.namedNode(`${t}PrefixDeclaration`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}PrefixDeclaration`),e.namedNode(`${s}comment`),e.literal("The class of prefix declarations, consisting of pairs of a prefix with a namespace.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}PrefixDeclaration`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}PrefixDeclaration`),e.namedNode(`${s}label`),e.literal("Prefix declaration","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}PrefixDeclaration`),e.namedNode(`${s}subClassOf`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyConstraintComponent-property`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyConstraintComponent-property`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyConstraintComponent-property`),e.namedNode(`${t}path`),e.namedNode(`${t}property`),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to verify that all value nodes conform to the given property shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyConstraintComponent`),e.namedNode(`${s}label`),e.literal("Property constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}PropertyConstraintComponent-property`),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyGroup`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyGroup`),e.namedNode(`${s}comment`),e.literal("Instances of this class represent groups of property shapes that belong together.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyGroup`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyGroup`),e.namedNode(`${s}label`),e.literal("Property group","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyGroup`),e.namedNode(`${s}subClassOf`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyShape`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyShape`),e.namedNode(`${s}comment`),e.literal("A property shape is a shape that specifies constraints on the values of a focus node for a given property or path.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyShape`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyShape`),e.namedNode(`${s}label`),e.literal("Property shape","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}PropertyShape`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}Shape`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent-qualifiedMaxCount`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent-qualifiedMaxCount`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent-qualifiedMaxCount`),e.namedNode(`${t}datatype`),e.namedNode(`${u}integer`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent-qualifiedMaxCount`),e.namedNode(`${t}path`),e.namedNode(`${t}qualifiedMaxCount`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent-qualifiedValueShape`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent-qualifiedValueShape`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent-qualifiedValueShape`),e.namedNode(`${t}path`),e.namedNode(`${t}qualifiedValueShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent-qualifiedValueShapesDisjoint`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent-qualifiedValueShapesDisjoint`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent-qualifiedValueShapesDisjoint`),e.namedNode(`${t}datatype`),e.namedNode(`${u}boolean`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent-qualifiedValueShapesDisjoint`),e.namedNode(`${t}optional`),e.literal("true",e.namedNode(`${u}boolean`)),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent-qualifiedValueShapesDisjoint`),e.namedNode(`${t}path`),e.namedNode(`${t}qualifiedValueShapesDisjoint`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to verify that a specified maximum number of value nodes conforms to a given shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent`),e.namedNode(`${s}label`),e.literal("Qualified-max-count constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}QualifiedMaxCountConstraintComponent-qualifiedMaxCount`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}QualifiedMaxCountConstraintComponent-qualifiedValueShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMaxCountConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}QualifiedMaxCountConstraintComponent-qualifiedValueShapesDisjoint`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent-qualifiedMinCount`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent-qualifiedMinCount`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent-qualifiedMinCount`),e.namedNode(`${t}datatype`),e.namedNode(`${u}integer`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent-qualifiedMinCount`),e.namedNode(`${t}path`),e.namedNode(`${t}qualifiedMinCount`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent-qualifiedValueShape`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent-qualifiedValueShape`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent-qualifiedValueShape`),e.namedNode(`${t}path`),e.namedNode(`${t}qualifiedValueShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent-qualifiedValueShapesDisjoint`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent-qualifiedValueShapesDisjoint`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent-qualifiedValueShapesDisjoint`),e.namedNode(`${t}datatype`),e.namedNode(`${u}boolean`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent-qualifiedValueShapesDisjoint`),e.namedNode(`${t}optional`),e.literal("true",e.namedNode(`${u}boolean`)),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent-qualifiedValueShapesDisjoint`),e.namedNode(`${t}path`),e.namedNode(`${t}qualifiedValueShapesDisjoint`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to verify that a specified minimum number of value nodes conforms to a given shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent`),e.namedNode(`${s}label`),e.literal("Qualified-min-count constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}QualifiedMinCountConstraintComponent-qualifiedMinCount`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}QualifiedMinCountConstraintComponent-qualifiedValueShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}QualifiedMinCountConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}QualifiedMinCountConstraintComponent-qualifiedValueShapesDisjoint`),e.namedNode(t)),e.quad(e.namedNode(`${t}ResultAnnotation`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}ResultAnnotation`),e.namedNode(`${s}comment`),e.literal("A class of result annotations, which define the rules to derive the values of a given annotation property as extra values for a validation result.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ResultAnnotation`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}ResultAnnotation`),e.namedNode(`${s}label`),e.literal("Result annotation","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ResultAnnotation`),e.namedNode(`${s}subClassOf`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}Rule`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}Rule`),e.namedNode(`${s}comment`),e.literal("The class of SHACL rules. Never instantiated directly.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Rule`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}Rule`),e.namedNode(`${s}label`),e.literal("Rule","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Rule`),e.namedNode(`${s}subClassOf`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskExecutable`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskExecutable`),e.namedNode(`${s}comment`),e.literal("The class of SPARQL executables that are based on an ASK query.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskExecutable`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskExecutable`),e.namedNode(`${s}label`),e.literal("SPARQL ASK executable","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskExecutable`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}SPARQLExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskExpression`),e.namedNode(`${s}comment`),e.literal("A SPARQL ASK expression is a blank node with exactly one value for the property sh:ask which is string literal. The blank node may have values for the property sh:prefixes and these values are IRIs or blank nodes. Using the values of sh:prefixes as defined by 5.2.1 Prefix Declarations for SPARQL Queries, the value of sh:ask must be valid SPARQL 1.1 ASK query. The blank node may also have exactly one value for the property sh:nodes which is a well-formed node expression."),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskExpression`),e.namedNode(`${s}label`),e.literal("SPARQL ASK Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskExpression`),e.namedNode(`${t}property`),m[27],e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskExpression`),e.namedNode(`${t}property`),m[28],e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskExpression`),e.namedNode(`${t}property`),m[29],e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}ask`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskValidator`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskValidator`),e.namedNode(`${s}comment`),e.literal("The class of validators based on SPARQL ASK queries. The queries are evaluated for each value node and are supposed to return true if the given node conforms.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskValidator`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskValidator`),e.namedNode(`${s}label`),e.literal("SPARQL ASK validator","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskValidator`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}SPARQLAskExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLAskValidator`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}Validator`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstraint`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstraint`),e.namedNode(`${s}comment`),e.literal("The class of constraints based on SPARQL SELECT queries.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstraint`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstraint`),e.namedNode(`${s}label`),e.literal("SPARQL constraint","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstraint`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}SPARQLSelectExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstraintComponent-sparql`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstraintComponent-sparql`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstraintComponent-sparql`),e.namedNode(`${t}path`),e.namedNode(`${t}sparql`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to define constraints based on SPARQL queries.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstraintComponent`),e.namedNode(`${s}label`),e.literal("SPARQL constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}SPARQLConstraintComponent-sparql`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstructExecutable`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstructExecutable`),e.namedNode(`${s}comment`),e.literal("The class of SPARQL executables that are based on a CONSTRUCT query.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstructExecutable`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstructExecutable`),e.namedNode(`${s}label`),e.literal("SPARQL CONSTRUCT executable","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLConstructExecutable`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}SPARQLExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLExecutable`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLExecutable`),e.namedNode(`${s}comment`),e.literal("The class of resources that encapsulate a SPARQL query.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLExecutable`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLExecutable`),e.namedNode(`${s}label`),e.literal("SPARQL executable","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLExecutable`),e.namedNode(`${s}subClassOf`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLFunction`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLFunction`),e.namedNode(`${s}comment`),e.literal("A function backed by a SPARQL query - either ASK or SELECT.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLFunction`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLFunction`),e.namedNode(`${s}label`),e.literal("SPARQL function","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLFunction`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}Function`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLFunction`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}SPARQLAskExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLFunction`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}SPARQLSelectExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLRule`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLRule`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLRule`),e.namedNode(`${s}comment`),e.literal("The class of SHACL rules based on SPARQL CONSTRUCT queries.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLRule`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLRule`),e.namedNode(`${s}label`),e.literal("SPARQL CONSTRUCT rule","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLRule`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}Rule`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLRule`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}SPARQLConstructExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLRule`),e.namedNode(`${t}property`),m[30],e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLRule`),e.namedNode(`${t}property`),m[31],e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectExecutable`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectExecutable`),e.namedNode(`${s}comment`),e.literal("The class of SPARQL executables based on a SELECT query.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectExecutable`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectExecutable`),e.namedNode(`${s}label`),e.literal("SPARQL SELECT executable","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectExecutable`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}SPARQLExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectExpression`),e.namedNode(`${s}comment`),e.literal("A SPARQL SELECT expression is a blank node with exactly one value for the property sh:select which is string literal. The blank node may have values for the property sh:prefixes and these values are IRIs or blank nodes. Using the values of sh:prefixes as defined by 5.2.1 Prefix Declarations for SPARQL Queries, the value of sh:select must be valid SPARQL 1.1 SELECT query with exactly one result variable. The blank node may also have exactly one value for the property sh:nodes which is a well-formed node expression."),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectExpression`),e.namedNode(`${s}label`),e.literal("SPARQL SELECT Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectExpression`),e.namedNode(`${t}property`),m[32],e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectExpression`),e.namedNode(`${t}property`),m[33],e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectExpression`),e.namedNode(`${t}property`),m[34],e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}select`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectValidator`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectValidator`),e.namedNode(`${s}comment`),e.literal("The class of validators based on SPARQL SELECT queries. The queries are evaluated for each focus node and are supposed to produce bindings for all focus nodes that do not conform.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectValidator`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectValidator`),e.namedNode(`${s}label`),e.literal("SPARQL SELECT validator","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectValidator`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}SPARQLSelectExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLSelectValidator`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}Validator`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLTarget`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLTarget`),e.namedNode(`${s}comment`),e.literal("The class of targets that are based on SPARQL queries.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLTarget`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLTarget`),e.namedNode(`${s}label`),e.literal("SPARQL target","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLTarget`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}SPARQLAskExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLTarget`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}SPARQLSelectExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLTarget`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}Target`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLTargetType`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLTargetType`),e.namedNode(`${s}comment`),e.literal("The (meta) class for parameterizable targets that are based on SPARQL queries.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLTargetType`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLTargetType`),e.namedNode(`${s}label`),e.literal("SPARQL target type","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLTargetType`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}SPARQLAskExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLTargetType`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}SPARQLSelectExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLTargetType`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}TargetType`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLUpdateExecutable`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLUpdateExecutable`),e.namedNode(`${s}comment`),e.literal("The class of SPARQL executables based on a SPARQL UPDATE.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLUpdateExecutable`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLUpdateExecutable`),e.namedNode(`${s}label`),e.literal("SPARQL UPDATE executable","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}SPARQLUpdateExecutable`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}SPARQLExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}Severity`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}Severity`),e.namedNode(`${s}comment`),e.literal("The class of validation result severity levels, including violation and warning levels.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Severity`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}Severity`),e.namedNode(`${s}label`),e.literal("Severity","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Severity`),e.namedNode(`${s}subClassOf`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}Shape`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}Shape`),e.namedNode(`${s}comment`),e.literal("A shape is a collection of constraints that may be targeted for certain nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Shape`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}Shape`),e.namedNode(`${s}label`),e.literal("Shape","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Shape`),e.namedNode(`${s}subClassOf`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}SumExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}SumExpression`),e.namedNode(`${s}comment`),e.literal("A sum expression is a blank node with exactly one value for the property sh:sum which is a well-formed node expression."),e.namedNode(t)),e.quad(e.namedNode(`${t}SumExpression`),e.namedNode(`${s}label`),e.literal("Sum Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}SumExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}SumExpression`),e.namedNode(`${t}property`),m[35],e.namedNode(t)),e.quad(e.namedNode(`${t}SumExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}sum`),e.namedNode(t)),e.quad(e.namedNode(`${t}Target`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}Target`),e.namedNode(`${s}comment`),e.literal("The base class of targets such as those based on SPARQL queries.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Target`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}Target`),e.namedNode(`${s}label`),e.literal("Target","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Target`),e.namedNode(`${s}subClassOf`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}TargetType`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}TargetType`),e.namedNode(`${s}comment`),e.literal("The (meta) class for parameterizable targets.	Instances of this are instantiated as values of the sh:target property.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}TargetType`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}TargetType`),e.namedNode(`${s}label`),e.literal("Target type","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}TargetType`),e.namedNode(`${s}subClassOf`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}TargetType`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}Parameterizable`),e.namedNode(t)),e.quad(e.namedNode(`${t}TripleRule`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}TripleRule`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}TripleRule`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}TripleRule`),e.namedNode(`${s}label`),e.literal("A rule based on triple (subject, predicate, object) pattern.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}TripleRule`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}Rule`),e.namedNode(t)),e.quad(e.namedNode(`${t}TripleRule`),e.namedNode(`${t}property`),m[36],e.namedNode(t)),e.quad(e.namedNode(`${t}TripleRule`),e.namedNode(`${t}property`),m[37],e.namedNode(t)),e.quad(e.namedNode(`${t}TripleRule`),e.namedNode(`${t}property`),m[38],e.namedNode(t)),e.quad(e.namedNode(`${t}UnionExpression`),e.namedNode(`${a}type`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}UnionExpression`),e.namedNode(`${s}comment`),e.literal("A union expression is a blank node with exactly one value for the property sh:union which is a well-formed SHACL list with at least two members (which are well-formed node expressions)."),e.namedNode(t)),e.quad(e.namedNode(`${t}UnionExpression`),e.namedNode(`${s}label`),e.literal("Union Expression"),e.namedNode(t)),e.quad(e.namedNode(`${t}UnionExpression`),e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(e.namedNode(`${t}UnionExpression`),e.namedNode(`${t}property`),m[39],e.namedNode(t)),e.quad(e.namedNode(`${t}UnionExpression`),e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${t}union`),e.namedNode(t)),e.quad(e.namedNode(`${t}UniqueLangConstraintComponent-uniqueLang`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}UniqueLangConstraintComponent-uniqueLang`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}UniqueLangConstraintComponent-uniqueLang`),e.namedNode(`${t}datatype`),e.namedNode(`${u}boolean`),e.namedNode(t)),e.quad(e.namedNode(`${t}UniqueLangConstraintComponent-uniqueLang`),e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(e.namedNode(`${t}UniqueLangConstraintComponent-uniqueLang`),e.namedNode(`${t}path`),e.namedNode(`${t}uniqueLang`),e.namedNode(t)),e.quad(e.namedNode(`${t}UniqueLangConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}UniqueLangConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to specify that no pair of value nodes may use the same language tag.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}UniqueLangConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}UniqueLangConstraintComponent`),e.namedNode(`${s}label`),e.literal("Unique-languages constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}UniqueLangConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}UniqueLangConstraintComponent-uniqueLang`),e.namedNode(t)),e.quad(e.namedNode(`${t}ValidationReport`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}ValidationReport`),e.namedNode(`${s}comment`),e.literal("The class of SHACL validation reports.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ValidationReport`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}ValidationReport`),e.namedNode(`${s}label`),e.literal("Validation report","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ValidationReport`),e.namedNode(`${s}subClassOf`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}ValidationResult`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}ValidationResult`),e.namedNode(`${s}comment`),e.literal("The class of validation results.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ValidationResult`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}ValidationResult`),e.namedNode(`${s}label`),e.literal("Validation result","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ValidationResult`),e.namedNode(`${s}subClassOf`),e.namedNode(`${t}AbstractResult`),e.namedNode(t)),e.quad(e.namedNode(`${t}Validator`),e.namedNode(`${a}type`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}Validator`),e.namedNode(`${s}comment`),e.literal("The class of validators, which provide instructions on how to process a constraint definition. This class serves as base class for the SPARQL-based validators and other possible implementations.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Validator`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}Validator`),e.namedNode(`${s}label`),e.literal("Validator","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Validator`),e.namedNode(`${s}subClassOf`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}Violation`),e.namedNode(`${a}type`),e.namedNode(`${t}Severity`),e.namedNode(t)),e.quad(e.namedNode(`${t}Violation`),e.namedNode(`${s}comment`),e.literal("The severity for a violation validation result.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Violation`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}Violation`),e.namedNode(`${s}label`),e.literal("Violation","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Warning`),e.namedNode(`${a}type`),e.namedNode(`${t}Severity`),e.namedNode(t)),e.quad(e.namedNode(`${t}Warning`),e.namedNode(`${s}comment`),e.literal("The severity for a warning validation result.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}Warning`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}Warning`),e.namedNode(`${s}label`),e.literal("Warning","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}XoneConstraintComponent-xone`),e.namedNode(`${a}type`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}XoneConstraintComponent-xone`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}XoneConstraintComponent-xone`),e.namedNode(`${t}path`),e.namedNode(`${t}xone`),e.namedNode(t)),e.quad(e.namedNode(`${t}XoneConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}XoneConstraintComponent`),e.namedNode(`${s}comment`),e.literal("A constraint component that can be used to restrict the value nodes so that they conform to exactly one out of several provided shapes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}XoneConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}XoneConstraintComponent`),e.namedNode(`${s}label`),e.literal("Exactly one constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}XoneConstraintComponent`),e.namedNode(`${t}parameter`),e.namedNode(`${t}XoneConstraintComponent-xone`),e.namedNode(t)),e.quad(e.namedNode(`${t}alternativePath`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}alternativePath`),e.namedNode(`${s}comment`),e.literal("The (single) value of this property must be a list of path elements, representing the elements of alternative paths.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}alternativePath`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}alternativePath`),e.namedNode(`${s}label`),e.literal("alternative path","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}alternativePath`),e.namedNode(`${s}range`),e.namedNode(`${a}List`),e.namedNode(t)),e.quad(e.namedNode(`${t}and`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}and`),e.namedNode(`${s}comment`),e.literal("RDF list of shapes to validate the value nodes against.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}and`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}and`),e.namedNode(`${s}label`),e.literal("and","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}and`),e.namedNode(`${s}range`),e.namedNode(`${a}List`),e.namedNode(t)),e.quad(e.namedNode(`${t}annotationProperty`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}annotationProperty`),e.namedNode(`${s}comment`),e.literal("The annotation property that shall be set.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}annotationProperty`),e.namedNode(`${s}domain`),e.namedNode(`${t}ResultAnnotation`),e.namedNode(t)),e.quad(e.namedNode(`${t}annotationProperty`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}annotationProperty`),e.namedNode(`${s}label`),e.literal("annotation property","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}annotationProperty`),e.namedNode(`${s}range`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}annotationValue`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}annotationValue`),e.namedNode(`${s}comment`),e.literal("The (default) values of the annotation property.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}annotationValue`),e.namedNode(`${s}domain`),e.namedNode(`${t}ResultAnnotation`),e.namedNode(t)),e.quad(e.namedNode(`${t}annotationValue`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}annotationValue`),e.namedNode(`${s}label`),e.literal("annotation value","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}annotationVarName`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}annotationVarName`),e.namedNode(`${s}comment`),e.literal("The name of the SPARQL variable from the SELECT clause that shall be used for the values.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}annotationVarName`),e.namedNode(`${s}domain`),e.namedNode(`${t}ResultAnnotation`),e.namedNode(t)),e.quad(e.namedNode(`${t}annotationVarName`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}annotationVarName`),e.namedNode(`${s}label`),e.literal("annotation variable name","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}annotationVarName`),e.namedNode(`${s}range`),e.namedNode(`${u}string`),e.namedNode(t)),e.quad(e.namedNode(`${t}ask`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}ask`),e.namedNode(`${s}comment`),e.literal("The SPARQL ASK query to execute.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ask`),e.namedNode(`${s}domain`),e.namedNode(`${t}SPARQLAskExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}ask`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}ask`),e.namedNode(`${s}label`),e.literal("ask","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ask`),e.namedNode(`${s}range`),e.namedNode(`${u}string`),e.namedNode(t)),e.quad(e.namedNode(`${t}class`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}class`),e.namedNode(`${s}comment`),e.literal("The type that all value nodes must have.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}class`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}class`),e.namedNode(`${s}label`),e.literal("class","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}class`),e.namedNode(`${s}range`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}closed`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}closed`),e.namedNode(`${s}comment`),e.literal("If set to true then the shape is closed.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}closed`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}closed`),e.namedNode(`${s}label`),e.literal("closed","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}closed`),e.namedNode(`${s}range`),e.namedNode(`${u}boolean`),e.namedNode(t)),e.quad(e.namedNode(`${t}condition`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}condition`),e.namedNode(`${s}comment`),e.literal("The shapes that the focus nodes need to conform to before a rule is executed on them.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}condition`),e.namedNode(`${s}domain`),e.namedNode(`${t}Rule`),e.namedNode(t)),e.quad(e.namedNode(`${t}condition`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}condition`),e.namedNode(`${s}label`),e.literal("condition","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}condition`),e.namedNode(`${s}range`),e.namedNode(`${t}Shape`),e.namedNode(t)),e.quad(e.namedNode(`${t}conforms`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}conforms`),e.namedNode(`${s}comment`),e.literal("True if the validation did not produce any validation results, and false otherwise.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}conforms`),e.namedNode(`${s}domain`),e.namedNode(`${t}ValidationReport`),e.namedNode(t)),e.quad(e.namedNode(`${t}conforms`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}conforms`),e.namedNode(`${s}label`),e.literal("conforms","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}conforms`),e.namedNode(`${s}range`),e.namedNode(`${u}boolean`),e.namedNode(t)),e.quad(e.namedNode(`${t}construct`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}construct`),e.namedNode(`${s}comment`),e.literal("The SPARQL CONSTRUCT query to execute.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}construct`),e.namedNode(`${s}domain`),e.namedNode(`${t}SPARQLConstructExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}construct`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}construct`),e.namedNode(`${s}label`),e.literal("construct","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}construct`),e.namedNode(`${s}range`),e.namedNode(`${u}string`),e.namedNode(t)),e.quad(e.namedNode(`${t}count`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}datatype`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}datatype`),e.namedNode(`${s}comment`),e.literal("Specifies an RDF datatype that all value nodes must have.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}datatype`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}datatype`),e.namedNode(`${s}label`),e.literal("datatype","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}datatype`),e.namedNode(`${s}range`),e.namedNode(`${s}Datatype`),e.namedNode(t)),e.quad(e.namedNode(`${t}deactivated`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}deactivated`),e.namedNode(`${s}comment`),e.literal("If set to true then all nodes conform to this.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}deactivated`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}deactivated`),e.namedNode(`${s}label`),e.literal("deactivated","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}deactivated`),e.namedNode(`${s}range`),e.namedNode(`${u}boolean`),e.namedNode(t)),e.quad(e.namedNode(`${t}declare`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}declare`),e.namedNode(`${s}comment`),e.literal("Links a resource with its namespace prefix declarations.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}declare`),e.namedNode(`${s}domain`),e.namedNode(`${d}Ontology`),e.namedNode(t)),e.quad(e.namedNode(`${t}declare`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}declare`),e.namedNode(`${s}label`),e.literal("declare","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}declare`),e.namedNode(`${s}range`),e.namedNode(`${t}PrefixDeclaration`),e.namedNode(t)),e.quad(e.namedNode(`${t}defaultValue`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}defaultValue`),e.namedNode(`${s}comment`),e.literal("A default value for a property, for example for user interface tools to pre-populate input fields.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}defaultValue`),e.namedNode(`${s}domain`),e.namedNode(`${t}PropertyShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}defaultValue`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}defaultValue`),e.namedNode(`${s}label`),e.literal("default value","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}desc`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}description`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}description`),e.namedNode(`${s}comment`),e.literal("Human-readable descriptions for the property in the context of the surrounding shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}description`),e.namedNode(`${s}domain`),e.namedNode(`${t}PropertyShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}description`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}description`),e.namedNode(`${s}label`),e.literal("description","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}detail`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}detail`),e.namedNode(`${s}comment`),e.literal("Links a result with other results that provide more details, for example to describe violations against nested shapes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}detail`),e.namedNode(`${s}domain`),e.namedNode(`${t}AbstractResult`),e.namedNode(t)),e.quad(e.namedNode(`${t}detail`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}detail`),e.namedNode(`${s}label`),e.literal("detail","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}detail`),e.namedNode(`${s}range`),e.namedNode(`${t}AbstractResult`),e.namedNode(t)),e.quad(e.namedNode(`${t}disjoint`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}disjoint`),e.namedNode(`${s}comment`),e.literal("Specifies a property where the set of values must be disjoint with the value nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}disjoint`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}disjoint`),e.namedNode(`${s}label`),e.literal("disjoint","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}disjoint`),e.namedNode(`${s}range`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}distinct`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}else`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}entailment`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}entailment`),e.namedNode(`${s}comment`),e.literal("An entailment regime that indicates what kind of inferencing is required by a shapes graph.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}entailment`),e.namedNode(`${s}domain`),e.namedNode(`${d}Ontology`),e.namedNode(t)),e.quad(e.namedNode(`${t}entailment`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}entailment`),e.namedNode(`${s}label`),e.literal("entailment","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}entailment`),e.namedNode(`${s}range`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}equals`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}equals`),e.namedNode(`${s}comment`),e.literal("Specifies a property that must have the same values as the value nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}equals`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}equals`),e.namedNode(`${s}label`),e.literal("equals","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}equals`),e.namedNode(`${s}range`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}exists`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}expression`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}expression`),e.namedNode(`${s}comment`),e.literal("The node expression that must return true for the value nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}expression`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}expression`),e.namedNode(`${s}label`),e.literal("expression","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}filterShape`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}filterShape`),e.namedNode(`${s}comment`),e.literal("The shape that all input nodes of the expression need to conform to.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}filterShape`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}filterShape`),e.namedNode(`${s}label`),e.literal("filter shape","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}filterShape`),e.namedNode(`${s}range`),e.namedNode(`${t}Shape`),e.namedNode(t)),e.quad(e.namedNode(`${t}flags`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}flags`),e.namedNode(`${s}comment`),e.literal("An optional flag to be used with regular expression pattern matching.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}flags`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}flags`),e.namedNode(`${s}label`),e.literal("flags","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}flags`),e.namedNode(`${s}range`),e.namedNode(`${u}string`),e.namedNode(t)),e.quad(e.namedNode(`${t}focusNode`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}focusNode`),e.namedNode(`${s}comment`),e.literal("The focus node that was validated when the result was produced.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}focusNode`),e.namedNode(`${s}domain`),e.namedNode(`${t}AbstractResult`),e.namedNode(t)),e.quad(e.namedNode(`${t}focusNode`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}focusNode`),e.namedNode(`${s}label`),e.literal("focus node","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}group`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}group`),e.namedNode(`${s}comment`),e.literal("Can be used to link to a property group to indicate that a property shape belongs to a group of related property shapes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}group`),e.namedNode(`${s}domain`),e.namedNode(`${t}PropertyShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}group`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}group`),e.namedNode(`${s}label`),e.literal("group","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}group`),e.namedNode(`${s}range`),e.namedNode(`${t}PropertyGroup`),e.namedNode(t)),e.quad(e.namedNode(`${t}groupConcat`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}hasValue`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}hasValue`),e.namedNode(`${s}comment`),e.literal("Specifies a value that must be among the value nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}hasValue`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}hasValue`),e.namedNode(`${s}label`),e.literal("has value","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}if`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}ignoredProperties`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}ignoredProperties`),e.namedNode(`${s}comment`),e.literal("An optional RDF list of properties that are also permitted in addition to those explicitly enumerated via sh:property/sh:path.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ignoredProperties`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}ignoredProperties`),e.namedNode(`${s}label`),e.literal("ignored properties","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}ignoredProperties`),e.namedNode(`${s}range`),e.namedNode(`${a}List`),e.namedNode(t)),e.quad(e.namedNode(`${t}in`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}in`),e.namedNode(`${s}comment`),e.literal("Specifies a list of allowed values so that each value node must be among the members of the given list.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}in`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}in`),e.namedNode(`${s}label`),e.literal("in","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}in`),e.namedNode(`${s}range`),e.namedNode(`${a}List`),e.namedNode(t)),e.quad(e.namedNode(`${t}intersection`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}intersection`),e.namedNode(`${s}comment`),e.literal("A list of node expressions that shall be intersected.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}intersection`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}intersection`),e.namedNode(`${s}label`),e.literal("intersection","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}inversePath`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}inversePath`),e.namedNode(`${s}comment`),e.literal("The (single) value of this property represents an inverse path (object to subject).","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}inversePath`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}inversePath`),e.namedNode(`${s}label`),e.literal("inverse path","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}inversePath`),e.namedNode(`${s}range`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}js`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}js`),e.namedNode(`${s}comment`),e.literal("Constraints expressed in JavaScript."),e.namedNode(t)),e.quad(e.namedNode(`${t}js`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}js`),e.namedNode(`${s}label`),e.literal("JavaScript constraint","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}js`),e.namedNode(`${s}range`),e.namedNode(`${t}JSConstraint`),e.namedNode(t)),e.quad(e.namedNode(`${t}jsFunctionName`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}jsFunctionName`),e.namedNode(`${s}comment`),e.literal("The name of the JavaScript function to execute.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}jsFunctionName`),e.namedNode(`${s}domain`),e.namedNode(`${t}JSExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}jsFunctionName`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}jsFunctionName`),e.namedNode(`${s}label`),e.literal("JavaScript function name","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}jsFunctionName`),e.namedNode(`${s}range`),e.namedNode(`${u}string`),e.namedNode(t)),e.quad(e.namedNode(`${t}jsLibrary`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}jsLibrary`),e.namedNode(`${s}comment`),e.literal("Declares which JavaScript libraries are needed to execute this.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}jsLibrary`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}jsLibrary`),e.namedNode(`${s}label`),e.literal("JavaScript library","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}jsLibrary`),e.namedNode(`${s}range`),e.namedNode(`${t}JSLibrary`),e.namedNode(t)),e.quad(e.namedNode(`${t}jsLibraryURL`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}jsLibraryURL`),e.namedNode(`${s}comment`),e.literal("Declares the URLs of a JavaScript library. This should be the absolute URL of a JavaScript file. Implementations may redirect those to local files.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}jsLibraryURL`),e.namedNode(`${s}domain`),e.namedNode(`${t}JSLibrary`),e.namedNode(t)),e.quad(e.namedNode(`${t}jsLibraryURL`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}jsLibraryURL`),e.namedNode(`${s}label`),e.literal("JavaScript library URL","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}jsLibraryURL`),e.namedNode(`${s}range`),e.namedNode(`${u}anyURI`),e.namedNode(t)),e.quad(e.namedNode(`${t}labelTemplate`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}labelTemplate`),e.namedNode(`${s}comment`),e.literal("Outlines how human-readable labels of instances of the associated Parameterizable shall be produced. The values can contain {?paramName} as placeholders for the actual values of the given parameter.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}labelTemplate`),e.namedNode(`${s}domain`),e.namedNode(`${t}Parameterizable`),e.namedNode(t)),e.quad(e.namedNode(`${t}labelTemplate`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}labelTemplate`),e.namedNode(`${s}label`),e.literal("label template","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}languageIn`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}languageIn`),e.namedNode(`${s}comment`),e.literal("Specifies a list of language tags that all value nodes must have.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}languageIn`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}languageIn`),e.namedNode(`${s}label`),e.literal("language in","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}languageIn`),e.namedNode(`${s}range`),e.namedNode(`${a}List`),e.namedNode(t)),e.quad(e.namedNode(`${t}lessThan`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}lessThan`),e.namedNode(`${s}comment`),e.literal("Specifies a property that must have smaller values than the value nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}lessThan`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}lessThan`),e.namedNode(`${s}label`),e.literal("less than","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}lessThan`),e.namedNode(`${s}range`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}lessThanOrEquals`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}lessThanOrEquals`),e.namedNode(`${s}comment`),e.literal("Specifies a property that must have smaller or equal values than the value nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}lessThanOrEquals`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}lessThanOrEquals`),e.namedNode(`${s}label`),e.literal("less than or equals","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}lessThanOrEquals`),e.namedNode(`${s}range`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}limit`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}max`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}maxCount`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}maxCount`),e.namedNode(`${s}comment`),e.literal("Specifies the maximum number of values in the set of value nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}maxCount`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}maxCount`),e.namedNode(`${s}label`),e.literal("max count","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}maxCount`),e.namedNode(`${s}range`),e.namedNode(`${u}integer`),e.namedNode(t)),e.quad(e.namedNode(`${t}maxExclusive`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}maxExclusive`),e.namedNode(`${s}comment`),e.literal("Specifies the maximum exclusive value of each value node.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}maxExclusive`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}maxExclusive`),e.namedNode(`${s}label`),e.literal("max exclusive","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}maxInclusive`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}maxInclusive`),e.namedNode(`${s}comment`),e.literal("Specifies the maximum inclusive value of each value node.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}maxInclusive`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}maxInclusive`),e.namedNode(`${s}label`),e.literal("max inclusive","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}maxLength`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}maxLength`),e.namedNode(`${s}comment`),e.literal("Specifies the maximum string length of each value node.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}maxLength`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}maxLength`),e.namedNode(`${s}label`),e.literal("max length","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}maxLength`),e.namedNode(`${s}range`),e.namedNode(`${u}integer`),e.namedNode(t)),e.quad(e.namedNode(`${t}message`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}message`),e.namedNode(`${s}comment`),e.literal("A human-readable message (possibly with placeholders for variables) explaining the cause of the result.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}message`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}message`),e.namedNode(`${s}label`),e.literal("message","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}min`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}minCount`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}minCount`),e.namedNode(`${s}comment`),e.literal("Specifies the minimum number of values in the set of value nodes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}minCount`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}minCount`),e.namedNode(`${s}label`),e.literal("min count","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}minCount`),e.namedNode(`${s}range`),e.namedNode(`${u}integer`),e.namedNode(t)),e.quad(e.namedNode(`${t}minExclusive`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}minExclusive`),e.namedNode(`${s}comment`),e.literal("Specifies the minimum exclusive value of each value node.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}minExclusive`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}minExclusive`),e.namedNode(`${s}label`),e.literal("min exclusive","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}minInclusive`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}minInclusive`),e.namedNode(`${s}comment`),e.literal("Specifies the minimum inclusive value of each value node.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}minInclusive`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}minInclusive`),e.namedNode(`${s}label`),e.literal("min inclusive","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}minLength`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}minLength`),e.namedNode(`${s}comment`),e.literal("Specifies the minimum string length of each value node.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}minLength`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}minLength`),e.namedNode(`${s}label`),e.literal("min length","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}minLength`),e.namedNode(`${s}range`),e.namedNode(`${u}integer`),e.namedNode(t)),e.quad(e.namedNode(`${t}minus`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}name`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}name`),e.namedNode(`${s}comment`),e.literal("Human-readable labels for the property in the context of the surrounding shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}name`),e.namedNode(`${s}domain`),e.namedNode(`${t}PropertyShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}name`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}name`),e.namedNode(`${s}label`),e.literal("name","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}namespace`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}namespace`),e.namedNode(`${s}comment`),e.literal("The namespace associated with a prefix in a prefix declaration.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}namespace`),e.namedNode(`${s}domain`),e.namedNode(`${t}PrefixDeclaration`),e.namedNode(t)),e.quad(e.namedNode(`${t}namespace`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}namespace`),e.namedNode(`${s}label`),e.literal("namespace","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}namespace`),e.namedNode(`${s}range`),e.namedNode(`${u}anyURI`),e.namedNode(t)),e.quad(e.namedNode(`${t}node`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}node`),e.namedNode(`${s}comment`),e.literal("Specifies the node shape that all value nodes must conform to.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}node`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}node`),e.namedNode(`${s}label`),e.literal("node","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}node`),e.namedNode(`${s}range`),e.namedNode(`${t}NodeShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}nodeKind`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}nodeKind`),e.namedNode(`${s}comment`),e.literal("Specifies the node kind (e.g. IRI or literal) each value node.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}nodeKind`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}nodeKind`),e.namedNode(`${s}label`),e.literal("node kind","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}nodeKind`),e.namedNode(`${s}range`),e.namedNode(`${t}NodeKind`),e.namedNode(t)),e.quad(e.namedNode(`${t}nodeValidator`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}nodeValidator`),e.namedNode(`${s}comment`),e.literal("The validator(s) used to evaluate a constraint in the context of a node shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}nodeValidator`),e.namedNode(`${s}domain`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}nodeValidator`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}nodeValidator`),e.namedNode(`${s}label`),e.literal("shape validator","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}nodeValidator`),e.namedNode(`${s}range`),e.namedNode(`${t}Validator`),e.namedNode(t)),e.quad(e.namedNode(`${t}nodes`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}nodes`),e.namedNode(`${s}comment`),e.literal("The node expression producing the input nodes of a filter shape expression.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}nodes`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}nodes`),e.namedNode(`${s}label`),e.literal("nodes","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}not`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}not`),e.namedNode(`${s}comment`),e.literal("Specifies a shape that the value nodes must not conform to.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}not`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}not`),e.namedNode(`${s}label`),e.literal("not","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}not`),e.namedNode(`${s}range`),e.namedNode(`${t}Shape`),e.namedNode(t)),e.quad(e.namedNode(`${t}object`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}object`),e.namedNode(`${s}comment`),e.literal("An expression producing the nodes that shall be inferred as objects.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}object`),e.namedNode(`${s}domain`),e.namedNode(`${t}TripleRule`),e.namedNode(t)),e.quad(e.namedNode(`${t}object`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}object`),e.namedNode(`${s}label`),e.literal("object","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}offset`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}oneOrMorePath`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}oneOrMorePath`),e.namedNode(`${s}comment`),e.literal("The (single) value of this property represents a path that is matched one or more times.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}oneOrMorePath`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}oneOrMorePath`),e.namedNode(`${s}label`),e.literal("one or more path","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}oneOrMorePath`),e.namedNode(`${s}range`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}optional`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}optional`),e.namedNode(`${s}comment`),e.literal("Indicates whether a parameter is optional.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}optional`),e.namedNode(`${s}domain`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}optional`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}optional`),e.namedNode(`${s}label`),e.literal("optional","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}optional`),e.namedNode(`${s}range`),e.namedNode(`${u}boolean`),e.namedNode(t)),e.quad(e.namedNode(`${t}or`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}or`),e.namedNode(`${s}comment`),e.literal("Specifies a list of shapes so that the value nodes must conform to at least one of the shapes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}or`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}or`),e.namedNode(`${s}label`),e.literal("or","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}or`),e.namedNode(`${s}range`),e.namedNode(`${a}List`),e.namedNode(t)),e.quad(e.namedNode(`${t}order`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}order`),e.namedNode(`${s}comment`),e.literal("Specifies the relative order of this compared to its siblings. For example use 0 for the first, 1 for the second.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}order`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}order`),e.namedNode(`${s}label`),e.literal("order","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}orderBy`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}parameter`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}parameter`),e.namedNode(`${s}comment`),e.literal("The parameters of a function or constraint component.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}parameter`),e.namedNode(`${s}domain`),e.namedNode(`${t}Parameterizable`),e.namedNode(t)),e.quad(e.namedNode(`${t}parameter`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}parameter`),e.namedNode(`${s}label`),e.literal("parameter","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}parameter`),e.namedNode(`${s}range`),e.namedNode(`${t}Parameter`),e.namedNode(t)),e.quad(e.namedNode(`${t}path`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}path`),e.namedNode(`${s}comment`),e.literal("Specifies the property path of a property shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}path`),e.namedNode(`${s}domain`),e.namedNode(`${t}PropertyShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}path`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}path`),e.namedNode(`${s}label`),e.literal("path","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}path`),e.namedNode(`${s}range`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}pattern`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}pattern`),e.namedNode(`${s}comment`),e.literal("Specifies a regular expression pattern that the string representations of the value nodes must match.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}pattern`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}pattern`),e.namedNode(`${s}label`),e.literal("pattern","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}pattern`),e.namedNode(`${s}range`),e.namedNode(`${u}string`),e.namedNode(t)),e.quad(e.namedNode(`${t}predicate`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}predicate`),e.namedNode(`${s}comment`),e.literal("An expression producing the properties that shall be inferred as predicates.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}predicate`),e.namedNode(`${s}domain`),e.namedNode(`${t}TripleRule`),e.namedNode(t)),e.quad(e.namedNode(`${t}predicate`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}predicate`),e.namedNode(`${s}label`),e.literal("predicate","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}prefix`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}prefix`),e.namedNode(`${s}comment`),e.literal("The prefix of a prefix declaration.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}prefix`),e.namedNode(`${s}domain`),e.namedNode(`${t}PrefixDeclaration`),e.namedNode(t)),e.quad(e.namedNode(`${t}prefix`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}prefix`),e.namedNode(`${s}label`),e.literal("prefix","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}prefix`),e.namedNode(`${s}range`),e.namedNode(`${u}string`),e.namedNode(t)),e.quad(e.namedNode(`${t}prefixes`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}prefixes`),e.namedNode(`${s}comment`),e.literal("The prefixes that shall be applied before parsing the associated SPARQL query.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}prefixes`),e.namedNode(`${s}domain`),e.namedNode(`${t}SPARQLExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}prefixes`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}prefixes`),e.namedNode(`${s}label`),e.literal("prefixes","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}prefixes`),e.namedNode(`${s}range`),e.namedNode(`${d}Ontology`),e.namedNode(t)),e.quad(e.namedNode(`${t}property`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}property`),e.namedNode(`${s}comment`),e.literal("Links a shape to its property shapes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}property`),e.namedNode(`${s}domain`),e.namedNode(`${t}Shape`),e.namedNode(t)),e.quad(e.namedNode(`${t}property`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}property`),e.namedNode(`${s}label`),e.literal("property","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}property`),e.namedNode(`${s}range`),e.namedNode(`${t}PropertyShape`),e.namedNode(t)),e.quad(e.namedNode(`${t}propertyValidator`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}propertyValidator`),e.namedNode(`${s}comment`),e.literal("The validator(s) used to evaluate a constraint in the context of a property shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}propertyValidator`),e.namedNode(`${s}domain`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}propertyValidator`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}propertyValidator`),e.namedNode(`${s}label`),e.literal("property validator","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}propertyValidator`),e.namedNode(`${s}range`),e.namedNode(`${t}Validator`),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedMaxCount`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedMaxCount`),e.namedNode(`${s}comment`),e.literal("The maximum number of value nodes that can conform to the shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedMaxCount`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedMaxCount`),e.namedNode(`${s}label`),e.literal("qualified max count","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedMaxCount`),e.namedNode(`${s}range`),e.namedNode(`${u}integer`),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedMinCount`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedMinCount`),e.namedNode(`${s}comment`),e.literal("The minimum number of value nodes that must conform to the shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedMinCount`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedMinCount`),e.namedNode(`${s}label`),e.literal("qualified min count","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedMinCount`),e.namedNode(`${s}range`),e.namedNode(`${u}integer`),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedValueShape`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedValueShape`),e.namedNode(`${s}comment`),e.literal("The shape that a specified number of values must conform to.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedValueShape`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedValueShape`),e.namedNode(`${s}label`),e.literal("qualified value shape","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedValueShape`),e.namedNode(`${s}range`),e.namedNode(`${t}Shape`),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedValueShapesDisjoint`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedValueShapesDisjoint`),e.namedNode(`${s}comment`),e.literal("Can be used to mark the qualified value shape to be disjoint with its sibling shapes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedValueShapesDisjoint`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedValueShapesDisjoint`),e.namedNode(`${s}label`),e.literal("qualified value shapes disjoint","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}qualifiedValueShapesDisjoint`),e.namedNode(`${s}range`),e.namedNode(`${u}boolean`),e.namedNode(t)),e.quad(e.namedNode(`${t}result`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}result`),e.namedNode(`${s}comment`),e.literal("The validation results contained in a validation report.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}result`),e.namedNode(`${s}domain`),e.namedNode(`${t}ValidationReport`),e.namedNode(t)),e.quad(e.namedNode(`${t}result`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}result`),e.namedNode(`${s}label`),e.literal("result","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}result`),e.namedNode(`${s}range`),e.namedNode(`${t}ValidationResult`),e.namedNode(t)),e.quad(e.namedNode(`${t}resultAnnotation`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}resultAnnotation`),e.namedNode(`${s}comment`),e.literal("Links a SPARQL validator with zero or more sh:ResultAnnotation instances, defining how to derive additional result properties based on the variables of the SELECT query.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}resultAnnotation`),e.namedNode(`${s}domain`),e.namedNode(`${t}SPARQLSelectValidator`),e.namedNode(t)),e.quad(e.namedNode(`${t}resultAnnotation`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}resultAnnotation`),e.namedNode(`${s}label`),e.literal("result annotation","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}resultAnnotation`),e.namedNode(`${s}range`),e.namedNode(`${t}ResultAnnotation`),e.namedNode(t)),e.quad(e.namedNode(`${t}resultMessage`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}resultMessage`),e.namedNode(`${s}comment`),e.literal("Human-readable messages explaining the cause of the result.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}resultMessage`),e.namedNode(`${s}domain`),e.namedNode(`${t}AbstractResult`),e.namedNode(t)),e.quad(e.namedNode(`${t}resultMessage`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}resultMessage`),e.namedNode(`${s}label`),e.literal("result message","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}resultPath`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}resultPath`),e.namedNode(`${s}comment`),e.literal("The path of a validation result, based on the path of the validated property shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}resultPath`),e.namedNode(`${s}domain`),e.namedNode(`${t}AbstractResult`),e.namedNode(t)),e.quad(e.namedNode(`${t}resultPath`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}resultPath`),e.namedNode(`${s}label`),e.literal("result path","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}resultPath`),e.namedNode(`${s}range`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}resultSeverity`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}resultSeverity`),e.namedNode(`${s}comment`),e.literal("The severity of the result, e.g. warning.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}resultSeverity`),e.namedNode(`${s}domain`),e.namedNode(`${t}AbstractResult`),e.namedNode(t)),e.quad(e.namedNode(`${t}resultSeverity`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}resultSeverity`),e.namedNode(`${s}label`),e.literal("result severity","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}resultSeverity`),e.namedNode(`${s}range`),e.namedNode(`${t}Severity`),e.namedNode(t)),e.quad(e.namedNode(`${t}returnType`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}returnType`),e.namedNode(`${s}comment`),e.literal("The expected type of values returned by the associated function.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}returnType`),e.namedNode(`${s}domain`),e.namedNode(`${t}Function`),e.namedNode(t)),e.quad(e.namedNode(`${t}returnType`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}returnType`),e.namedNode(`${s}label`),e.literal("return type","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}returnType`),e.namedNode(`${s}range`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}rule`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}rule`),e.namedNode(`${s}comment`),e.literal("The rules linked to a shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}rule`),e.namedNode(`${s}domain`),e.namedNode(`${t}Shape`),e.namedNode(t)),e.quad(e.namedNode(`${t}rule`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}rule`),e.namedNode(`${s}label`),e.literal("rule","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}rule`),e.namedNode(`${s}range`),e.namedNode(`${t}Rule`),e.namedNode(t)),e.quad(e.namedNode(`${t}select`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}select`),e.namedNode(`${s}comment`),e.literal("The SPARQL SELECT query to execute.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}select`),e.namedNode(`${s}domain`),e.namedNode(`${t}SPARQLSelectExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}select`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}select`),e.namedNode(`${s}label`),e.literal("select","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}select`),e.namedNode(`${s}range`),e.namedNode(`${u}string`),e.namedNode(t)),e.quad(e.namedNode(`${t}separator`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}severity`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}severity`),e.namedNode(`${s}comment`),e.literal("Defines the severity that validation results produced by a shape must have. Defaults to sh:Violation.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}severity`),e.namedNode(`${s}domain`),e.namedNode(`${t}Shape`),e.namedNode(t)),e.quad(e.namedNode(`${t}severity`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}severity`),e.namedNode(`${s}label`),e.literal("severity","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}severity`),e.namedNode(`${s}range`),e.namedNode(`${t}Severity`),e.namedNode(t)),e.quad(e.namedNode(`${t}shapesGraph`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}shapesGraph`),e.namedNode(`${s}comment`),e.literal("Shapes graphs that should be used when validating this data graph.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}shapesGraph`),e.namedNode(`${s}domain`),e.namedNode(`${d}Ontology`),e.namedNode(t)),e.quad(e.namedNode(`${t}shapesGraph`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}shapesGraph`),e.namedNode(`${s}label`),e.literal("shapes graph","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}shapesGraph`),e.namedNode(`${s}range`),e.namedNode(`${d}Ontology`),e.namedNode(t)),e.quad(e.namedNode(`${t}shapesGraphWellFormed`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}shapesGraphWellFormed`),e.namedNode(`${s}comment`),e.literal("If true then the validation engine was certain that the shapes graph has passed all SHACL syntax requirements during the validation process.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}shapesGraphWellFormed`),e.namedNode(`${s}domain`),e.namedNode(`${t}ValidationReport`),e.namedNode(t)),e.quad(e.namedNode(`${t}shapesGraphWellFormed`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}shapesGraphWellFormed`),e.namedNode(`${s}label`),e.literal("shapes graph well-formed","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}shapesGraphWellFormed`),e.namedNode(`${s}range`),e.namedNode(`${u}boolean`),e.namedNode(t)),e.quad(e.namedNode(`${t}sourceConstraint`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}sourceConstraint`),e.namedNode(`${s}comment`),e.literal("The constraint that was validated when the result was produced.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}sourceConstraint`),e.namedNode(`${s}domain`),e.namedNode(`${t}AbstractResult`),e.namedNode(t)),e.quad(e.namedNode(`${t}sourceConstraint`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}sourceConstraint`),e.namedNode(`${s}label`),e.literal("source constraint","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}sourceConstraintComponent`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}sourceConstraintComponent`),e.namedNode(`${s}comment`),e.literal("The constraint component that is the source of the result.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}sourceConstraintComponent`),e.namedNode(`${s}domain`),e.namedNode(`${t}AbstractResult`),e.namedNode(t)),e.quad(e.namedNode(`${t}sourceConstraintComponent`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}sourceConstraintComponent`),e.namedNode(`${s}label`),e.literal("source constraint component","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}sourceConstraintComponent`),e.namedNode(`${s}range`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}sourceShape`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}sourceShape`),e.namedNode(`${s}comment`),e.literal("The shape that is was validated when the result was produced.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}sourceShape`),e.namedNode(`${s}domain`),e.namedNode(`${t}AbstractResult`),e.namedNode(t)),e.quad(e.namedNode(`${t}sourceShape`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}sourceShape`),e.namedNode(`${s}label`),e.literal("source shape","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}sourceShape`),e.namedNode(`${s}range`),e.namedNode(`${t}Shape`),e.namedNode(t)),e.quad(e.namedNode(`${t}sparql`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}sparql`),e.namedNode(`${s}comment`),e.literal("Links a shape with SPARQL constraints.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}sparql`),e.namedNode(`${s}domain`),e.namedNode(`${t}Shape`),e.namedNode(t)),e.quad(e.namedNode(`${t}sparql`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}sparql`),e.namedNode(`${s}label`),e.literal("constraint (in SPARQL)","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}sparql`),e.namedNode(`${s}range`),e.namedNode(`${t}SPARQLConstraint`),e.namedNode(t)),e.quad(e.namedNode(`${t}subject`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}subject`),e.namedNode(`${s}comment`),e.literal("An expression producing the resources that shall be inferred as subjects.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}subject`),e.namedNode(`${s}domain`),e.namedNode(`${t}TripleRule`),e.namedNode(t)),e.quad(e.namedNode(`${t}subject`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}subject`),e.namedNode(`${s}label`),e.literal("subject","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}suggestedShapesGraph`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}suggestedShapesGraph`),e.namedNode(`${s}comment`),e.literal("Suggested shapes graphs for this ontology. The values of this property may be used in the absence of specific sh:shapesGraph statements.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}suggestedShapesGraph`),e.namedNode(`${s}domain`),e.namedNode(`${d}Ontology`),e.namedNode(t)),e.quad(e.namedNode(`${t}suggestedShapesGraph`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}suggestedShapesGraph`),e.namedNode(`${s}label`),e.literal("suggested shapes graph","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}suggestedShapesGraph`),e.namedNode(`${s}range`),e.namedNode(`${d}Ontology`),e.namedNode(t)),e.quad(e.namedNode(`${t}sum`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}target`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}target`),e.namedNode(`${s}comment`),e.literal("Links a shape to a target specified by an extension language, for example instances of sh:SPARQLTarget.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}target`),e.namedNode(`${s}domain`),e.namedNode(`${t}Shape`),e.namedNode(t)),e.quad(e.namedNode(`${t}target`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}target`),e.namedNode(`${s}label`),e.literal("target","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}target`),e.namedNode(`${s}range`),e.namedNode(`${t}Target`),e.namedNode(t)),e.quad(e.namedNode(`${t}targetClass`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}targetClass`),e.namedNode(`${s}comment`),e.literal("Links a shape to a class, indicating that all instances of the class must conform to the shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}targetClass`),e.namedNode(`${s}domain`),e.namedNode(`${t}Shape`),e.namedNode(t)),e.quad(e.namedNode(`${t}targetClass`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}targetClass`),e.namedNode(`${s}label`),e.literal("target class","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}targetClass`),e.namedNode(`${s}range`),e.namedNode(`${s}Class`),e.namedNode(t)),e.quad(e.namedNode(`${t}targetNode`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}targetNode`),e.namedNode(`${s}comment`),e.literal("Links a shape to individual nodes, indicating that these nodes must conform to the shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}targetNode`),e.namedNode(`${s}domain`),e.namedNode(`${t}Shape`),e.namedNode(t)),e.quad(e.namedNode(`${t}targetNode`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}targetNode`),e.namedNode(`${s}label`),e.literal("target node","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}targetObjectsOf`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}targetObjectsOf`),e.namedNode(`${s}comment`),e.literal("Links a shape to a property, indicating that all all objects of triples that have the given property as their predicate must conform to the shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}targetObjectsOf`),e.namedNode(`${s}domain`),e.namedNode(`${t}Shape`),e.namedNode(t)),e.quad(e.namedNode(`${t}targetObjectsOf`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}targetObjectsOf`),e.namedNode(`${s}label`),e.literal("target objects of","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}targetObjectsOf`),e.namedNode(`${s}range`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${s}comment`),e.literal("Links a shape to a property, indicating that all subjects of triples that have the given property as their predicate must conform to the shape.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${s}domain`),e.namedNode(`${t}Shape`),e.namedNode(t)),e.quad(e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${s}label`),e.literal("target subjects of","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}targetSubjectsOf`),e.namedNode(`${s}range`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}then`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}this`),e.namedNode(`${a}type`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}this`),e.namedNode(`${s}comment`),e.literal("A node expression that represents the current focus node.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}this`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}this`),e.namedNode(`${s}label`),e.literal("this","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}union`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}union`),e.namedNode(`${s}comment`),e.literal("A list of node expressions that shall be used together.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}union`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}union`),e.namedNode(`${s}label`),e.literal("union","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}uniqueLang`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}uniqueLang`),e.namedNode(`${s}comment`),e.literal("Specifies whether all node values must have a unique (or no) language tag.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}uniqueLang`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}uniqueLang`),e.namedNode(`${s}label`),e.literal("unique languages","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}uniqueLang`),e.namedNode(`${s}range`),e.namedNode(`${u}boolean`),e.namedNode(t)),e.quad(e.namedNode(`${t}update`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}update`),e.namedNode(`${s}comment`),e.literal("The SPARQL UPDATE to execute.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}update`),e.namedNode(`${s}domain`),e.namedNode(`${t}SPARQLUpdateExecutable`),e.namedNode(t)),e.quad(e.namedNode(`${t}update`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}update`),e.namedNode(`${s}label`),e.literal("update","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}update`),e.namedNode(`${s}range`),e.namedNode(`${u}string`),e.namedNode(t)),e.quad(e.namedNode(`${t}validator`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}validator`),e.namedNode(`${s}comment`),e.literal("The validator(s) used to evaluate constraints of either node or property shapes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}validator`),e.namedNode(`${s}domain`),e.namedNode(`${t}ConstraintComponent`),e.namedNode(t)),e.quad(e.namedNode(`${t}validator`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}validator`),e.namedNode(`${s}label`),e.literal("validator","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}validator`),e.namedNode(`${s}range`),e.namedNode(`${t}Validator`),e.namedNode(t)),e.quad(e.namedNode(`${t}value`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}value`),e.namedNode(`${s}comment`),e.literal("An RDF node that has caused the result.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}value`),e.namedNode(`${s}domain`),e.namedNode(`${t}AbstractResult`),e.namedNode(t)),e.quad(e.namedNode(`${t}value`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}value`),e.namedNode(`${s}label`),e.literal("value","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}values`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}xone`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}xone`),e.namedNode(`${s}comment`),e.literal("Specifies a list of shapes so that the value nodes must conform to exactly one of the shapes.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}xone`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}xone`),e.namedNode(`${s}label`),e.literal("exactly one","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}xone`),e.namedNode(`${s}range`),e.namedNode(`${a}List`),e.namedNode(t)),e.quad(e.namedNode(`${t}zeroOrMorePath`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}zeroOrMorePath`),e.namedNode(`${s}comment`),e.literal("The (single) value of this property represents a path that is matched zero or more times.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}zeroOrMorePath`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}zeroOrMorePath`),e.namedNode(`${s}label`),e.literal("zero or more path","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}zeroOrMorePath`),e.namedNode(`${s}range`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(e.namedNode(`${t}zeroOrOnePath`),e.namedNode(`${a}type`),e.namedNode(`${a}Property`),e.namedNode(t)),e.quad(e.namedNode(`${t}zeroOrOnePath`),e.namedNode(`${s}comment`),e.literal("The (single) value of this property represents a path that is matched zero or one times.","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}zeroOrOnePath`),e.namedNode(`${s}isDefinedBy`),e.namedNode(t),e.namedNode(t)),e.quad(e.namedNode(`${t}zeroOrOnePath`),e.namedNode(`${s}label`),e.literal("zero or one path","en"),e.namedNode(t)),e.quad(e.namedNode(`${t}zeroOrOnePath`),e.namedNode(`${s}range`),e.namedNode(`${s}Resource`),e.namedNode(t)),e.quad(m[4],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[4],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[4],e.namedNode(`${t}node`),e.namedNode(`${c}ShapeShape`),e.namedNode(t)),e.quad(m[4],e.namedNode(`${t}path`),e.namedNode(`${t}filterShape`),e.namedNode(t)),e.quad(m[40],e.namedNode(`${a}first`),e.namedNode(`${t}IfExpression`),e.namedNode(t)),e.quad(m[40],e.namedNode(`${a}rest`),m[41],e.namedNode(t)),e.quad(m[16],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[16],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[16],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[16],e.namedNode(`${t}path`),e.namedNode(`${t}nodes`),e.namedNode(t)),e.quad(m[32],e.namedNode(`${t}datatype`),e.namedNode(`${u}string`),e.namedNode(t)),e.quad(m[32],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[32],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[32],e.namedNode(`${t}path`),e.namedNode(`${t}select`),e.namedNode(t)),e.quad(m[6],e.namedNode(`${t}datatype`),e.namedNode(`${u}string`),e.namedNode(t)),e.quad(m[6],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[6],e.namedNode(`${t}path`),e.namedNode(`${t}separator`),e.namedNode(t)),e.quad(m[42],e.namedNode(`${a}first`),e.namedNode(`${t}BlankNodeOrLiteral`),e.namedNode(t)),e.quad(m[42],e.namedNode(`${a}rest`),m[43],e.namedNode(t)),e.quad(m[19],e.namedNode(`${a}first`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(m[19],e.namedNode(`${a}rest`),m[44],e.namedNode(t)),e.quad(m[45],e.namedNode(`${a}first`),e.namedNode(`${t}MinExpression`),e.namedNode(t)),e.quad(m[45],e.namedNode(`${a}rest`),m[46],e.namedNode(t)),e.quad(m[47],e.namedNode(`${a}first`),e.namedNode(`${t}SPARQLAskExpression`),e.namedNode(t)),e.quad(m[47],e.namedNode(`${a}rest`),m[48],e.namedNode(t)),e.quad(m[25],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[25],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[25],e.namedNode(`${t}node`),e.namedNode(`${c}PathShape`),e.namedNode(t)),e.quad(m[25],e.namedNode(`${t}path`),e.namedNode(`${t}path`),e.namedNode(t)),e.quad(m[49],e.namedNode(`${a}first`),e.namedNode(`${t}MinusExpression`),e.namedNode(t)),e.quad(m[49],e.namedNode(`${a}rest`),m[50],e.namedNode(t)),e.quad(m[46],e.namedNode(`${a}first`),e.namedNode(`${t}MaxExpression`),e.namedNode(t)),e.quad(m[46],e.namedNode(`${a}rest`),m[51],e.namedNode(t)),e.quad(m[52],e.namedNode(`${a}first`),e.namedNode(`${t}LimitExpression`),e.namedNode(t)),e.quad(m[52],e.namedNode(`${a}rest`),m[53],e.namedNode(t)),e.quad(m[8],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[8],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[8],e.namedNode(`${t}path`),e.namedNode(`${t}then`),e.namedNode(t)),e.quad(m[44],e.namedNode(`${a}first`),e.namedNode(`${t}IRI`),e.namedNode(t)),e.quad(m[44],e.namedNode(`${a}rest`),m[54],e.namedNode(t)),e.quad(m[55],e.namedNode(`${t}zeroOrMorePath`),e.namedNode(`${a}rest`),e.namedNode(t)),e.quad(m[5],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[5],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[5],e.namedNode(`${t}path`),e.namedNode(`${t}nodes`),e.namedNode(t)),e.quad(m[56],e.namedNode(`${a}first`),m[57],e.namedNode(t)),e.quad(m[56],e.namedNode(`${a}rest`),e.namedNode(`${a}nil`),e.namedNode(t)),e.quad(m[0],e.namedNode(`${t}namespace`),e.literal("http://www.w3.org/ns/shacl#"),e.namedNode(t)),e.quad(m[0],e.namedNode(`${t}prefix`),e.literal("sh"),e.namedNode(t)),e.quad(m[58],e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNode`),e.namedNode(t)),e.quad(m[58],e.namedNode(`${t}not`),m[59],e.namedNode(t)),e.quad(m[18],e.namedNode(`${a}first`),e.namedNode(`${t}FocusNodeOrConstantTermExpression`),e.namedNode(t)),e.quad(m[18],e.namedNode(`${a}rest`),m[60],e.namedNode(t)),e.quad(m[15],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[15],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[15],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[15],e.namedNode(`${t}path`),e.namedNode(`${t}min`),e.namedNode(t)),e.quad(m[30],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[30],e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNodeOrIRI`),e.namedNode(t)),e.quad(m[30],e.namedNode(`${t}path`),e.namedNode(`${t}prefixes`),e.namedNode(t)),e.quad(m[61],e.namedNode(`${a}first`),m[55],e.namedNode(t)),e.quad(m[61],e.namedNode(`${a}rest`),m[62],e.namedNode(t)),e.quad(m[1],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[1],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[1],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[1],e.namedNode(`${t}path`),e.namedNode(`${t}count`),e.namedNode(t)),e.quad(m[12],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[12],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[12],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[12],e.namedNode(`${t}path`),e.namedNode(`${t}nodes`),e.namedNode(t)),e.quad(m[33],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[33],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[33],e.namedNode(`${t}path`),e.namedNode(`${t}nodes`),e.namedNode(t)),e.quad(m[63],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[63],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[63],e.namedNode(`${t}node`),e.namedNode(`${p}ListShape`),e.namedNode(t)),e.quad(m[63],e.namedNode(`${t}path`),e.namedNode(`${t}intersection`),e.namedNode(t)),e.quad(m[63],e.namedNode(`${t}property`),m[64],e.namedNode(t)),e.quad(m[13],e.namedNode(`${t}datatype`),e.namedNode(`${u}integer`),e.namedNode(t)),e.quad(m[13],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[13],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[13],e.namedNode(`${t}path`),e.namedNode(`${t}limit`),e.namedNode(t)),e.quad(m[59],e.namedNode(`${a}first`),e.namedNode(`${t}ExistsExpression`),e.namedNode(t)),e.quad(m[59],e.namedNode(`${a}rest`),m[40],e.namedNode(t)),e.quad(m[36],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[36],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[36],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[36],e.namedNode(`${t}path`),e.namedNode(`${t}object`),e.namedNode(t)),e.quad(m[2],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[2],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[2],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[2],e.namedNode(`${t}path`),e.namedNode(`${t}distinct`),e.namedNode(t)),e.quad(m[65],e.namedNode(`${a}first`),e.namedNode(`${t}IntersectionExpression`),e.namedNode(t)),e.quad(m[65],e.namedNode(`${a}rest`),m[66],e.namedNode(t)),e.quad(m[57],e.namedNode(`${t}xone`),m[59],e.namedNode(t)),e.quad(m[34],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[34],e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNodeOrIRI`),e.namedNode(t)),e.quad(m[34],e.namedNode(`${t}path`),e.namedNode(`${t}prefixes`),e.namedNode(t)),e.quad(m[67],e.namedNode(`${a}first`),e.namedNode(`${t}GroupConcatExpression`),e.namedNode(t)),e.quad(m[67],e.namedNode(`${a}rest`),m[68],e.namedNode(t)),e.quad(m[20],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[20],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[20],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[20],e.namedNode(`${t}path`),e.namedNode(`${t}nodes`),e.namedNode(t)),e.quad(m[69],e.namedNode(`${t}property`),m[63],e.namedNode(t)),e.quad(m[27],e.namedNode(`${t}datatype`),e.namedNode(`${u}string`),e.namedNode(t)),e.quad(m[27],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[27],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[27],e.namedNode(`${t}path`),e.namedNode(`${t}ask`),e.namedNode(t)),e.quad(m[28],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[28],e.namedNode(`${t}nodeKind`),e.namedNode(`${t}BlankNodeOrIRI`),e.namedNode(t)),e.quad(m[28],e.namedNode(`${t}path`),e.namedNode(`${t}prefixes`),e.namedNode(t)),e.quad(m[64],e.namedNode(`${t}minCount`),e.literal("2",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[64],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[64],e.namedNode(`${t}path`),m[61],e.namedNode(t)),e.quad(m[22],e.namedNode(`${t}datatype`),e.namedNode(`${u}boolean`),e.namedNode(t)),e.quad(m[22],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[22],e.namedNode(`${t}path`),e.namedNode(`${t}desc`),e.namedNode(t)),e.quad(m[29],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[29],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[29],e.namedNode(`${t}path`),e.namedNode(`${t}nodes`),e.namedNode(t)),e.quad(m[41],e.namedNode(`${a}first`),e.namedNode(`${t}FilterShapeExpression`),e.namedNode(t)),e.quad(m[41],e.namedNode(`${a}rest`),m[70],e.namedNode(t)),e.quad(m[62],e.namedNode(`${a}first`),e.namedNode(`${a}first`),e.namedNode(t)),e.quad(m[62],e.namedNode(`${a}rest`),e.namedNode(`${a}nil`),e.namedNode(t)),e.quad(m[48],e.namedNode(`${a}first`),e.namedNode(`${t}SPARQLSelectExpression`),e.namedNode(t)),e.quad(m[48],e.namedNode(`${a}rest`),e.namedNode(`${a}nil`),e.namedNode(t)),e.quad(m[26],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[26],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[26],e.namedNode(`${t}path`),e.namedNode(`${t}nodes`),e.namedNode(t)),e.quad(m[71],e.namedNode(`${a}first`),e.namedNode(`${t}CountExpression`),e.namedNode(t)),e.quad(m[71],e.namedNode(`${a}rest`),m[45],e.namedNode(t)),e.quad(m[7],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[7],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[7],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[7],e.namedNode(`${t}path`),e.namedNode(`${t}groupConcat`),e.namedNode(t)),e.quad(m[54],e.namedNode(`${a}first`),e.namedNode(`${t}Literal`),e.namedNode(t)),e.quad(m[54],e.namedNode(`${a}rest`),m[72],e.namedNode(t)),e.quad(m[23],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[23],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[23],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[23],e.namedNode(`${t}path`),e.namedNode(`${t}nodes`),e.namedNode(t)),e.quad(m[21],e.namedNode(`${t}datatype`),e.namedNode(`${u}integer`),e.namedNode(t)),e.quad(m[21],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[21],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[21],e.namedNode(`${t}path`),e.namedNode(`${t}offset`),e.namedNode(t)),e.quad(m[50],e.namedNode(`${a}first`),e.namedNode(`${t}DistinctExpression`),e.namedNode(t)),e.quad(m[50],e.namedNode(`${a}rest`),m[71],e.namedNode(t)),e.quad(m[14],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[14],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[14],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[14],e.namedNode(`${t}path`),e.namedNode(`${t}max`),e.namedNode(t)),e.quad(m[51],e.namedNode(`${a}first`),e.namedNode(`${t}SumExpression`),e.namedNode(t)),e.quad(m[51],e.namedNode(`${a}rest`),m[67],e.namedNode(t)),e.quad(m[68],e.namedNode(`${a}first`),e.namedNode(`${t}OrderByExpression`),e.namedNode(t)),e.quad(m[68],e.namedNode(`${a}rest`),m[52],e.namedNode(t)),e.quad(m[60],e.namedNode(`${a}first`),m[58],e.namedNode(t)),e.quad(m[60],e.namedNode(`${a}rest`),m[56],e.namedNode(t)),e.quad(m[24],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[24],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[24],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[24],e.namedNode(`${t}path`),e.namedNode(`${t}orderBy`),e.namedNode(t)),e.quad(m[35],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[35],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[35],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[35],e.namedNode(`${t}path`),e.namedNode(`${t}sum`),e.namedNode(t)),e.quad(m[3],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[3],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[3],e.namedNode(`${t}node`),e.namedNode(`${c}ShapeShape`),e.namedNode(t)),e.quad(m[3],e.namedNode(`${t}path`),e.namedNode(`${t}exists`),e.namedNode(t)),e.quad(m[37],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[37],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[37],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[37],e.namedNode(`${t}path`),e.namedNode(`${t}subject`),e.namedNode(t)),e.quad(m[11],e.namedNode(`${t}and`),m[73],e.namedNode(t)),e.quad(m[11],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[11],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[11],e.namedNode(`${t}node`),e.namedNode(`${p}ListShape`),e.namedNode(t)),e.quad(m[11],e.namedNode(`${t}path`),e.namedNode(`${t}intersection`),e.namedNode(t)),e.quad(m[9],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[9],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[9],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[9],e.namedNode(`${t}path`),e.namedNode(`${t}if`),e.namedNode(t)),e.quad(m[53],e.namedNode(`${a}first`),e.namedNode(`${t}OffsetExpression`),e.namedNode(t)),e.quad(m[53],e.namedNode(`${a}rest`),m[47],e.namedNode(t)),e.quad(m[72],e.namedNode(`${a}first`),e.namedNode(`${t}BlankNodeOrIRI`),e.namedNode(t)),e.quad(m[72],e.namedNode(`${a}rest`),m[42],e.namedNode(t)),e.quad(m[70],e.namedNode(`${a}first`),e.namedNode(`${t}PathExpression`),e.namedNode(t)),e.quad(m[70],e.namedNode(`${a}rest`),m[65],e.namedNode(t)),e.quad(m[38],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[38],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[38],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[38],e.namedNode(`${t}path`),e.namedNode(`${t}predicate`),e.namedNode(t)),e.quad(m[39],e.namedNode(`${t}and`),m[74],e.namedNode(t)),e.quad(m[39],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[39],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[39],e.namedNode(`${t}node`),e.namedNode(`${p}ListShape`),e.namedNode(t)),e.quad(m[39],e.namedNode(`${t}path`),e.namedNode(`${t}union`),e.namedNode(t)),e.quad(m[66],e.namedNode(`${a}first`),e.namedNode(`${t}UnionExpression`),e.namedNode(t)),e.quad(m[66],e.namedNode(`${a}rest`),m[49],e.namedNode(t)),e.quad(m[10],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[10],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[10],e.namedNode(`${t}path`),e.namedNode(`${t}else`),e.namedNode(t)),e.quad(m[17],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[17],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[17],e.namedNode(`${t}node`),e.namedNode(`${t}NodeExpression`),e.namedNode(t)),e.quad(m[17],e.namedNode(`${t}path`),e.namedNode(`${t}minus`),e.namedNode(t)),e.quad(m[74],e.namedNode(`${a}first`),m[75],e.namedNode(t)),e.quad(m[74],e.namedNode(`${a}rest`),e.namedNode(`${a}nil`),e.namedNode(t)),e.quad(m[73],e.namedNode(`${a}first`),m[75],e.namedNode(t)),e.quad(m[73],e.namedNode(`${a}rest`),e.namedNode(`${a}nil`),e.namedNode(t)),e.quad(m[31],e.namedNode(`${t}datatype`),e.namedNode(`${u}string`),e.namedNode(t)),e.quad(m[31],e.namedNode(`${t}maxCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[31],e.namedNode(`${t}minCount`),e.literal("1",e.namedNode(`${u}integer`)),e.namedNode(t)),e.quad(m[31],e.namedNode(`${t}path`),e.namedNode(`${t}construct`),e.namedNode(t)),e.quad(m[43],e.namedNode(`${a}first`),e.namedNode(`${t}IRIOrLiteral`),e.namedNode(t)),e.quad(m[43],e.namedNode(`${a}rest`),e.namedNode(`${a}nil`),e.namedNode(t))]})({factory:this.factory}),r=this.factory.dataset(n.concat([...i]));this.$shapes=xa({dataset:r,factory:this.factory}),this.shapesGraph=new s6(this)}nodeConformsToShape(i,n,r=this.validationEngine.clone()){let o=this.shapesGraph.getShape(n);try{return this.depth++,!r.validateNodeAgainstShape(i,o,this.$data)}finally{this.depth--}}validateNodeAgainstShape(i,n){return this.nodeConformsToShape(i,n,this.validationEngine)}},j1=function(i,n,r,o){return new(r||(r=Promise))(function(e,t){function a(c){try{s(o.next(c))}catch(u){t(u)}}function d(c){try{s(o.throw(c))}catch(u){t(u)}}function s(c){var u;c.done?e(c.value):(u=c.value,u instanceof r?u:new r(function(p){p(u)})).then(a,d)}s((o=o.apply(i,n||[])).next())})},tm=class extends HTMLElement{static get observedAttributes(){return Ta.dataAttributes()}constructor(n){super(),this.shape=null,this.attachShadow({mode:"open"}),this.form=document.createElement("form"),this.config=new Ta(n,this.form),this.form.addEventListener("change",r=>{r.stopPropagation(),this.config.editMode&&this.validate(!0).then(o=>{this.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1,composed:!0,detail:{valid:o}}))}).catch(o=>{console.log(o)})})}connectedCallback(){this.shadowRoot.prepend(this.form)}attributeChangedCallback(){this.config.updateAttributes(this),this.initialize()}initialize(){clearTimeout(this.initDebounceTimeout),this.initDebounceTimeout=setTimeout(()=>j1(this,void 0,void 0,function*(){this.form.replaceChildren(document.createTextNode(this.config.attributes.loading));try{yield this.config.loader.loadGraphs(),this.form.replaceChildren();let n=this.findRootShaclShapeSubject();if(n){this.form.classList.forEach(o=>{this.form.classList.remove(o)}),this.form.classList.toggle("mode-edit",this.config.editMode),this.form.classList.toggle("mode-view",!this.config.editMode),this.config.theme.apply(this.form);let r=[this.config.theme.stylesheet];for(let o of Object.entries(wa).map(e=>e[1]))o.stylesheet&&r.push(o.stylesheet);if(this.shadowRoot.adoptedStyleSheets=r,this.shape=new dr(n,this.config,this.config.attributes.valuesSubject?Bt.namedNode(this.config.attributes.valuesSubject):void 0),this.form.appendChild(this.shape),this.config.editMode){if(this.config.attributes.submitButton!==null){let o=this.config.theme.createButton(this.config.attributes.submitButton||"Submit",!0);o.addEventListener("click",e=>{e.preventDefault(),this.form.reportValidity()&&this.validate().then(t=>{var a;t?this.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0})):(a=this.form.querySelector(":scope .invalid > .editor"))===null||a===void 0||a.focus()})}),this.form.appendChild(o)}yield this.validate(!0)}}else if(this.config.shapesGraph.size>0)throw new Error("shacl root node shape not found")}catch(n){console.error(n);let r=document.createElement("div");r.innerText=String(n),this.form.replaceChildren(r)}}),200)}serialize(n="text/turtle",r=this.toRDF()){return function(o,e,t){if(e==="application/ld+json")return function(a){let d=[];for(let s of a){let c={"@id":s.subject.id};if(s.predicate===$n)c["@type"]=s.object.id;else{let u=s.object.value;s.object instanceof _i?s.object.language?u={"@language":s.object.language,"@value":s.object.value}:s.object.datatype&&s.object.datatype.value!==`${lr}#string`&&(u={"@type":s.object.datatype.value,"@value":s.object.value}):u={"@id":s.object.id},c[s.predicate.value]=u}d.push(c)}return JSON.stringify(d)}(o);{let a=new Du({format:e,prefixes:t});a.addQuads(o);let d="";return a.end((s,c)=>{s&&console.error(s),d=c}),d}}(r.getQuads(null,null,null,null),n,this.config.prefixes)}toRDF(n=new Do){var r;return(r=this.shape)===null||r===void 0||r.toRDF(n),n}registerPlugin(n){G1(n),this.initialize()}setTheme(n){this.config.theme=n,this.initialize()}setClassInstanceProvider(n){this.config.classInstanceProvider=n,this.initialize()}validate(){return j1(this,arguments,void 0,function*(n=!1){var r,o,e;for(let t of this.form.querySelectorAll(":scope .validation-error"))t.remove();for(let t of this.form.querySelectorAll(":scope .property-instance"))t.classList.remove("invalid"),!((r=t.querySelector(":scope > .editor"))===null||r===void 0)&&r.value?t.classList.add("valid"):t.classList.remove("valid");this.config.shapesGraph.deleteGraph(""),(o=this.shape)===null||o===void 0||o.toRDF(this.config.shapesGraph);try{let t=yield new h6(this.config.shapesGraph).validate(this.config.shapesGraph);for(let a of t.results){let d=a.focusNode;if(a.path){let s=a.path,c=this.form.querySelectorAll(`:scope [data-node-id='${d.id}'] [data-path='${s.id}'] > .editor`);c.length===0&&(c=this.form.querySelectorAll(`:scope [data-node-id='${d.id}'] [data-path='${s.id}']`));for(let u of c)if(u.classList.contains("editor")){if(!n||u.value){let p=u.parentElement;p.classList.add("invalid"),p.classList.remove("valid"),p.appendChild(this.createValidationErrorDisplay(a));do p.classList.contains("collapsible")&&p.classList.add("open"),p=p.parentElement;while(p)}}else n||(u.classList.add("invalid"),u.classList.remove("valid"),u.appendChild(this.createValidationErrorDisplay(a,"node")))}else n||(e=this.form.querySelector(`:scope [data-node-id='${d.id}']`))===null||e===void 0||e.prepend(this.createValidationErrorDisplay(a,"node"))}return t.conforms}catch(t){return console.error(t),!1}})}createValidationErrorDisplay(n,r){var o,e;let t=document.createElement("span");if(t.classList.add("validation-error"),r&&t.classList.add(r),n)if(((o=n.message)===null||o===void 0?void 0:o.length)>0)for(let a of n.message)t.title+=a.value+`
`;else t.title=(e=n.sourceConstraintComponent)===null||e===void 0?void 0:e.value;return t}findRootShaclShapeSubject(){let n=null;if(this.config.attributes.shapeSubject){if(n=Bt.namedNode(this.config.attributes.shapeSubject),!this.config.shapesGraph.has(new Oo(n,$n,Md,Yt)))return void console.warn(`shapes graph does not contain requested root shape ${this.config.attributes.shapeSubject}`)}else if(this.config.attributes.valuesSubject&&this.config.dataGraph.size>0){let r=Bt.namedNode(this.config.attributes.valuesSubject),o=this.config.dataGraph.getQuads(r,$n,null,null);if(o.length===0)return void console.warn(`value subject '${this.config.attributes.valuesSubject}' has no ${$n.id} statement`);for(let e of o)if(this.config.shapesGraph.has(new Oo(e.object,$n,Md,Yt))){n=e.object;break}if(!n){let e=this.config.shapesGraph.getQuads(null,sm,o[0].object,Yt);if(e.length===0)return void console.error(`value subject '${this.config.attributes.valuesSubject}' has no shacl shape definition in the shapes graph`);if(e.length>1&&console.warn(`value subject '${this.config.attributes.valuesSubject}' has multiple shacl shape definitions in the shapes graph, choosing the first found (${e[0].subject})`),this.config.shapesGraph.getQuads(e[0].subject,$n,Md,Yt).length===0)return void console.error(`value subject '${this.config.attributes.valuesSubject}' references a shape which is not a NodeShape (${e[0].subject})`);n=e[0].subject}}else{let r=this.config.shapesGraph.getQuads(null,$n,Md,Yt);if(r.length==0)return void console.warn("shapes graph does not contain any root shapes");r.length>1&&(console.warn("shapes graph contains",r.length,"root shapes. choosing first found which is",r[0].subject.value),console.info('hint: set the shape to use with attribute "data-shape-subject"')),n=r[0].subject}return n}},nm=class extends jd{constructor(n){super(n||`.editor:not([type='checkbox']) { border: 1px solid #DDD; padding: 2px 4px; }
.property-instance label { display: inline-block; word-break: break-word; line-height: 1em; padding-top: 0.15em; padding-right: 1em; flex-shrink: 0; position: relative; }
.property-instance:not(:first-child) > label { visibility: hidden; max-height: 0; }
.mode-edit .property-instance label { width: var(--label-width); }
`),this.idCtr=0}createDefaultTemplate(n,r,o,e,t){var a;e.id="e"+this.idCtr++,e.classList.add("editor"),t?.datatype&&(e.shaclDatatype=t.datatype),t?.minCount!==void 0&&(e.dataset.minCount=String(t.minCount)),t?.class&&(e.dataset.class=t.class.value),t?.nodeKind&&(e.dataset.nodeKind=t.nodeKind.value),t?.hasValue&&(e.disabled=!0),e.value=r?.value||((a=t?.defaultValue)===null||a===void 0?void 0:a.value)||"";let d=document.createElement("label");d.htmlFor=e.id,d.innerText=n,t?.description&&d.setAttribute("title",t.description.value);let s=t?.description?t.description.value:t?.pattern?t.pattern:null;s&&e.setAttribute("placeholder",s),o&&(e.setAttribute("required","true"),d.classList.add("required"));let c=document.createElement("div");return c.appendChild(d),c.appendChild(e),c}createDateEditor(n,r,o,e){var t,a;let d=document.createElement("input");((t=e.datatype)===null||t===void 0?void 0:t.value)===lr+"dateTime"?(d.type="datetime-local",d.setAttribute("step","1")):d.type="date",d.classList.add("pr-0");let s=this.createDefaultTemplate(n,null,o,d,e);if(r)try{let c=new Date(r.value).toISOString();c=((a=e.datatype)===null||a===void 0?void 0:a.value)===lr+"dateTime"?c.slice(0,19):c.slice(0,10),d.value=c}catch(c){console.error(c,r)}return s}createTextEditor(n,r,o,e){let t;return e.singleLine===!1?(t=document.createElement("textarea"),t.rows=5):(t=document.createElement("input"),t.type="text",e.pattern&&(t.pattern=e.pattern)),e.minLength&&(t.minLength=e.minLength),e.maxLength&&(t.maxLength=e.maxLength),this.createDefaultTemplate(n,r,o,t,e)}createLangStringEditor(n,r,o,e){var t;let a=this.createTextEditor(n,r,o,e),d=a.querySelector(":scope .editor"),s;if(!((t=e.languageIn)===null||t===void 0)&&t.length){s=document.createElement("select");for(let c of e.languageIn){let u=document.createElement("option");u.innerText=c.value,s.appendChild(u)}}else s=document.createElement("input"),s.maxLength=5,s.placeholder="lang?";return s.title="Language of the text",s.classList.add("lang-chooser"),s.addEventListener("change",c=>{c.stopPropagation(),d&&(d.dataset.lang=s.value,d.dispatchEvent(new Event("change",{bubbles:!0})))}),r instanceof _i&&(s.value=r.language),d.dataset.lang=s.value,d.after(s),a}createBooleanEditor(n,r,o,e){var t;let a=document.createElement("input");a.type="checkbox",a.classList.add("ml-0");let d=this.createDefaultTemplate(n,null,o,a,e);return a.removeAttribute("required"),(t=d.querySelector(":scope label"))===null||t===void 0||t.classList.remove("required"),r instanceof _i&&(a.checked=r.value==="true"),d}createFileEditor(n,r,o,e){let t=document.createElement("input");return t.type="file",t.addEventListener("change",a=>{var d;if(!((d=t.files)===null||d===void 0)&&d.length){a.stopPropagation();let s=new FileReader;s.readAsDataURL(t.files[0]),s.onload=()=>{var c;t.binaryData=btoa(s.result),(c=t.parentElement)===null||c===void 0||c.dispatchEvent(new Event("change",{bubbles:!0}))}}else t.binaryData=void 0}),this.createDefaultTemplate(n,r,o,t,e)}createNumberEditor(n,r,o,e){var t;let a=document.createElement("input");a.type="number",a.classList.add("pr-0");let d=e.minInclusive!==void 0?e.minInclusive:e.minExclusive!==void 0?e.minExclusive+1:void 0,s=e.maxInclusive!==void 0?e.maxInclusive:e.maxExclusive!==void 0?e.maxExclusive-1:void 0;return d!==void 0&&(a.min=String(d)),s!==void 0&&(a.max=String(s)),((t=e.datatype)===null||t===void 0?void 0:t.value)!==lr+"integer"&&(a.step="0.1"),this.createDefaultTemplate(n,r,o,a,e)}createListEditor(n,r,o,e,t){let a=document.createElement("select"),d=this.createDefaultTemplate(n,null,o,a,t),s=!0;for(let c of e){let u=document.createElement("option"),p=typeof c.value=="string"?c.value:c.value.value;u.innerHTML=c.label?c.label:p,u.value=p,r&&r.value===p&&(u.selected=!0),p===""&&(s=!1),a.appendChild(u)}if(s){let c=document.createElement("option");c.value="",r||(c.selected=!0),a.prepend(c)}return r&&(a.value=r.value),d}createButton(n,r){let o=document.createElement("button");return o.type="button",o.innerHTML=n,o}},Zd=class extends tm{constructor(){super(new nm)}};window.customElements.define("shacl-form",Zd);var nL=ho.TS,iL=ho.aH,oL=ho.k_,rL=ho.a6,sL=ho.nt,aL=ho.Sx,lL=ho.E7,dL=ho.F3;function u6(i,n){if(i&1&&(kt(0),xe(1,"li")(2,"a"),Ve(3),Ne()(),ke(4,"shacl-form",7),Pt()),i&2){let r=n.$implicit;oe(3),Ht(r)}}var r2=(()=>{let n=class n{constructor(o){this.drawerService=o,this.drawerItems=[],this.drawerSubscription=new Ja,this.opened=!1}ngOnInit(){this.drawerSubscription=this.drawerService.drawerItems$.subscribe(o=>{o.length>0&&(this.drawerItems=o,this.openDrawer())})}ngOnDestroy(){this.drawerSubscription&&this.drawerSubscription.unsubscribe()}openDrawer(){this.opened=!0}};n.\u0275fac=function(e){return new(e||n)(be(Zr))},n.\u0275cmp=Fe({type:n,selectors:[["app-drawer"]],standalone:!0,features:[$e],decls:7,vars:2,consts:[[1,"drawer","drawer-end"],["id","my-drawer-4","type","checkbox",1,"drawer-toggle",3,"checked"],[1,"drawer-content"],[1,"drawer-side"],["for","my-drawer-4","aria-label","close sidebar",1,"drawer-overlay"],[1,"menu","bg-base-200","text-base-content","min-h-full","w-100","p-4"],[4,"ngFor","ngForOf"],["id","shacl-form","data-collapse","open","data-view","","data-values-subject","http://example.org/4f2a8de3-9fc8-40a9-9237-d5964520ec54","data-shapes",`@prefix dash:    <http://datashapes.org/dash#> .
          @prefix dbpedia: <http://dbpedia.org/ontology/> .
          @prefix dcat:    <http://www.w3.org/ns/dcat#> .
          @prefix dcterms: <http://purl.org/dc/terms/> .
          @prefix foaf:    <http://xmlns.com/foaf/0.1/> .
          @prefix geo:     <http://www.opengis.net/ont/geosparql#> .
          @prefix owl:     <http://www.w3.org/2002/07/owl#> .
          @prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
          @prefix rdfs:    <http://www.w3.org/2000/01/rdf-schema#> .
          @prefix schema:  <http://schema.org/> .
          @prefix sh:      <http://www.w3.org/ns/shacl#> .
          @prefix xsd:     <http://www.w3.org/2001/XMLSchema#> .
          @prefix prov:    <http://www.w3.org/ns/prov#> .
          @prefix example: <http://example.org/> .
          
          example:ArchitectureModelDataset
            a               sh:NodeShape, rdfs:Class ;
            sh:node         example:Dataset ;
          
            sh:property   [ sh:description  "Location of the building" ;
                            sh:name         "Location" ;
                            sh:node         example:Location ;
                            sh:path         dcterms:spatial
                          ] ;
            sh:property   [ sh:datatype     xsd:integer ;
                            sh:description  "Width [mm] of the model" ;
                            sh:group        example:PhysicalPropertiesGroup ;
                            sh:maxCount     1 ;
                            sh:minInclusive 1 ;
                            sh:name         "Width" ;
                            sh:path         schema:width
                          ] ;
            sh:property   [ sh:datatype     xsd:integer ;
                            sh:description  "Height [mm] of the model" ;
                            sh:group        example:PhysicalPropertiesGroup ;
                            sh:maxCount     1 ;
                            sh:minInclusive 1 ;
                            sh:name         "Height" ;
                            sh:path         schema:height
                          ] ;
            sh:property   [ sh:datatype     xsd:integer ;
                            sh:description  "Depth [mm] of the model" ;
                            sh:group        example:PhysicalPropertiesGroup ;
                            sh:maxCount     1 ;
                            sh:minInclusive 1 ;
                            sh:name         "Depth" ;
                            sh:path         schema:depth
                          ] ;
            sh:property   [ sh:datatype     xsd:string ;
                            sh:description  "Scale of the model, e.g. 1:20" ;
                            sh:group        example:PhysicalPropertiesGroup ;
                            sh:maxCount     1 ;
                            sh:name         "Scale" ;
                            sh:path         dbpedia:scale ;
                            sh:pattern      "^\\\\d+:\\\\d+$"
                          ] ;
            sh:property   [ sh:description  "Material used with this model"@en , "Beim Bau des Modells verwendetes Material"@de ;
                            sh:group        example:PhysicalPropertiesGroup ;
                            sh:name         "Artwork material" ;
                            sh:path         schema:artworkSurface ;
                            sh:class        example:Material ;
                          ] .
          
          example:Dataset
            a               sh:NodeShape, rdfs:Class ;
            sh:property   [ sh:datatype     rdf:langString ;
                            sh:languageIn   ( "en" "de" ) ;
                            sh:uniqueLang   true ;
                            sh:description  "Name of the dataset" , "Der Name des Datensatzes"@de ;
                            sh:minCount     1 ;
                            sh:maxCount     2 ;
                            sh:name         "Name" ;
                            sh:path         dcterms:title
                          ] ;
            sh:property   [ dash:singleLine false ;
                            sh:datatype     rdf:langString ;
                            sh:languageIn   ( "en" "de" ) ;
                            sh:uniqueLang   true ;
                            sh:description  "Description of the dataset" ;
                            sh:minCount     1 ;
                            sh:maxCount     2 ;
                            sh:name         "Description" ;
                            sh:path         dcterms:description
                          ] ;
            sh:property   [ sh:description  "License of the dataset" ;
                            sh:maxCount     1 ;
                            sh:minCount     1 ;
                            sh:name         "License" ;
                            sh:nodeKind     sh:IRI ;
                            sh:path         dcterms:license ;
                            sh:in (
                              # see below how labels are added to the list entries
                              <http://creativecommons.org/licenses/by/4.0/>
                              <http://creativecommons.org/licenses/by-nc/4.0/>
                            )
                          ] ;
            sh:property   [ sh:datatype     xsd:date ;
                            sh:description  "Date this dataset has been issued" ;
                            sh:maxCount     1 ;
                            sh:minCount     1 ;
                            sh:name         "Issued" ;
                            sh:path         dcterms:issued
                          ] ;
            sh:property   [ sh:name         "Attribution" ;
                            sh:node         example:Attribution ;
                            sh:path         prov:qualifiedAttribution ;
                          ] ;
            sh:targetClass  dcat:Dataset .
          
          example:PhysicalPropertiesGroup
            a               sh:PropertyGroup ;
            rdfs:label      "Physical properties" .
          
          example:Location
            a               sh:NodeShape ;
            rdfs:label      "Location" ;
            sh:property   [ sh:datatype     geo:wktLiteral ;
                            sh:description  "Format WKT, e.g. POINT(8.65 49.87)" ;
                            sh:maxCount     1 ;
                            sh:minCount     1 ;
                            sh:name         "Coordinates" ;
                            sh:path         geo:asWKT ;
                            sh:pattern      "^POINT\\\\([+\\\\-]?(?:[0-9]*[.])?[0-9]+ [+\\\\-]?(?:[0-9]*[.])?[0-9]+\\\\)|POLYGON\\\\(\\\\((?:[+\\\\-]?(?:[0-9]*[.])?[0-9]+[ ,]?){3,}\\\\)\\\\)$"
                          ] ;
            sh:property   [ dash:singleLine false ;
                            sh:description  "Description of the location" ;
                            sh:maxCount     1 ;
                            sh:name         "Description" ;
                            sh:path         dcterms:description
                          ] ;
            sh:targetClass  dcterms:Location .
          
          example:Person
            a               sh:NodeShape ;
            rdfs:label      "Person" ;
            sh:property   [ sh:maxCount     1 ;
                            sh:minCount     1 ;
                            sh:name         "Name" ;
                            sh:path         foaf:name
                          ] ;
            sh:property   [ sh:datatype     xsd:string ;
                            sh:maxCount     1 ;
                            sh:name         "ORCID ID" ;
                            sh:path         dcterms:identifier ;
                            sh:pattern      "^https://orcid.org/\\\\d{4}-\\\\d{4}-\\\\d{4}-\\\\d{4}$"
                          ] ;
            sh:targetClass  foaf:Person .
          
          example:Organisation
            a               sh:NodeShape ;
            rdfs:label      "Organisation" ;
            sh:property   [ sh:maxCount     1 ;
                            sh:minCount     1 ;
                            sh:name         "Name" ;
                            sh:path         foaf:name
                          ] ;
            sh:property   [ sh:name         "Address" ;
                            sh:path         example:Address
                          ] ;
            sh:targetClass  foaf:Organisation .
          
          example:Attribution
            a               sh:NodeShape ;
            # Import an external taxonomy to the shapes graph.
            # In this case, the taxonomy provides class instances of prov:Role,
            # which will be displayed in a dropdown to select from.
            owl:imports     <https://w3id.org/nfdi4ing/metadata4ing/> ;
          
            sh:property   [ sh:maxCount  1 ;
                            sh:minCount  1 ;
                            sh:path      prov:agent ;
                            sh:or (
                              [ sh:node example:Person ; rdfs:label "Person" ]
                              [ sh:node example:Organisation ; rdfs:label "Organisation" ]
                            )
                          ] ;
            sh:property   [ sh:name      "Role" ;
                            sh:minCount  1 ;
                            sh:path      dcat:hadRole ;
                            sh:class     prov:Role ;
                          ] ;
            sh:targetClass  prov:Attribution .
          
          # add a label to the license IRIs
          <http://creativecommons.org/licenses/by/4.0/>    rdfs:label "CC-BY" .
          <http://creativecommons.org/licenses/by-nc/4.0/> rdfs:label "CC-BY-NC" .
          `,"data-values",`@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
          @prefix schema: <http://schema.org/> .
          @prefix dcterms: <http://purl.org/dc/terms/> .
          @prefix dcat: <http://www.w3.org/ns/dcat#> .
          @prefix geo: <http://www.opengis.net/ont/geosparql#> .
          @prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
          @prefix example: <http://example.org/> .
          @prefix foaf: <http://xmlns.com/foaf/0.1/> .
          @prefix prov: <http://www.w3.org/ns/prov#> .
          
          example:4f2a8de3-9fc8-40a9-9237-d5964520ec54
            a dcat:Dataset, example:ArchitectureModelDataset ;
            dcterms:title "Einsteinturm"@de, "Einstein Tower"@en ;
            dcterms:description "Modell des Einsteinturms"@de, "Model of the Einstein Tower"@en ;
            dcterms:issued "2023-07-27"^^xsd:date ;
            dcterms:license <http://creativecommons.org/licenses/by/4.0/> ;
            schema:artworkSurface example:plaster ;
            schema:width 200 ;
            dcterms:spatial [
              a dcterms:Location ;
              geo:asWKT "POLYGON((13.06382134836241 52.37900504575066,13.063796707503286 52.37896794299019,13.063798350228126 52.37875635638159,13.063926482692182 52.37875435081642,13.0639281254158 52.378964934657034,13.063905127281544 52.37900404297392,13.06382134836241 52.37900504575066))"^^geo:wktLiteral ;
              dcterms:description "Building has been realized here" ;
            ] ;
            dcterms:spatial [
              a dcterms:Location ;
              geo:asWKT "POINT(8.681927539753275 50.09895428462539)"^^geo:wktLiteral ;
              dcterms:description "Model is stored here" ;
            ] ;
            prov:qualifiedAttribution [
              a prov:Attribution ;
              prov:agent [
                a foaf:Person ;
                foaf:name "Jane Doe";
                dcterms:identifier "https://orcid.org/0000-0002-1584-4316" ;
              ] ;
              dcat:hadRole <http://w3id.org/nfdi4ing/metadata4ing#DataCollector> ;
            ] .
          `]],template:function(e,t){e&1&&(xe(0,"div",0),ke(1,"input",1)(2,"div",2),xe(3,"div",3),ke(4,"label",4),xe(5,"ul",5),Me(6,u6,5,1,"ng-container",6),Ne()()()),e&2&&(oe(),te("checked",t.opened),oe(5),te("ngForOf",t.drawerItems))},dependencies:[pi,wt],styles:[".drawer[_ngcontent-%COMP%]{position:relative;z-index:1000}"]});let i=n;return i})();var s2=(()=>{let n=class n{constructor(o){this.router=o}};n.\u0275fac=function(e){return new(e||n)(be(Ot))},n.\u0275cmp=Fe({type:n,selectors:[["app-home-intro-below-search"]],standalone:!0,features:[$e],decls:22,vars:18,consts:[[1,"text-center","mt-12","text-base","sm:text-lg","sm:w-3/4","px-2","mx-auto"],[1,"font-bold"],[1,"mx-auto","text-center","my-6"],[1,"rounded-full","bg-black","h-6","w-6","text-lg","text-white","text-center","mx-auto"],[1,"relative","bottom-[0.15rem]"],[1,"underline",3,"click"]],template:function(e,t){e&1&&(xe(0,"p",0),Ve(1),Ut(2,"translate"),xe(3,"span",1),Ve(4),Ut(5,"translate"),Ne(),Ve(6,", "),xe(7,"span",1),Ve(8),Ut(9,"translate"),Ne(),Ve(10),Ut(11,"translate"),xe(12,"span",1),Ve(13),Ut(14,"translate"),Ne()(),xe(15,"div",2)(16,"div",3)(17,"span",4),Ve(18,"?"),Ne()(),xe(19,"button",5),nt("click",function(){return t.router.navigateByUrl("colofon")}),Ve(20),Ut(21,"translate"),Ne()()),e&2&&(oe(),St(" ",Gt(2,6,"search-in-combined-archives-of")," "),oe(3),Ht(Gt(5,8,"hua")),oe(4),Ht(Gt(9,10,"castle-amerongen")),oe(2),St(" ",Gt(11,12,"and")," "),oe(3),Ht(Gt(14,14,"razu")),oe(7),St(" ",Gt(21,16,"more-info")," "))},dependencies:[li]});let i=n;return i})();function m6(i,n){if(i&1){let r=Ct();xe(0,"button",1),nt("click",function(){xt(r);let e=Ee();return Nt(e.routing.goBackOrDefault())}),ke(1,"ng-icon",2),xe(2,"span"),Ve(3,"Terug"),Ne()()}if(i&2){let r=Ee();oe(),te("svg",r.featherArrowLeft)}}var a2=(()=>{let n=class n{constructor(o,e){this.details=o,this.routing=e,this.featherArrowLeft=Fr}};n.\u0275fac=function(e){return new(e||n)(be(Ft),be(Xr))},n.\u0275cmp=Fe({type:n,selectors:[["app-details-back-button"]],standalone:!0,features:[$e],decls:1,vars:1,consts:[["class","mt-2 mb-2 text-lg font-bold",3,"click",4,"ngIf"],[1,"mt-2","mb-2","text-lg","font-bold",3,"click"],[1,"relative","top-[0.15rem]","mr-2",3,"svg"]],template:function(e,t){e&1&&Me(0,m6,4,1,"button",0),e&2&&te("ngIf",t.details.showing.value)},dependencies:[pn,Ye]});let i=n;return i})();function p6(i,n){i&1&&ke(0,"p",2)}function f6(i,n){if(i&1&&ke(0,"app-node",3),i&2){let r=Ee();te("node",r.node)}}var l2=(()=>{let n=class n{constructor(o,e,t,a,d,s){this.route=o,this.nodes=e,this.sparql=t,this.routing=a,this.details=d,this.scroll=s,this.nodeId=null,this.loadingNodeData=!1,this.featherArrowLeft=Fr}ngOnInit(){this.route.paramMap.subscribe(o=>{let e=o.get("id");e&&(e=decodeURIComponent(e),this.scroll.onNavigateToDetails(e),this.initNodeById(e))})}initNodeById(o){return Le(this,null,function*(){this.node=void 0,this.nodeId=null,this.loadingNodeData=!0,setTimeout(()=>Le(this,null,function*(){this.nodeId=o;let e=yield this.sparql.getNode(this.nodeId),t=yield this.nodes.enrichWithIncomingRelations([e]);this.node=t[0]??e,this.loadingNodeData=!1}))})}};n.\u0275fac=function(e){return new(e||n)(be(Wn),be(vt),be(fn),be(Xr),be(Ft),be(Qr))},n.\u0275cmp=Fe({type:n,selectors:[["app-details"]],standalone:!0,features:[$e],decls:2,vars:2,consts:[["class","loading loading-spinner block",4,"ngIf"],[3,"node",4,"ngIf"],[1,"loading","loading-spinner","block"],[3,"node"]],template:function(e,t){e&1&&Me(0,p6,1,0,"p",0)(1,f6,1,1,"app-node",1),e&2&&(te("ngIf",t.loadingNodeData),oe(),te("ngIf",t.node))},dependencies:[nr,Ye]});let i=n;return i})();function g6(i,n){i&1&&ke(0,"span",3)}function v6(i,n){if(i&1){let r=Ct();xe(0,"button",1),nt("click",function(){xt(r);let e=Ee();return Nt(e.loadMore())}),Me(1,g6,1,0,"span",2),Ve(2),Ut(3,"translate"),Ne()}if(i&2){let r=Ee();te("disabled",r.search.isLoading.value),oe(),te("ngIf",r.search.isLoading.value),oe(),St(" ",Gt(3,3,"load-more-results"),`
`)}}var d2=(()=>{let n=class n{constructor(o){this.search=o}loadMore(){this.search.isLoading.value||this.search.execute(!1,!1)}};n.\u0275fac=function(e){return new(e||n)(be(Dn))},n.\u0275cmp=Fe({type:n,selectors:[["app-load-more-search-results-button"]],standalone:!0,features:[$e],decls:1,vars:1,consts:[["class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"btn","btn-primary",3,"click","disabled"],["class","loading loading-spinner loading-xs",4,"ngIf"],[1,"loading","loading-spinner","loading-xs"]],template:function(e,t){e&1&&Me(0,v6,4,5,"button",0),e&2&&te("ngIf",t.search.hasMoreResultsToLoad)},dependencies:[Ye,li]});let i=n;return i})();function y6(i,n){i&1&&ke(0,"span",3)}function w6(i,n){if(i&1&&(xe(0,"span"),Ve(1),Ne()),i&2){let r=Ee();oe(),Ht(r.numberOfHitsStr)}}var c2=(()=>{let n=class n{constructor(o,e,t){this.search=o,this.details=e,this.translate=t}get numberOfHitsStr(){return this.search.numberOfHits?this.search.numberOfHits===1?this.translate.instant("1-result"):`${zl(this.search.numberOfHits)}${this.search.numberOfHitsIsCappedByElastic?"+":""} ${this.translate.instant("results")}`:this.translate.instant("no-results-found")}};n.\u0275fac=function(e){return new(e||n)(be(Dn),be(Ft),be(yi))},n.\u0275cmp=Fe({type:n,selectors:[["app-search-hits-counter"]],standalone:!0,features:[$e],decls:3,vars:2,consts:[[1,"text-xl","mb-4","font-bold"],["class","loading loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"loading","loading-spinner"]],template:function(e,t){e&1&&(xe(0,"p",0),Me(1,y6,1,0,"span",1)(2,w6,2,1,"span",2),Ne()),e&2&&(oe(),te("ngIf",t.search.isLoading.value),oe(),te("ngIf",!t.search.isLoading.value&&!t.details.showing.value))},dependencies:[Ye]});let i=n;return i})();var _6=["scrollContainer"],x6=(i,n,r)=>[i,n,r],h2=(i,n)=>[i,n];function N6(i,n){i&1&&ke(0,"app-home-intro")}function b6(i,n){i&1&&ke(0,"app-home-intro-below-search")}function C6(i,n){i&1&&ke(0,"app-details-back-button",10)}function S6(i,n){if(i&1&&(xe(0,"div",11),ke(1,"app-filter-options"),Ne()),i&2){let r=Ee();te("ngClass",jc(1,h2,r.shouldShowHomeIntro||r.details.showing.value?"hidden":"",r.settings.showingFilterPanelOnSide()?"w-full lg:w-1/4 lg:overflow-y-auto":""))}}function T6(i,n){i&1&&ke(0,"app-details")}function I6(i,n){if(i&1&&ke(0,"app-nodes-grid",16),i&2){let r=Ee(2);te("nodes",r.search.results.value.nodes)}}function E6(i,n){if(i&1&&(kt(0),ke(1,"app-node",18),Pt()),i&2){let r=n.$implicit;oe(),te("node",r)}}function k6(i,n){if(i&1&&(kt(0),Me(1,E6,2,1,"ng-container",17),Pt()),i&2){let r=Ee(2);oe(),te("ngForOf",r.search.results.value==null?null:r.search.results.value.nodes)}}function L6(i,n){if(i&1&&(xe(0,"div")(1,"div",12),ke(2,"app-search-hits-counter",13)(3,"app-sort-select",14),Ne(),Me(4,I6,1,1,"app-nodes-grid",15)(5,k6,2,1,"ng-container",2),Ne()),i&2){let r=Ee();oe(4),te("ngIf",r.viewModes.current.value===r.ViewMode.Grid),oe(),te("ngIf",r.viewModes.current.value===r.ViewMode.List)}}function R6(i,n){i&1&&ke(0,"app-load-more-search-results-button")}var Kd=(()=>{let n=class n{constructor(o,e,t,a,d,s,c){this.search=o,this.viewModes=e,this.router=t,this.nodes=a,this.scroll=d,this.details=s,this.settings=c,this.ViewMode=Rn,this.Settings=qe,this.FilterPanelLocation=To,this.filter=Ii}ngOnInit(){}ngAfterViewInit(){this.scroll.initScrollContainer(this.scrollContainer)}get shouldShowHomeIntro(){return this.router.url===""||this.router.url==="/"?!0:!this.details.showing.value&&!this.search.hasDoneInitialSearch&&this.search.queryStr===""}};n.\u0275fac=function(e){return new(e||n)(be(Dn),be(Ur),be(Ot),be(vt),be(Qr),be(Ft),be(on))},n.\u0275cmp=Fe({type:n,selectors:[["app-search"]],viewQuery:function(e,t){if(e&1&&Ri(_6,5),e&2){let a;ui(a=mi())&&(t.scrollContainer=a.first)}},standalone:!0,features:[$e],decls:17,vars:16,consts:[["scrollContainer",""],[1,"absolute","top-1","right-4"],[4,"ngIf"],[1,"flex-grow-0","p-4","pb-2"],[1,"flex","flex-row","items-center"],[1,"flex-grow"],["class","px-4",4,"ngIf"],[1,"",3,"ngClass"],["class","px-4 pt-2",3,"ngClass",4,"ngIf"],[1,"p-4","pt-2","overflow-y-scroll","flex-grow","scroll-smooth",3,"ngClass"],[1,"px-4"],[1,"px-4","pt-2",3,"ngClass"],[1,"flex","flex-row"],[1,"w-1/2","lg:w-3/4"],[1,"w-1/2","lg:w-1/4","mb-2"],["class","w-full",3,"nodes",4,"ngIf"],[1,"w-full",3,"nodes"],[4,"ngFor","ngForOf"],[3,"node"]],template:function(e,t){e&1&&(xe(0,"app-view-container"),ke(1,"app-drawer")(2,"app-lang-switch",1)(3,"app-header"),Me(4,N6,1,0,"app-home-intro",2),xe(5,"div",3)(6,"div",4),ke(7,"app-search-input",5),Ne()(),Me(8,b6,1,0,"app-home-intro-below-search",2)(9,C6,1,0,"app-details-back-button",6),xe(10,"div",7),Me(11,S6,2,4,"div",8),xe(12,"div",9,0),Me(14,T6,1,0,"app-details",2)(15,L6,6,2,"div",2)(16,R6,1,0,"app-load-more-search-results-button",2),Ne()()()),e&2&&(oe(4),te("ngIf",t.shouldShowHomeIntro),oe(4),te("ngIf",t.shouldShowHomeIntro),oe(),te("ngIf",t.details.showing.value),oe(),te("ngClass",Vp(9,x6,t.settings.showingFilterPanelOnSide()?"flex flex-grow overflow-y-hidden flex-col":"",t.Settings.filtering.filterPanelLocation==t.FilterPanelLocation.Left?"lg:flex-row":"",t.Settings.filtering.filterPanelLocation==t.FilterPanelLocation.Right?"lg:flex-row-reverse":"")),oe(),te("ngIf",t.Settings.filtering.showFilterPanel),oe(),te("ngClass",jc(13,h2,t.shouldShowHomeIntro?"hidden":"",t.settings.showingFilterPanelOnSide()?"w-full lg:w-3/4":"")),oe(2),te("ngIf",t.details.showing.value),oe(),te("ngIf",!t.details.showing.value),oe(),te("ngIf",!t.details.showing.value))},dependencies:[nr,wt,K0,Wt,kd,Ye,r1,h1,Rd,Pd,p1,pi,r2,s2,l2,l1,d2,c2,a2,m1]});let i=n;return i})();var u2=(()=>{let n=class n{constructor(){this.HeaderView=ts}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Fe({type:n,selectors:[["app-colofon"]],standalone:!0,features:[$e],decls:44,vars:1,consts:[[3,"view"],[1,"p-8","pt-2","overflow-y-auto","h-full"],["href","https://netwerkdigitaalerfgoed.nl/","target","_blank"],[1,"list-disc","ml-8","mb-2"],["href","https://hetutrechtsarchief.nl/","target","_blank"],["href","https://www.kasteelamerongen.nl/","target","_blank"],["href","https://www.razu.nl/","target","_blank"],["href","https://simondirks.com","target","_blank"],["href","http://quintenswagerman.nl/","target","_blank"],["href","https://github.com/Simon-Dirks/view-a-LOD","target","_blank"]],template:function(e,t){e&1&&(xe(0,"app-view-container"),ke(1,"app-header",0),xe(2,"div",1)(3,"h2"),Ve(4,"Zoeken met Linked Open Data"),Ne(),xe(5,"p"),Ve(6," De collecties van Het Utrechts Archief, Kasteel Amerongen en het Regionaal Archief Zuid-Utrecht zijn dankzij Linked Open Data gezamenlijk doorzoekbaar op deze website. "),Ne(),xe(7,"h2"),Ve(8,"Kasteel Amerongen"),Ne(),xe(9,"p"),Ve(10," Kasteel Amerongen heeft een rijke geschiedenis die meer dan zeven eeuwen teruggaat. Rampen, oorlogen en familietwisten braken het kasteel soms letterlijk af, maar altijd herrees het weer glorieus uit haar eigen as. Op deze experimentele website ontdek je de geschiedenis van het kasteel en haar bewoners aan de hand van bronnen uit de collecties van Het Utrechts Archief, Kasteel Amerongen en het Regionaal Archief Zuid-Utrecht. "),Ne(),xe(11,"h2"),Ve(12,"Initiatiefnemers"),Ne(),xe(13,"div")(14,"p"),Ve(15," Deze experimentele website wordt mede mogelijk gemaakt door "),xe(16,"a",2),Ve(17,"Netwerk Digitaal Erfgoed"),Ne(),Ve(18," (NDE) en is een initiatief van: "),Ne(),xe(19,"ul",3)(20,"li")(21,"a",4),Ve(22,"Het Utrechts Archief"),Ne()(),xe(23,"li")(24,"a",5),Ve(25,"Kasteel Amerongen"),Ne()(),xe(26,"li")(27,"a",6),Ve(28,"Regionaal Archief Zuid-Utrecht"),Ne()()(),xe(29,"p"),Ve(30," De website is ontwikkeld door "),xe(31,"a",7),Ve(32,"Simon Dirks"),Ne(),Ve(33," en ontworpen door "),xe(34,"a",8),Ve(35,"Quinten Swagerman"),Ne(),Ve(36," in samenwerking met- en opdracht van de deelnemende instellingen. "),Ne()(),xe(37,"h2"),Ve(38,"Open Source"),Ne(),xe(39,"p"),Ve(40," De code is open source beschikbaar op "),xe(41,"a",9),Ve(42,"GitHub"),Ne(),Ve(43," (GPL-3.0). "),Ne()()()),e&2&&(oe(),te("view",t.HeaderView.ShowingColofon))},dependencies:[Rd,Pd],styles:["a[_ngcontent-%COMP%]{text-decoration-line:underline}h2[_ngcontent-%COMP%]{margin-top:1.5rem;margin-bottom:.25rem;font-size:1.5rem;line-height:2rem}p[_ngcontent-%COMP%]{margin-bottom:.5rem}"]});let i=n;return i})();var m2=[{path:"",component:Kd},{path:"search",component:Kd},{path:"colofon",component:u2},{path:"details/:id",component:Kd},{path:"**",redirectTo:"/"}];var P6="@",M6=(()=>{let n=class n{constructor(o,e,t,a,d){this.doc=o,this.delegate=e,this.zone=t,this.animationType=a,this.moduleImpl=d,this._rendererFactoryPromise=null,this.scheduler=We(zp,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-KIGESGT2.js")).catch(e=>{throw new zt(5300,!1)}).then(({\u0275createEngine:e,\u0275AnimationRendererFactory:t})=>{this._engine=e(this.animationType,this.doc,this.scheduler);let a=new t(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(o,e){let t=this.delegate.createRenderer(o,e);if(t.\u0275type===0)return t;typeof t.throwOnSyntheticProps=="boolean"&&(t.throwOnSyntheticProps=!1);let a=new wm(t);return e?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{let s=d.createRenderer(o,e);a.use(s)}).catch(d=>{a.use(t)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};n.\u0275fac=function(e){zc()},n.\u0275prov=He({token:n,factory:n.\u0275fac});let i=n;return i})(),wm=class{constructor(n){this.delegate=n,this.replay=[],this.\u0275type=1}use(n){if(this.delegate=n,this.replay!==null){for(let r of this.replay)r(n);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(n,r){return this.delegate.createElement(n,r)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}get destroyNode(){return this.delegate.destroyNode}appendChild(n,r){this.delegate.appendChild(n,r)}insertBefore(n,r,o,e){this.delegate.insertBefore(n,r,o,e)}removeChild(n,r,o){this.delegate.removeChild(n,r,o)}selectRootElement(n,r){return this.delegate.selectRootElement(n,r)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,r,o,e){this.delegate.setAttribute(n,r,o,e)}removeAttribute(n,r,o){this.delegate.removeAttribute(n,r,o)}addClass(n,r){this.delegate.addClass(n,r)}removeClass(n,r){this.delegate.removeClass(n,r)}setStyle(n,r,o,e){this.delegate.setStyle(n,r,o,e)}removeStyle(n,r,o){this.delegate.removeStyle(n,r,o)}setProperty(n,r,o){this.shouldReplay(r)&&this.replay.push(e=>e.setProperty(n,r,o)),this.delegate.setProperty(n,r,o)}setValue(n,r){this.delegate.setValue(n,r)}listen(n,r,o){return this.shouldReplay(r)&&this.replay.push(e=>e.listen(n,r,o)),this.delegate.listen(n,r,o)}shouldReplay(n){return this.replay!==null&&n.startsWith(P6)}};function p2(i="animations"){return Bc("NgAsyncAnimations"),hi([{provide:nl,useFactory:(n,r,o)=>new M6(n,r,o,i),deps:[mn,yl,un]},{provide:Fp,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}function A6(i){return typeof i=="string"?()=>{throw new Error(i)}:i}function f2(i,n){let r=n?A6(n):()=>{},o=!1;return(...e)=>o?r(...e):(o=!0,i(...e))}function w2(i){return i.endsWith("/")?i:`${i}/`}var O6=(i,n)=>{let r=n.createElement("script");return r.type="text/javascript",r.defer=!0,r.async=!0,r.src=i,r},D6=new tt("MATOMO_SCRIPT_FACTORY",{providedIn:"root",factory:()=>O6});function ec(i,n){if(i==null)throw new Error("Unexpected "+i+" value: "+n);return i}var F6=(()=>{let n=class n{constructor(){this.scriptFactory=We(D6),this.injector=We(kp),this.document=We(mn)}injectDOMScript(o){let e=Vn(this.injector,()=>this.scriptFactory(o,this.document)),t=ec(this.document.getElementsByTagName("script")[0],"no existing script found");ec(t.parentNode,"no script's parent node found").insertBefore(e,t)}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})(),$6="No Matomo configuration found! Have you included Matomo module using MatomoModule.forRoot() or provideMatomo()?",z6=new tt("MATOMO_ROUTER_ENABLED",{factory(){return!1}}),_m=new tt("MATOMO_CONFIGURATION"),Ra=new tt("INTERNAL_MATOMO_CONFIGURATION",{factory(){let o=ec(We(_m,{optional:!0}),$6),{mode:i,requireConsent:n}=o,r=Ki(o,["mode","requireConsent"]);return Pe({mode:i?B6(i):void 0,disabled:!1,enableLinkTracking:!0,trackAppInitialLoad:!We(z6),requireConsent:n?j6(n):"none",enableJSErrorTracking:!1,runOutsideAngularZone:!1,disableCampaignParameters:!1,acceptDoNotTrack:!1},r)}}),_2=new tt("DEFERRED_INTERNAL_MATOMO_CONFIGURATION",{factory:()=>{let i=We(Ra),n;return{configuration:new Promise(o=>n=o),markReady(o){ec(n,"resolveFn")(Pe(Pe({},i),o))}}}}),hR=new tt("ASYNC_INTERNAL_MATOMO_CONFIGURATION",{factory:()=>We(_2).configuration}),La=function(i){return i[i.AUTO=0]="AUTO",i[i.MANUAL=1]="MANUAL",i[i.AUTO_DEFERRED=2]="AUTO_DEFERRED",i}(La||{});function B6(i){switch(i){case La.AUTO:return"auto";case La.MANUAL:return"manual";case La.AUTO_DEFERRED:return"deferred";default:return i}}var Xd=function(i){return i[i.NONE=0]="NONE",i[i.COOKIE=1]="COOKIE",i[i.TRACKING=2]="TRACKING",i}(Xd||{});function j6(i){switch(i){case Xd.NONE:return"none";case Xd.COOKIE:return"cookie";case Xd.TRACKING:return"tracking";default:return i}}function q6(i){return i.mode==null||i.mode==="auto"||i.mode===La.AUTO}function x2(i){return i.siteId!=null&&i.trackerUrl!=null}function V6(i){return i.scriptUrl!=null&&!x2(i)}function H6(i){return x2(i)||N2(i)}function N2(i){return Array.isArray(i.trackers)}function U6(i){return N2(i)?i.trackers:[{trackerUrl:i.trackerUrl,siteId:i.siteId,trackerUrlSuffix:i.trackerUrlSuffix}]}function b2(){window._paq=window._paq||[]}function g2(i){let n=[...i];for(;n.length>0&&n[n.length-1]===void 0;)n.pop();return n}function G6(){let i=We(Ra).disabled,n=Uc(We(ki));return i||!n?new xm:new C2}var C2=(()=>{let n=class n{constructor(){this.ngZone=We(un),this.config=We(Ra),b2()}get(o){return this.pushFn(e=>e[o]())}pushFn(o){return new Promise(e=>{this.push([function(){e(o(this))}])})}push(o){this.config.runOutsideAngularZone?this.ngZone.runOutsideAngular(()=>{window._paq.push(g2(o))}):window._paq.push(g2(o))}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:()=>G6(),providedIn:"root"});let i=n;return i})(),xm=class{get(n){return Le(this,null,function*(){return Promise.reject("MatomoTracker is disabled")})}push(n){}pushFn(n){return Le(this,null,function*(){return Promise.reject("MatomoTracker is disabled")})}},W6="Matomo trackers have already been initialized",Z6="Matomo has already been initialized";function Q6(i){return typeof i=="object"&&Object.keys(i).length===1&&i.productCategory!=null}function Y6(i){return typeof i=="object"&&"productSKU"in i}var J6=(()=>{let n=class n{constructor(){this.delegate=We(C2),this._pageViewTracked=new Jt,this.pageViewTracked=this._pageViewTracked.asObservable(),We(Ap).onDestroy(()=>this._pageViewTracked.complete())}trackPageView(o){this.delegate.push(["trackPageView",o]),this._pageViewTracked.next()}trackEvent(o,e,t,a){this.delegate.push(["trackEvent",o,e,t,a])}trackSiteSearch(o,e,t){this.delegate.push(["trackSiteSearch",o,e,t])}trackGoal(o,e){this.delegate.push(["trackGoal",o,e])}trackLink(o,e){this.delegate.push(["trackLink",o,e])}trackAllContentImpressions(){this.delegate.push(["trackAllContentImpressions"])}trackVisibleContentImpressions(o,e){this.delegate.push(["trackVisibleContentImpressions",o,e])}trackContentImpressionsWithinNode(o){this.delegate.push(["trackContentImpressionsWithinNode",o])}trackContentInteractionNode(o,e){this.delegate.push(["trackContentInteractionNode",o,e])}trackContentImpression(o,e,t){this.delegate.push(["trackContentImpression",o,e,t])}trackContentInteraction(o,e,t,a){this.delegate.push(["trackContentInteraction",o,e,t,a])}logAllContentBlocksOnPage(){this.delegate.push(["logAllContentBlocksOnPage"])}ping(){this.delegate.push(["ping"])}enableHeartBeatTimer(o){this.delegate.push(["enableHeartBeatTimer",o])}enableLinkTracking(o=!1){this.delegate.push(["enableLinkTracking",o])}disablePerformanceTracking(){this.delegate.push(["disablePerformanceTracking"])}enableCrossDomainLinking(){this.delegate.push(["enableCrossDomainLinking"])}setCrossDomainLinkingTimeout(o){this.delegate.push(["setCrossDomainLinkingTimeout",o])}getCrossDomainLinkingUrlParameter(){return this.delegate.get("getCrossDomainLinkingUrlParameter")}setDocumentTitle(o){this.delegate.push(["setDocumentTitle",o])}setDomains(o){this.delegate.push(["setDomains",o])}setCustomUrl(o){this.delegate.push(["setCustomUrl",o])}setReferrerUrl(o){this.delegate.push(["setReferrerUrl",o])}setSiteId(o){this.delegate.push(["setSiteId",o])}setApiUrl(o){this.delegate.push(["setApiUrl",o])}setTrackerUrl(o){this.delegate.push(["setTrackerUrl",o])}addTracker(o,e){this.delegate.push(["addTracker",o,e])}getMatomoUrl(){return this.delegate.get("getMatomoUrl")}getPiwikUrl(){return this.delegate.get("getPiwikUrl")}getCurrentUrl(){return this.delegate.get("getCurrentUrl")}setDownloadClasses(o){this.delegate.push(["setDownloadClasses",o])}setDownloadExtensions(o){this.delegate.push(["setDownloadExtensions",o])}addDownloadExtensions(o){this.delegate.push(["addDownloadExtensions",o])}removeDownloadExtensions(o){this.delegate.push(["removeDownloadExtensions",o])}setIgnoreClasses(o){this.delegate.push(["setIgnoreClasses",o])}setLinkClasses(o){this.delegate.push(["setLinkClasses",o])}setLinkTrackingTimer(o){this.delegate.push(["setLinkTrackingTimer",o])}getLinkTrackingTimer(){return this.delegate.get("getLinkTrackingTimer")}discardHashTag(o){this.delegate.push(["discardHashTag",o])}setGenerationTimeMs(o){this.delegate.push(["setGenerationTimeMs",o])}setPagePerformanceTiming(o,e,t,a,d,s){let c;typeof o=="object"&&o?(c=o.networkTimeInMs,e=o.serverTimeInMs,t=o.transferTimeInMs,a=o.domProcessingTimeInMs,d=o.domCompletionTimeInMs,s=o.onloadTimeInMs):c=o,this.delegate.push(["setPagePerformanceTiming",c,e,t,a,d,s])}getCustomPagePerformanceTiming(){return this.delegate.get("getCustomPagePerformanceTiming")}appendToTrackingUrl(o){this.delegate.push(["appendToTrackingUrl",o])}setDoNotTrack(o){this.delegate.push(["setDoNotTrack",o])}killFrame(){this.delegate.push(["killFrame"])}redirectFile(o){this.delegate.push(["redirectFile",o])}setHeartBeatTimer(o,e){this.delegate.push(["setHeartBeatTimer",o,e])}getVisitorId(){return this.delegate.get("getVisitorId")}setVisitorId(o){this.delegate.push(["setVisitorId",o])}getVisitorInfo(){return this.delegate.get("getVisitorInfo")}getAttributionInfo(){return this.delegate.get("getAttributionInfo")}getAttributionCampaignName(){return this.delegate.get("getAttributionCampaignName")}getAttributionCampaignKeyword(){return this.delegate.get("getAttributionCampaignKeyword")}getAttributionReferrerTimestamp(){return this.delegate.get("getAttributionReferrerTimestamp")}getAttributionReferrerUrl(){return this.delegate.get("getAttributionReferrerUrl")}getUserId(){return this.delegate.get("getUserId")}setUserId(o){this.delegate.push(["setUserId",o])}resetUserId(){this.delegate.push(["resetUserId"])}setPageViewId(o){this.delegate.push(["setPageViewId",o])}getPageViewId(){return this.delegate.get("getPageViewId")}setCustomVariable(o,e,t,a){this.delegate.push(["setCustomVariable",o,e,t,a])}deleteCustomVariable(o,e){this.delegate.push(["deleteCustomVariable",o,e])}deleteCustomVariables(o){this.delegate.push(["deleteCustomVariables",o])}getCustomVariable(o,e){return this.delegate.pushFn(t=>t.getCustomVariable(o,e))}storeCustomVariablesInCookie(){this.delegate.push(["storeCustomVariablesInCookie"])}setCustomDimension(o,e){this.delegate.push(["setCustomDimension",o,e])}deleteCustomDimension(o){this.delegate.push(["deleteCustomDimension",o])}getCustomDimension(o){return this.delegate.pushFn(e=>e.getCustomDimension(o))}setCampaignNameKey(o){this.delegate.push(["setCampaignNameKey",o])}setCampaignKeywordKey(o){this.delegate.push(["setCampaignKeywordKey",o])}setConversionAttributionFirstReferrer(o){this.delegate.push(["setConversionAttributionFirstReferrer",o])}setEcommerceView(o,e,t,a){Q6(o)?this.delegate.push(["setEcommerceView",!1,!1,o.productCategory]):Y6(o)?this.delegate.push(["setEcommerceView",o.productSKU,o.productName,o.productCategory,o.price]):this.delegate.push(["setEcommerceView",o,e,t,a])}addEcommerceItem(o,e,t,a,d){typeof o=="string"?this.delegate.push(["addEcommerceItem",o,e,t,a,d]):this.delegate.push(["addEcommerceItem",o.productSKU,o.productName,o.productCategory,o.price,o.quantity])}removeEcommerceItem(o){this.delegate.push(["removeEcommerceItem",o])}clearEcommerceCart(){this.delegate.push(["clearEcommerceCart"])}getEcommerceItems(){return this.delegate.get("getEcommerceItems")}trackEcommerceCartUpdate(o){this.delegate.push(["trackEcommerceCartUpdate",o])}trackEcommerceOrder(o,e,t,a,d,s){this.delegate.push(["trackEcommerceOrder",o,e,t,a,d,s])}requireConsent(){this.delegate.push(["requireConsent"])}setConsentGiven(){this.delegate.push(["setConsentGiven"])}rememberConsentGiven(o){this.delegate.push(["rememberConsentGiven",o])}forgetConsentGiven(){this.delegate.push(["forgetConsentGiven"])}hasRememberedConsent(){return this.delegate.get("hasRememberedConsent")}getRememberedConsent(){return this.delegate.get("getRememberedConsent")}isConsentRequired(){return this.delegate.get("isConsentRequired")}requireCookieConsent(){this.delegate.push(["requireCookieConsent"])}setCookieConsentGiven(){this.delegate.push(["setCookieConsentGiven"])}rememberCookieConsentGiven(o){this.delegate.push(["rememberCookieConsentGiven",o])}forgetCookieConsentGiven(){this.delegate.push(["forgetCookieConsentGiven"])}getRememberedCookieConsent(){return this.delegate.get("getRememberedCookieConsent")}areCookiesEnabled(){return this.delegate.get("areCookiesEnabled")}optUserOut(){this.delegate.push(["optUserOut"])}forgetUserOptOut(){this.delegate.push(["forgetUserOptOut"])}isUserOptedOut(){return this.delegate.get("isUserOptedOut")}disableCookies(){this.delegate.push(["disableCookies"])}deleteCookies(){this.delegate.push(["deleteCookies"])}hasCookies(){return this.delegate.get("hasCookies")}setCookieNamePrefix(o){this.delegate.push(["setCookieNamePrefix",o])}setCookieDomain(o){this.delegate.push(["setCookieDomain",o])}setCookiePath(o){this.delegate.push(["setCookiePath",o])}setSecureCookie(o){this.delegate.push(["setSecureCookie",o])}setCookieSameSite(o){this.delegate.push(["setCookieSameSite",o])}setVisitorCookieTimeout(o){this.delegate.push(["setVisitorCookieTimeout",o])}setReferralCookieTimeout(o){this.delegate.push(["setReferralCookieTimeout",o])}setSessionCookieTimeout(o){this.delegate.push(["setSessionCookieTimeout",o])}addListener(o){this.delegate.push(["addListener",o])}setRequestMethod(o){this.delegate.push(["setRequestMethod",o])}setCustomRequestProcessing(o){this.delegate.push(["setCustomRequestProcessing",o])}setRequestContentType(o){this.delegate.push(["setRequestContentType",o])}disableQueueRequest(){this.delegate.push(["disableQueueRequest"])}setRequestQueueInterval(o){this.delegate.push(["setRequestQueueInterval",o])}disableAlwaysUseSendBeacon(){this.delegate.push(["disableAlwaysUseSendBeacon"])}alwaysUseSendBeacon(){this.delegate.push(["alwaysUseSendBeacon"])}enableJSErrorTracking(){this.delegate.push(["enableJSErrorTracking"])}enableFileTracking(){this.delegate.push(["enableFileTracking"])}setExcludedReferrers(...o){let e=o.flat();this.delegate.push(["setExcludedReferrers",e])}getExcludedReferrers(){return this.delegate.get("getExcludedReferrers")}disableBrowserFeatureDetection(){this.delegate.push(["disableBrowserFeatureDetection"])}enableBrowserFeatureDetection(){this.delegate.push(["enableBrowserFeatureDetection"])}disableCampaignParameters(){this.delegate.push(["disableCampaignParameters"])}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();function v2(i){return`${i}`}function y2(i,n){return n==null?w2(i)+K6:i+n}var K6="matomo.php",X6="matomo.js";function eb(){let i=We(Ra).disabled,n=Uc(We(ki));return i||!n?new Nm:new S2}var Nm=class{initialize(){}init(){}initializeTracker(n){}},S2=(()=>{let n=class n{constructor(){this.config=We(Ra),this.deferredConfig=We(_2),this.tracker=We(J6),this.scriptInjector=We(F6),this.initialize=f2(()=>{this.runPreInitTasks(),q6(this.config)&&this.injectMatomoScript(this.config)},Z6),this.injectMatomoScript=f2(o=>{if(H6(o)){let{scriptUrl:e}=o,[t,...a]=U6(o),d=e??w2(t.trackerUrl)+X6;this.registerMainTracker(t),this.registerAdditionalTrackers(a),this.scriptInjector.injectDOMScript(d)}else if(V6(o)){let{scriptUrl:e,trackers:t}=Pe({trackers:[]},o);this.registerAdditionalTrackers(t),this.scriptInjector.injectDOMScript(e)}this.deferredConfig.markReady(o)},W6),b2()}init(){this.initialize()}initializeTracker(o){this.injectMatomoScript(o)}registerMainTracker(o){let e=y2(o.trackerUrl,o.trackerUrlSuffix),t=v2(o.siteId);this.tracker.setTrackerUrl(e),this.tracker.setSiteId(t)}registerAdditionalTrackers(o){o.forEach(({trackerUrl:e,siteId:t,trackerUrlSuffix:a})=>{let d=y2(e,a),s=v2(t);this.tracker.addTracker(d,s)})}runPreInitTasks(){this.config.acceptDoNotTrack&&this.tracker.setDoNotTrack(!0),this.config.requireConsent==="cookie"?this.tracker.requireCookieConsent():this.config.requireConsent==="tracking"&&this.tracker.requireConsent(),this.config.enableJSErrorTracking&&this.tracker.enableJSErrorTracking(),this.config.disableCampaignParameters&&this.tracker.disableCampaignParameters(),this.config.trackAppInitialLoad&&this.tracker.trackPageView(),this.config.enableLinkTracking&&this.tracker.enableLinkTracking(this.config.enableLinkTracking==="enable-pseudo")}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=He({token:n,factory:()=>eb(),providedIn:"root"});let i=n;return i})(),tb=Symbol("MATOMO_PROVIDERS"),nb=Symbol("MATOMO_CHECKS");function T2(i,...n){let r=[{provide:el,multi:!0,useValue(){We(S2).initialize()}}],o=[];typeof i=="function"?r.push({provide:_m,useFactory:i}):r.push({provide:_m,useValue:i});for(let e of n)r.push(...e[tb]),o.push(e.kind);for(let e of n)e[nb]?.(o);return hi(r)}var tc=class{http;prefix;suffix;constructor(n,r="/assets/i18n/",o=".json"){this.http=n,this.prefix=r,this.suffix=o}getTranslation(n){return this.http.get(`${this.prefix}${n}${this.suffix}`)}};var ib=i=>new tc(i,"./assets/i18n/",".json"),I2=[Zf(m2),p2(),of(),Rp([ud.forRoot({loader:{provide:Ao,useFactory:ib,deps:[ks]}})])],ob=!!(qe.matomo&&qe.matomo.siteId&&qe.matomo.trackerUrl);ob&&I2.push(T2({siteId:qe.matomo.siteId,trackerUrl:qe.matomo.trackerUrl}));var E2={providers:I2};var k2=(()=>{let n=class n{constructor(o){this.translate=o,this.title="view-a-LOD",this.translate.addLangs(["nl","en"]),this.translate.setDefaultLang("nl"),this.translate.use("nl")}};n.\u0275fac=function(e){return new(e||n)(be(yi))},n.\u0275cmp=Fe({type:n,selectors:[["app-root"]],standalone:!0,features:[$e],decls:1,vars:0,template:function(e,t){e&1&&ke(0,"router-outlet")},dependencies:[pi,zh,ud]});let i=n;return i})();mf(k2,E2).catch(i=>console.error(i));
